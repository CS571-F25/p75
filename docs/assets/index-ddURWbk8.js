(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Mh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var dp={exports:{}},wu={};var bT;function GC(){if(bT)return wu;bT=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:l}}return wu.Fragment=e,wu.jsx=t,wu.jsxs=t,wu}var RT;function $C(){return RT||(RT=1,dp.exports=GC()),dp.exports}var S=$C(),mp={exports:{}},Ne={};var CT;function KC(){if(CT)return Ne;CT=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function O(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,P={};function $(V,J,ae){this.props=V,this.context=J,this.refs=P,this.updater=ae||z}$.prototype.isReactComponent={},$.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},$.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Z(){}Z.prototype=$.prototype;function j(V,J,ae){this.props=V,this.context=J,this.refs=P,this.updater=ae||z}var W=j.prototype=new Z;W.constructor=j,Q(W,$.prototype),W.isPureReactComponent=!0;var ue=Array.isArray;function le(){}var x={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function N(V,J,ae){var re=ae.ref;return{$$typeof:i,type:V,key:J,ref:re!==void 0?re:null,props:ae}}function L(V,J){return N(V.type,J,V.props)}function k(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function D(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return J[ae]})}var C=/\/+/g;function he(V,J){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):J.toString(36)}function de(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(le,le):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,J,ae,re,ye){var Ee=typeof V;(Ee==="undefined"||Ee==="boolean")&&(V=null);var Oe=!1;if(V===null)Oe=!0;else switch(Ee){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(V.$$typeof){case i:case e:Oe=!0;break;case v:return Oe=V._init,G(Oe(V._payload),J,ae,re,ye)}}if(Oe)return ye=ye(V),Oe=re===""?"."+he(V,0):re,ue(ye)?(ae="",Oe!=null&&(ae=Oe.replace(C,"$&/")+"/"),G(ye,J,ae,"",function(cn){return cn})):ye!=null&&(k(ye)&&(ye=L(ye,ae+(ye.key==null||V&&V.key===ye.key?"":(""+ye.key).replace(C,"$&/")+"/")+Oe)),J.push(ye)),1;Oe=0;var tt=re===""?".":re+":";if(ue(V))for(var Ke=0;Ke<V.length;Ke++)re=V[Ke],Ee=tt+he(re,Ke),Oe+=G(re,J,ae,Ee,ye);else if(Ke=O(V),typeof Ke=="function")for(V=Ke.call(V),Ke=0;!(re=V.next()).done;)re=re.value,Ee=tt+he(re,Ke++),Oe+=G(re,J,ae,Ee,ye);else if(Ee==="object"){if(typeof V.then=="function")return G(de(V),J,ae,re,ye);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function oe(V,J,ae){if(V==null)return V;var re=[],ye=0;return G(V,re,"","",function(Ee){return J.call(ae,Ee,ye++)}),re}function ce(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var Ie=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},xe={map:oe,forEach:function(V,J,ae){oe(V,function(){J.apply(this,arguments)},ae)},count:function(V){var J=0;return oe(V,function(){J++}),J},toArray:function(V){return oe(V,function(J){return J})||[]},only:function(V){if(!k(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ne.Activity=E,Ne.Children=xe,Ne.Component=$,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=j,Ne.StrictMode=s,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(V){return x.H.useMemoCache(V)}},Ne.cache=function(V){return function(){return V.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(V,J,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var re=Q({},V.props),ye=V.key;if(J!=null)for(Ee in J.key!==void 0&&(ye=""+J.key),J)!I.call(J,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&J.ref===void 0||(re[Ee]=J[Ee]);var Ee=arguments.length-2;if(Ee===1)re.children=ae;else if(1<Ee){for(var Oe=Array(Ee),tt=0;tt<Ee;tt++)Oe[tt]=arguments[tt+2];re.children=Oe}return N(V.type,ye,re)},Ne.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ne.createElement=function(V,J,ae){var re,ye={},Ee=null;if(J!=null)for(re in J.key!==void 0&&(Ee=""+J.key),J)I.call(J,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ye[re]=J[re]);var Oe=arguments.length-2;if(Oe===1)ye.children=ae;else if(1<Oe){for(var tt=Array(Oe),Ke=0;Ke<Oe;Ke++)tt[Ke]=arguments[Ke+2];ye.children=tt}if(V&&V.defaultProps)for(re in Oe=V.defaultProps,Oe)ye[re]===void 0&&(ye[re]=Oe[re]);return N(V,Ee,ye)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(V){return{$$typeof:m,render:V}},Ne.isValidElement=k,Ne.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:ce}},Ne.memo=function(V,J){return{$$typeof:g,type:V,compare:J===void 0?null:J}},Ne.startTransition=function(V){var J=x.T,ae={};x.T=ae;try{var re=V(),ye=x.S;ye!==null&&ye(ae,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(le,Ie)}catch(Ee){Ie(Ee)}finally{J!==null&&ae.types!==null&&(J.types=ae.types),x.T=J}},Ne.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ne.use=function(V){return x.H.use(V)},Ne.useActionState=function(V,J,ae){return x.H.useActionState(V,J,ae)},Ne.useCallback=function(V,J){return x.H.useCallback(V,J)},Ne.useContext=function(V){return x.H.useContext(V)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(V,J){return x.H.useDeferredValue(V,J)},Ne.useEffect=function(V,J){return x.H.useEffect(V,J)},Ne.useEffectEvent=function(V){return x.H.useEffectEvent(V)},Ne.useId=function(){return x.H.useId()},Ne.useImperativeHandle=function(V,J,ae){return x.H.useImperativeHandle(V,J,ae)},Ne.useInsertionEffect=function(V,J){return x.H.useInsertionEffect(V,J)},Ne.useLayoutEffect=function(V,J){return x.H.useLayoutEffect(V,J)},Ne.useMemo=function(V,J){return x.H.useMemo(V,J)},Ne.useOptimistic=function(V,J){return x.H.useOptimistic(V,J)},Ne.useReducer=function(V,J,ae){return x.H.useReducer(V,J,ae)},Ne.useRef=function(V){return x.H.useRef(V)},Ne.useState=function(V){return x.H.useState(V)},Ne.useSyncExternalStore=function(V,J,ae){return x.H.useSyncExternalStore(V,J,ae)},Ne.useTransition=function(){return x.H.useTransition()},Ne.version="19.2.0",Ne}var IT;function Ng(){return IT||(IT=1,mp.exports=KC()),mp.exports}var w=Ng();const jr=Mh(w);var pp={exports:{}},Au={},gp={exports:{}},yp={};var xT;function QC(){return xT||(xT=1,(function(i){function e(G,oe){var ce=G.length;G.push(oe);e:for(;0<ce;){var Ie=ce-1>>>1,xe=G[Ie];if(0<o(xe,oe))G[Ie]=oe,G[ce]=xe,ce=Ie;else break e}}function t(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var oe=G[0],ce=G.pop();if(ce!==oe){G[0]=ce;e:for(var Ie=0,xe=G.length,V=xe>>>1;Ie<V;){var J=2*(Ie+1)-1,ae=G[J],re=J+1,ye=G[re];if(0>o(ae,ce))re<xe&&0>o(ye,ae)?(G[Ie]=ye,G[re]=ce,Ie=re):(G[Ie]=ae,G[J]=ce,Ie=J);else if(re<xe&&0>o(ye,ce))G[Ie]=ye,G[re]=ce,Ie=re;else break e}}return oe}function o(G,oe){var ce=G.sortIndex-oe.sortIndex;return ce!==0?ce:G.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,E=null,A=3,O=!1,z=!1,Q=!1,P=!1,$=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function W(G){for(var oe=t(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=G)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(g)}}function ue(G){if(Q=!1,W(G),!z)if(t(p)!==null)z=!0,le||(le=!0,D());else{var oe=t(g);oe!==null&&de(ue,oe.startTime-G)}}var le=!1,x=-1,I=5,N=-1;function L(){return P?!0:!(i.unstable_now()-N<I)}function k(){if(P=!1,le){var G=i.unstable_now();N=G;var oe=!0;try{e:{z=!1,Q&&(Q=!1,Z(x),x=-1),O=!0;var ce=A;try{t:{for(W(G),E=t(p);E!==null&&!(E.expirationTime>G&&L());){var Ie=E.callback;if(typeof Ie=="function"){E.callback=null,A=E.priorityLevel;var xe=Ie(E.expirationTime<=G);if(G=i.unstable_now(),typeof xe=="function"){E.callback=xe,W(G),oe=!0;break t}E===t(p)&&s(p),W(G)}else s(p);E=t(p)}if(E!==null)oe=!0;else{var V=t(g);V!==null&&de(ue,V.startTime-G),oe=!1}}break e}finally{E=null,A=ce,O=!1}oe=void 0}}finally{oe?D():le=!1}}}var D;if(typeof j=="function")D=function(){j(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,he=C.port2;C.port1.onmessage=k,D=function(){he.postMessage(null)}}else D=function(){$(k,0)};function de(G,oe){x=$(function(){G(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(G){switch(A){case 1:case 2:case 3:var oe=3;break;default:oe=A}var ce=A;A=oe;try{return G()}finally{A=ce}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(G,oe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ce=A;A=G;try{return oe()}finally{A=ce}},i.unstable_scheduleCallback=function(G,oe,ce){var Ie=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ie+ce:Ie):ce=Ie,G){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ce+xe,G={id:v++,callback:oe,priorityLevel:G,startTime:ce,expirationTime:xe,sortIndex:-1},ce>Ie?(G.sortIndex=ce,e(g,G),t(p)===null&&G===t(g)&&(Q?(Z(x),x=-1):Q=!0,de(ue,ce-Ie))):(G.sortIndex=xe,e(p,G),z||O||(z=!0,le||(le=!0,D()))),G},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(G){var oe=A;return function(){var ce=A;A=oe;try{return G.apply(this,arguments)}finally{A=ce}}}})(yp)),yp}var NT;function YC(){return NT||(NT=1,gp.exports=QC()),gp.exports}var vp={exports:{}},dn={};var DT;function XC(){if(DT)return dn;DT=1;var i=Ng();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,dn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},dn.flushSync=function(p){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=v,s.d.f()}},dn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},dn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},dn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:O}):v==="script"&&s.d.X(p,{crossOrigin:E,integrity:A,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},dn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},dn.requestFormReset=function(p){s.d.r(p)},dn.unstable_batchedUpdates=function(p,g){return p(g)},dn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},dn.useFormStatus=function(){return c.H.useHostTransitionStatus()},dn.version="19.2.0",dn}var OT;function KS(){if(OT)return vp.exports;OT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),vp.exports=XC(),vp.exports}var MT;function WC(){if(MT)return Au;MT=1;var i=YC(),e=Ng(),t=KS();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,u=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),n;if(d===u)return p(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==u.return)a=h,u=d;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,u=d;break}if(b===u){_=!0,u=h,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,u=h;break}if(b===u){_=!0,u=d,a=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function v(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=v(n),r!==null)return r;n=n.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),j=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function D(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function he(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Q:return"Fragment";case $:return"Profiler";case P:return"StrictMode";case ue:return"Suspense";case le:return"SuspenseList";case N:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case z:return"Portal";case j:return n.displayName||"Context";case Z:return(n._context.displayName||"Context")+".Consumer";case W:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return r=n.displayName||null,r!==null?r:he(n.type)||"Memo";case I:r=n._payload,n=n._init;try{return he(n(r))}catch{}}return null}var de=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ie=[],xe=-1;function V(n){return{current:n}}function J(n){0>xe||(n.current=Ie[xe],Ie[xe]=null,xe--)}function ae(n,r){xe++,Ie[xe]=n.current,n.current=r}var re=V(null),ye=V(null),Ee=V(null),Oe=V(null);function tt(n,r){switch(ae(Ee,r),ae(ye,n),ae(re,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?QE(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=QE(r),n=YE(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}J(re),ae(re,n)}function Ke(){J(re),J(ye),J(Ee)}function cn(n){n.memoizedState!==null&&ae(Oe,n);var r=re.current,a=YE(r,n.type);r!==a&&(ae(ye,n),ae(re,a))}function _n(n){ye.current===n&&(J(re),J(ye)),Oe.current===n&&(J(Oe),_u._currentValue=ce)}var fn,hn;function Ot(n){if(fn===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);fn=r&&r[1]||"",hn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fn+n+hn}var Qe=!1;function En(n,r){if(!n||Qe)return"";Qe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var K=X}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(X){K=X}n.call(ne.prototype)}}else{try{throw Error()}catch(X){K=X}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var M=_.split(`
`),H=b.split(`
`);for(h=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(u===M.length||h===H.length)for(u=M.length-1,h=H.length-1;1<=u&&0<=h&&M[u]!==H[h];)h--;for(;1<=u&&0<=h;u--,h--)if(M[u]!==H[h]){if(u!==1||h!==1)do if(u--,h--,0>h||M[u]!==H[h]){var ee=`
`+M[u].replace(" at new "," at ");return n.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",n.displayName)),ee}while(1<=u&&0<=h);break}}}finally{Qe=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ot(a):""}function Tn(n,r){switch(n.tag){case 26:case 27:case 5:return Ot(n.type);case 16:return Ot("Lazy");case 13:return n.child!==r&&r!==null?Ot("Suspense Fallback"):Ot("Suspense");case 19:return Ot("SuspenseList");case 0:case 15:return En(n.type,!1);case 11:return En(n.type.render,!1);case 1:return En(n.type,!0);case 31:return Ot("Activity");default:return""}}function Vi(n){try{var r="",a=null;do r+=Tn(n,a),a=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ht=Object.prototype.hasOwnProperty,yt=i.unstable_scheduleCallback,bn=i.unstable_cancelCallback,ts=i.unstable_shouldYield,ns=i.unstable_requestPaint,Mt=i.unstable_now,pi=i.unstable_getCurrentPriorityLevel,Le=i.unstable_ImmediatePriority,Rn=i.unstable_UserBlockingPriority,Ue=i.unstable_NormalPriority,Vt=i.unstable_LowPriority,Xn=i.unstable_IdlePriority,Ye=i.log,to=i.unstable_setDisableYieldValue,Ln=null,Zt=null;function Wn(n){if(typeof Ye=="function"&&to(n),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Ln,n)}catch{}}var Ct=Math.clz32?Math.clz32:mc,dc=Math.log,no=Math.LN2;function mc(n){return n>>>=0,n===0?32:31-(dc(n)/no|0)|0}var ki=256,ra=262144,kt=4194304;function Pi(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Li(n,r,a){var u=n.pendingLanes;if(u===0)return 0;var h=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~d,u!==0?h=Pi(u):(_&=b,_!==0?h=Pi(_):a||(a=b&~n,a!==0&&(h=Pi(a))))):(b=u&~d,b!==0?h=Pi(b):_!==0?h=Pi(_):a||(a=u&~n,a!==0&&(h=Pi(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function gi(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function yd(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pc(){var n=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),n}function Ui(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function sa(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function vd(n,r,a,u,h,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,M=n.expirationTimes,H=n.hiddenUpdates;for(a=_&~a;0<a;){var ee=31-Ct(a),ne=1<<ee;b[ee]=0,M[ee]=-1;var K=H[ee];if(K!==null)for(H[ee]=null,ee=0;ee<K.length;ee++){var X=K[ee];X!==null&&(X.lane&=-536870913)}a&=~ne}u!==0&&aa(n,u,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~r))}function aa(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-Ct(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|a&261930}function Al(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-Ct(a),h=1<<u;h&r|n[u]&r&&(n[u]|=r),a&=~h}}function bl(n,r){var a=r&-r;return a=(a&42)!==0?1:oa(a),(a&(n.suspendedLanes|r))!==0?0:a}function oa(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function yr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function gc(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:vT(n.type))}function yi(n,r){var a=oe.p;try{return oe.p=n,r()}finally{oe.p=a}}var vi=Math.random().toString(36).slice(2),Pt="__reactFiber$"+vi,Yt="__reactProps$"+vi,ji="__reactContainer$"+vi,io="__reactEvents$"+vi,_d="__reactListeners$"+vi,yc="__reactHandles$"+vi,vc="__reactResources$"+vi,zi="__reactMarker$"+vi;function ro(n){delete n[Pt],delete n[Yt],delete n[io],delete n[_d],delete n[yc]}function Bi(n){var r=n[Pt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[ji]||a[Pt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=nT(n);n!==null;){if(a=n[Pt])return a;n=nT(n)}return r}n=a,a=n.parentNode}return null}function Jn(n){if(n=n[Pt]||n[ji]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Un(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Fi(n){var r=n[vc];return r||(r=n[vc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Lt(n){n[zi]=!0}var Rl=new Set,Cl={};function qi(n,r){Hi(n,r),Hi(n+"Capture",r)}function Hi(n,r){for(Cl[n]=r,n=0;n<r.length;n++)Rl.add(r[n])}var Il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xl={},Nl={};function _c(n){return ht.call(Nl,n)?!0:ht.call(xl,n)?!1:Il.test(n)?Nl[n]=!0:(xl[n]=!0,!1)}function so(n,r,a){if(_c(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function jn(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Ut(n,r,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+u)}}function Xt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function is(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Dl(n,r,a){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,d=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function it(n){if(!n._valueTracker){var r=is(n)?"checked":"value";n._valueTracker=Dl(n,r,""+n[r])}}function la(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=is(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function Gi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ua=/[\n"\\]/g;function Cn(n){return n.replace(ua,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ao(n,r,a,u,h,d,_,b){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Xt(r)):n.value!==""+Xt(r)&&(n.value=""+Xt(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?Ol(n,_,Xt(r)):a!=null?Ol(n,_,Xt(a)):u!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+Xt(b):n.removeAttribute("name")}function Ec(n,r,a,u,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){it(n);return}a=a!=null?""+Xt(a):"",r=r!=null?""+Xt(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),it(n)}function Ol(n,r,a){r==="number"&&Gi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function rs(n,r,a,u){if(n=n.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=r.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&u&&(n[a].defaultSelected=!0)}else{for(a=""+Xt(a),r=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,u&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function Tc(n,r,a){if(r!=null&&(r=""+Xt(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+Xt(a):""}function ss(n,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(de(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=Xt(r),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u),it(n)}function In(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Sc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ml(n,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,a):typeof a!="number"||a===0||Sc.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Vl(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var h in r)u=r[h],r.hasOwnProperty(h)&&a[h]!==u&&Ml(n,h,u)}else for(var d in r)r.hasOwnProperty(d)&&Ml(n,d,r[d])}function oo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),as=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(n){return as.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function _i(){}var kl=null;function Zn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var os=null,$i=null;function ca(n){var r=Jn(n);if(r&&(n=r.stateNode)){var a=n[Yt]||null;e:switch(n=r.stateNode,r.type){case"input":if(ao(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Cn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var h=u[Yt]||null;if(!h)throw Error(s(90));ao(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===n.form&&la(u)}break e;case"textarea":Tc(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&rs(n,!!a.multiple,r,!1)}}}var uo=!1;function ls(n,r,a){if(uo)return n(r,a);uo=!0;try{var u=n(r);return u}finally{if(uo=!1,(os!==null||$i!==null)&&(yf(),os&&(r=os,n=$i,$i=os=null,ca(r),n)))for(r=0;r<n.length;r++)ca(n[r])}}function Ei(n,r){var a=n.stateNode;if(a===null)return null;var u=a[Yt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fa=!1;if(ei)try{var at={};Object.defineProperty(at,"passive",{get:function(){fa=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{fa=!1}var Ki=null,Pl=null,ha=null;function Ll(){if(ha)return ha;var n,r=Pl,a=r.length,u,h="value"in Ki?Ki.value:Ki.textContent,d=h.length;for(n=0;n<a&&r[n]===h[n];n++);var _=a-n;for(u=1;u<=_&&r[a-u]===h[d-u];u++);return ha=h.slice(n,1<u?1-u:void 0)}function da(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function vr(){return!0}function Ti(){return!1}function en(n){function r(a,u,h,d,_){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?vr:Ti,this.isPropagationStopped=Ti,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),r}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=en(_r),us=E({},_r,{view:0,detail:0}),Ul=en(us),cs,co,Yi,fo=E({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Yi&&(Yi&&n.type==="mousemove"?(cs=n.screenX-Yi.screenX,co=n.screenY-Yi.screenY):co=cs=0,Yi=n),cs)},movementY:function(n){return"movementY"in n?n.movementY:co}}),jl=en(fo),ma=E({},fo,{dataTransfer:0}),Ac=en(ma),bc=E({},us,{relatedTarget:0}),pa=en(bc),zl=E({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),Rc=en(zl),ho=E({},_r,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Cc=en(ho),Ic=E({},_r,{data:0}),Xi=en(Ic),xc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oc(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Dc[n])?!!r[n]:!1}function fs(){return Oc}var Sn=E({},us,{key:function(n){if(n.key){var r=xc[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=da(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Nc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(n){return n.type==="keypress"?da(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?da(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Mc=en(Sn),Vc=E({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Er=en(Vc),f=E({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),y=en(f),T=E({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=en(T),F=E({},fo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=en(F),fe=E({},_r,{newState:0,oldState:0}),Me=en(fe),It=[9,13,27,32],Ze=ei&&"CompositionEvent"in window,vt=null;ei&&"documentMode"in document&&(vt=document.documentMode);var ti=ei&&"TextEvent"in window&&!vt,Wi=ei&&(!Ze||vt&&8<vt&&11>=vt),Si=" ",wi=!1;function ga(n,r){switch(n){case"keyup":return It.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mo(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var po=!1;function p1(n,r){switch(n){case"compositionend":return mo(r);case"keypress":return r.which!==32?null:(wi=!0,Si);case"textInput":return n=r.data,n===Si&&wi?null:n;default:return null}}function g1(n,r){if(po)return n==="compositionend"||!Ze&&ga(n,r)?(n=Ll(),ha=Pl=Ki=null,po=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Wi&&r.locale!=="ko"?null:r.data;default:return null}}var y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sv(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!y1[n.type]:r==="textarea"}function av(n,r,a,u){os?$i?$i.push(u):$i=[u]:os=u,r=Af(r,"onChange"),0<r.length&&(a=new Qi("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var Bl=null,Fl=null;function v1(n){FE(n,0)}function kc(n){var r=Un(n);if(la(r))return n}function ov(n,r){if(n==="change")return r}var lv=!1;if(ei){var Ed;if(ei){var Td="oninput"in document;if(!Td){var uv=document.createElement("div");uv.setAttribute("oninput","return;"),Td=typeof uv.oninput=="function"}Ed=Td}else Ed=!1;lv=Ed&&(!document.documentMode||9<document.documentMode)}function cv(){Bl&&(Bl.detachEvent("onpropertychange",fv),Fl=Bl=null)}function fv(n){if(n.propertyName==="value"&&kc(Fl)){var r=[];av(r,Fl,n,Zn(n)),ls(v1,r)}}function _1(n,r,a){n==="focusin"?(cv(),Bl=r,Fl=a,Bl.attachEvent("onpropertychange",fv)):n==="focusout"&&cv()}function E1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return kc(Fl)}function T1(n,r){if(n==="click")return kc(r)}function S1(n,r){if(n==="input"||n==="change")return kc(r)}function w1(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var zn=typeof Object.is=="function"?Object.is:w1;function ql(n,r){if(zn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!ht.call(r,h)||!zn(n[h],r[h]))return!1}return!0}function hv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function dv(n,r){var a=hv(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hv(a)}}function mv(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?mv(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function pv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Gi(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Gi(n.document)}return r}function Sd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var A1=ei&&"documentMode"in document&&11>=document.documentMode,go=null,wd=null,Hl=null,Ad=!1;function gv(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ad||go==null||go!==Gi(u)||(u=go,"selectionStart"in u&&Sd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Hl&&ql(Hl,u)||(Hl=u,u=Af(wd,"onSelect"),0<u.length&&(r=new Qi("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=go)))}function ya(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var yo={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},bd={},yv={};ei&&(yv=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function va(n){if(bd[n])return bd[n];if(!yo[n])return n;var r=yo[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in yv)return bd[n]=r[a];return n}var vv=va("animationend"),_v=va("animationiteration"),Ev=va("animationstart"),b1=va("transitionrun"),R1=va("transitionstart"),C1=va("transitioncancel"),Tv=va("transitionend"),Sv=new Map,Rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rd.push("scrollEnd");function Ai(n,r){Sv.set(n,r),qi(r,[n])}var Pc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ni=[],vo=0,Cd=0;function Lc(){for(var n=vo,r=Cd=vo=0;r<n;){var a=ni[r];ni[r++]=null;var u=ni[r];ni[r++]=null;var h=ni[r];ni[r++]=null;var d=ni[r];if(ni[r++]=null,u!==null&&h!==null){var _=u.pending;_===null?h.next=h:(h.next=_.next,_.next=h),u.pending=h}d!==0&&wv(a,h,d)}}function Uc(n,r,a,u){ni[vo++]=n,ni[vo++]=r,ni[vo++]=a,ni[vo++]=u,Cd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Id(n,r,a,u){return Uc(n,r,a,u),jc(n)}function _a(n,r){return Uc(n,null,null,r),jc(n)}function wv(n,r,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,u=d.alternate,u!==null&&(u.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,h&&r!==null&&(h=31-Ct(a),n=d.hiddenUpdates,u=n[h],u===null?n[h]=[r]:u.push(r),r.lane=a|536870912),d):null}function jc(n){if(50<hu)throw hu=0,Lm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var _o={};function I1(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(n,r,a,u){return new I1(n,r,a,u)}function xd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Tr(n,r){var a=n.alternate;return a===null?(a=Bn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Av(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function zc(n,r,a,u,h,d){var _=0;if(u=n,typeof n=="function")xd(n)&&(_=1);else if(typeof n=="string")_=MC(n,a,re.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case N:return n=Bn(31,a,r,h),n.elementType=N,n.lanes=d,n;case Q:return Ea(a.children,h,d,r);case P:_=8,h|=24;break;case $:return n=Bn(12,a,r,h|2),n.elementType=$,n.lanes=d,n;case ue:return n=Bn(13,a,r,h),n.elementType=ue,n.lanes=d,n;case le:return n=Bn(19,a,r,h),n.elementType=le,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case j:_=10;break e;case Z:_=9;break e;case W:_=11;break e;case x:_=14;break e;case I:_=16,u=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=Bn(_,a,r,h),r.elementType=n,r.type=u,r.lanes=d,r}function Ea(n,r,a,u){return n=Bn(7,n,u,r),n.lanes=a,n}function Nd(n,r,a){return n=Bn(6,n,null,r),n.lanes=a,n}function bv(n){var r=Bn(18,null,null,0);return r.stateNode=n,r}function Dd(n,r,a){return r=Bn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Rv=new WeakMap;function ii(n,r){if(typeof n=="object"&&n!==null){var a=Rv.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Vi(r)},Rv.set(n,r),r)}return{value:n,source:r,stack:Vi(r)}}var Eo=[],To=0,Bc=null,Gl=0,ri=[],si=0,hs=null,Ji=1,Zi="";function Sr(n,r){Eo[To++]=Gl,Eo[To++]=Bc,Bc=n,Gl=r}function Cv(n,r,a){ri[si++]=Ji,ri[si++]=Zi,ri[si++]=hs,hs=n;var u=Ji;n=Zi;var h=32-Ct(u)-1;u&=~(1<<h),a+=1;var d=32-Ct(r)+h;if(30<d){var _=h-h%5;d=(u&(1<<_)-1).toString(32),u>>=_,h-=_,Ji=1<<32-Ct(r)+h|a<<h|u,Zi=d+n}else Ji=1<<d|a<<h|u,Zi=n}function Od(n){n.return!==null&&(Sr(n,1),Cv(n,1,0))}function Md(n){for(;n===Bc;)Bc=Eo[--To],Eo[To]=null,Gl=Eo[--To],Eo[To]=null;for(;n===hs;)hs=ri[--si],ri[si]=null,Zi=ri[--si],ri[si]=null,Ji=ri[--si],ri[si]=null}function Iv(n,r){ri[si++]=Ji,ri[si++]=Zi,ri[si++]=hs,Ji=r.id,Zi=r.overflow,hs=n}var tn=null,pt=null,$e=!1,ds=null,ai=!1,Vd=Error(s(519));function ms(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(ii(r,n)),Vd}function xv(n){var r=n.stateNode,a=n.type,u=n.memoizedProps;switch(r[Pt]=n,r[Yt]=u,a){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(a=0;a<mu.length;a++)ze(mu[a],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ze("invalid",r),Ec(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ze("invalid",r);break;case"textarea":ze("invalid",r),ss(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||$E(r.textContent,a)?(u.popover!=null&&(ze("beforetoggle",r),ze("toggle",r)),u.onScroll!=null&&ze("scroll",r),u.onScrollEnd!=null&&ze("scrollend",r),u.onClick!=null&&(r.onclick=_i),r=!0):r=!1,r||ms(n,!0)}function Nv(n){for(tn=n.return;tn;)switch(tn.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:tn=tn.return}}function So(n){if(n!==tn)return!1;if(!$e)return Nv(n),$e=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Jm(n.type,n.memoizedProps)),a=!a),a&&pt&&ms(n),Nv(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));pt=tT(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));pt=tT(n)}else r===27?(r=pt,Is(n.type)?(n=ip,ip=null,pt=n):pt=r):pt=tn?li(n.stateNode.nextSibling):null;return!0}function Ta(){pt=tn=null,$e=!1}function kd(){var n=ds;return n!==null&&(On===null?On=n:On.push.apply(On,n),ds=null),n}function $l(n){ds===null?ds=[n]:ds.push(n)}var Pd=V(null),Sa=null,wr=null;function ps(n,r,a){ae(Pd,r._currentValue),r._currentValue=a}function Ar(n){n._currentValue=Pd.current,J(Pd)}function Ld(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function Ud(n,r,a,u){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var M=0;M<r.length;M++)if(b.context===r[M]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Ld(d.return,a,n),u||(_=null);break e}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Ld(_,a,n),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===n){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function wo(n,r,a,u){n=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;zn(h.pendingProps.value,_.value)||(n!==null?n.push(b):n=[b])}}else if(h===Oe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(_u):n=[_u])}h=h.return}n!==null&&Ud(r,n,a,u),r.flags|=262144}function Fc(n){for(n=n.firstContext;n!==null;){if(!zn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function wa(n){Sa=n,wr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function nn(n){return Dv(Sa,n)}function qc(n,r){return Sa===null&&wa(n),Dv(n,r)}function Dv(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},wr===null){if(n===null)throw Error(s(308));wr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else wr=wr.next=r;return a}var x1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},N1=i.unstable_scheduleCallback,D1=i.unstable_NormalPriority,jt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jd(){return{controller:new x1,data:new Map,refCount:0}}function Kl(n){n.refCount--,n.refCount===0&&N1(D1,function(){n.controller.abort()})}var Ql=null,zd=0,Ao=0,bo=null;function O1(n,r){if(Ql===null){var a=Ql=[];zd=0,Ao=qm(),bo={status:"pending",value:void 0,then:function(u){a.push(u)}}}return zd++,r.then(Ov,Ov),r}function Ov(){if(--zd===0&&Ql!==null){bo!==null&&(bo.status="fulfilled");var n=Ql;Ql=null,Ao=0,bo=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function M1(n,r){var a=[],u={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(u.status="rejected",u.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),u}var Mv=G.S;G.S=function(n,r){gE=Mt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&O1(n,r),Mv!==null&&Mv(n,r)};var Aa=V(null);function Bd(){var n=Aa.current;return n!==null?n:ft.pooledCache}function Hc(n,r){r===null?ae(Aa,Aa.current):ae(Aa,r.pool)}function Vv(){var n=Bd();return n===null?null:{parent:jt._currentValue,pool:n}}var Ro=Error(s(460)),Fd=Error(s(474)),Gc=Error(s(542)),$c={then:function(){}};function kv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Pv(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(_i,_i),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Uv(n),n;default:if(typeof r.status=="string")r.then(_i,_i);else{if(n=ft,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=u}},function(u){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Uv(n),n}throw Ra=r,Ro}}function ba(n){try{var r=n._init;return r(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ra=a,Ro):a}}var Ra=null;function Lv(){if(Ra===null)throw Error(s(459));var n=Ra;return Ra=null,n}function Uv(n){if(n===Ro||n===Gc)throw Error(s(483))}var Co=null,Yl=0;function Kc(n){var r=Yl;return Yl+=1,Co===null&&(Co=[]),Pv(Co,n,r)}function Xl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Qc(n,r){throw r.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function jv(n){function r(B,U){if(n){var q=B.deletions;q===null?(B.deletions=[U],B.flags|=16):q.push(U)}}function a(B,U){if(!n)return null;for(;U!==null;)r(B,U),U=U.sibling;return null}function u(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function h(B,U){return B=Tr(B,U),B.index=0,B.sibling=null,B}function d(B,U,q){return B.index=q,n?(q=B.alternate,q!==null?(q=q.index,q<U?(B.flags|=67108866,U):q):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function _(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function b(B,U,q,te){return U===null||U.tag!==6?(U=Nd(q,B.mode,te),U.return=B,U):(U=h(U,q),U.return=B,U)}function M(B,U,q,te){var Te=q.type;return Te===Q?ee(B,U,q.props.children,te,q.key):U!==null&&(U.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===I&&ba(Te)===U.type)?(U=h(U,q.props),Xl(U,q),U.return=B,U):(U=zc(q.type,q.key,q.props,null,B.mode,te),Xl(U,q),U.return=B,U)}function H(B,U,q,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Dd(q,B.mode,te),U.return=B,U):(U=h(U,q.children||[]),U.return=B,U)}function ee(B,U,q,te,Te){return U===null||U.tag!==7?(U=Ea(q,B.mode,te,Te),U.return=B,U):(U=h(U,q),U.return=B,U)}function ne(B,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Nd(""+U,B.mode,q),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case O:return q=zc(U.type,U.key,U.props,null,B.mode,q),Xl(q,U),q.return=B,q;case z:return U=Dd(U,B.mode,q),U.return=B,U;case I:return U=ba(U),ne(B,U,q)}if(de(U)||D(U))return U=Ea(U,B.mode,q,null),U.return=B,U;if(typeof U.then=="function")return ne(B,Kc(U),q);if(U.$$typeof===j)return ne(B,qc(B,U),q);Qc(B,U)}return null}function K(B,U,q,te){var Te=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Te!==null?null:b(B,U,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case O:return q.key===Te?M(B,U,q,te):null;case z:return q.key===Te?H(B,U,q,te):null;case I:return q=ba(q),K(B,U,q,te)}if(de(q)||D(q))return Te!==null?null:ee(B,U,q,te,null);if(typeof q.then=="function")return K(B,U,Kc(q),te);if(q.$$typeof===j)return K(B,U,qc(B,q),te);Qc(B,q)}return null}function X(B,U,q,te,Te){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return B=B.get(q)||null,b(U,B,""+te,Te);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case O:return B=B.get(te.key===null?q:te.key)||null,M(U,B,te,Te);case z:return B=B.get(te.key===null?q:te.key)||null,H(U,B,te,Te);case I:return te=ba(te),X(B,U,q,te,Te)}if(de(te)||D(te))return B=B.get(q)||null,ee(U,B,te,Te,null);if(typeof te.then=="function")return X(B,U,q,Kc(te),Te);if(te.$$typeof===j)return X(B,U,q,qc(U,te),Te);Qc(U,te)}return null}function ge(B,U,q,te){for(var Te=null,We=null,ve=U,Pe=U=0,Fe=null;ve!==null&&Pe<q.length;Pe++){ve.index>Pe?(Fe=ve,ve=null):Fe=ve.sibling;var Je=K(B,ve,q[Pe],te);if(Je===null){ve===null&&(ve=Fe);break}n&&ve&&Je.alternate===null&&r(B,ve),U=d(Je,U,Pe),We===null?Te=Je:We.sibling=Je,We=Je,ve=Fe}if(Pe===q.length)return a(B,ve),$e&&Sr(B,Pe),Te;if(ve===null){for(;Pe<q.length;Pe++)ve=ne(B,q[Pe],te),ve!==null&&(U=d(ve,U,Pe),We===null?Te=ve:We.sibling=ve,We=ve);return $e&&Sr(B,Pe),Te}for(ve=u(ve);Pe<q.length;Pe++)Fe=X(ve,B,Pe,q[Pe],te),Fe!==null&&(n&&Fe.alternate!==null&&ve.delete(Fe.key===null?Pe:Fe.key),U=d(Fe,U,Pe),We===null?Te=Fe:We.sibling=Fe,We=Fe);return n&&ve.forEach(function(Ms){return r(B,Ms)}),$e&&Sr(B,Pe),Te}function we(B,U,q,te){if(q==null)throw Error(s(151));for(var Te=null,We=null,ve=U,Pe=U=0,Fe=null,Je=q.next();ve!==null&&!Je.done;Pe++,Je=q.next()){ve.index>Pe?(Fe=ve,ve=null):Fe=ve.sibling;var Ms=K(B,ve,Je.value,te);if(Ms===null){ve===null&&(ve=Fe);break}n&&ve&&Ms.alternate===null&&r(B,ve),U=d(Ms,U,Pe),We===null?Te=Ms:We.sibling=Ms,We=Ms,ve=Fe}if(Je.done)return a(B,ve),$e&&Sr(B,Pe),Te;if(ve===null){for(;!Je.done;Pe++,Je=q.next())Je=ne(B,Je.value,te),Je!==null&&(U=d(Je,U,Pe),We===null?Te=Je:We.sibling=Je,We=Je);return $e&&Sr(B,Pe),Te}for(ve=u(ve);!Je.done;Pe++,Je=q.next())Je=X(ve,B,Pe,Je.value,te),Je!==null&&(n&&Je.alternate!==null&&ve.delete(Je.key===null?Pe:Je.key),U=d(Je,U,Pe),We===null?Te=Je:We.sibling=Je,We=Je);return n&&ve.forEach(function(HC){return r(B,HC)}),$e&&Sr(B,Pe),Te}function ut(B,U,q,te){if(typeof q=="object"&&q!==null&&q.type===Q&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case O:e:{for(var Te=q.key;U!==null;){if(U.key===Te){if(Te=q.type,Te===Q){if(U.tag===7){a(B,U.sibling),te=h(U,q.props.children),te.return=B,B=te;break e}}else if(U.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===I&&ba(Te)===U.type){a(B,U.sibling),te=h(U,q.props),Xl(te,q),te.return=B,B=te;break e}a(B,U);break}else r(B,U);U=U.sibling}q.type===Q?(te=Ea(q.props.children,B.mode,te,q.key),te.return=B,B=te):(te=zc(q.type,q.key,q.props,null,B.mode,te),Xl(te,q),te.return=B,B=te)}return _(B);case z:e:{for(Te=q.key;U!==null;){if(U.key===Te)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){a(B,U.sibling),te=h(U,q.children||[]),te.return=B,B=te;break e}else{a(B,U);break}else r(B,U);U=U.sibling}te=Dd(q,B.mode,te),te.return=B,B=te}return _(B);case I:return q=ba(q),ut(B,U,q,te)}if(de(q))return ge(B,U,q,te);if(D(q)){if(Te=D(q),typeof Te!="function")throw Error(s(150));return q=Te.call(q),we(B,U,q,te)}if(typeof q.then=="function")return ut(B,U,Kc(q),te);if(q.$$typeof===j)return ut(B,U,qc(B,q),te);Qc(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(a(B,U.sibling),te=h(U,q),te.return=B,B=te):(a(B,U),te=Nd(q,B.mode,te),te.return=B,B=te),_(B)):a(B,U)}return function(B,U,q,te){try{Yl=0;var Te=ut(B,U,q,te);return Co=null,Te}catch(ve){if(ve===Ro||ve===Gc)throw ve;var We=Bn(29,ve,null,B.mode);return We.lanes=te,We.return=B,We}finally{}}}var Ca=jv(!0),zv=jv(!1),gs=!1;function qd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ys(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function vs(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,r=jc(n),wv(n,null,a),r}return Uc(n,u,r,a),jc(n)}function Wl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,Al(n,a)}}function Gd(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var $d=!1;function Jl(){if($d){var n=bo;if(n!==null)throw n}}function Zl(n,r,a,u){$d=!1;var h=n.updateQueue;gs=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var M=b,H=M.next;M.next=null,_===null?d=H:_.next=H,_=M;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,b=ee.lastBaseUpdate,b!==_&&(b===null?ee.firstBaseUpdate=H:b.next=H,ee.lastBaseUpdate=M))}if(d!==null){var ne=h.baseState;_=0,ee=H=M=null,b=d;do{var K=b.lane&-536870913,X=K!==b.lane;if(X?(Be&K)===K:(u&K)===K){K!==0&&K===Ao&&($d=!0),ee!==null&&(ee=ee.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ge=n,we=b;K=r;var ut=a;switch(we.tag){case 1:if(ge=we.payload,typeof ge=="function"){ne=ge.call(ut,ne,K);break e}ne=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=we.payload,K=typeof ge=="function"?ge.call(ut,ne,K):ge,K==null)break e;ne=E({},ne,K);break e;case 2:gs=!0}}K=b.callback,K!==null&&(n.flags|=64,X&&(n.flags|=8192),X=h.callbacks,X===null?h.callbacks=[K]:X.push(K))}else X={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ee===null?(H=ee=X,M=ne):ee=ee.next=X,_|=K;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;X=b,b=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);ee===null&&(M=ne),h.baseState=M,h.firstBaseUpdate=H,h.lastBaseUpdate=ee,d===null&&(h.shared.lanes=0),ws|=_,n.lanes=_,n.memoizedState=ne}}function Bv(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Fv(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Bv(a[n],r)}var Io=V(null),Yc=V(0);function qv(n,r){n=Mr,ae(Yc,n),ae(Io,r),Mr=n|r.baseLanes}function Kd(){ae(Yc,Mr),ae(Io,Io.current)}function Qd(){Mr=Yc.current,J(Io),J(Yc)}var Fn=V(null),oi=null;function _s(n){var r=n.alternate;ae(xt,xt.current&1),ae(Fn,n),oi===null&&(r===null||Io.current!==null||r.memoizedState!==null)&&(oi=n)}function Yd(n){ae(xt,xt.current),ae(Fn,n),oi===null&&(oi=n)}function Hv(n){n.tag===22?(ae(xt,xt.current),ae(Fn,n),oi===null&&(oi=n)):Es()}function Es(){ae(xt,xt.current),ae(Fn,Fn.current)}function qn(n){J(Fn),oi===n&&(oi=null),J(xt)}var xt=V(0);function Xc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||tp(a)||np(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var br=0,Ve=null,ot=null,zt=null,Wc=!1,xo=!1,Ia=!1,Jc=0,eu=0,No=null,V1=0;function wt(){throw Error(s(321))}function Xd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!zn(n[a],r[a]))return!1;return!0}function Wd(n,r,a,u,h,d){return br=d,Ve=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=n===null||n.memoizedState===null?C_:hm,Ia=!1,d=a(u,h),Ia=!1,xo&&(d=$v(r,a,u,h)),Gv(n),d}function Gv(n){G.H=iu;var r=ot!==null&&ot.next!==null;if(br=0,zt=ot=Ve=null,Wc=!1,eu=0,No=null,r)throw Error(s(300));n===null||Bt||(n=n.dependencies,n!==null&&Fc(n)&&(Bt=!0))}function $v(n,r,a,u){Ve=n;var h=0;do{if(xo&&(No=null),eu=0,xo=!1,25<=h)throw Error(s(301));if(h+=1,zt=ot=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=I_,d=r(a,u)}while(xo);return d}function k1(){var n=G.H,r=n.useState()[0];return r=typeof r.then=="function"?tu(r):r,n=n.useState()[0],(ot!==null?ot.memoizedState:null)!==n&&(Ve.flags|=1024),r}function Jd(){var n=Jc!==0;return Jc=0,n}function Zd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function em(n){if(Wc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Wc=!1}br=0,zt=ot=Ve=null,xo=!1,eu=Jc=0,No=null}function wn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ve.memoizedState=zt=n:zt=zt.next=n,zt}function Nt(){if(ot===null){var n=Ve.alternate;n=n!==null?n.memoizedState:null}else n=ot.next;var r=zt===null?Ve.memoizedState:zt.next;if(r!==null)zt=r,ot=n;else{if(n===null)throw Ve.alternate===null?Error(s(467)):Error(s(310));ot=n,n={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},zt===null?Ve.memoizedState=zt=n:zt=zt.next=n}return zt}function Zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tu(n){var r=eu;return eu+=1,No===null&&(No=[]),n=Pv(No,n,r),r=Ve,(zt===null?r.memoizedState:zt.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?C_:hm),n}function ef(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return tu(n);if(n.$$typeof===j)return nn(n)}throw Error(s(438,String(n)))}function tm(n){var r=null,a=Ve.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Ve.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Zc(),Ve.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),u=0;u<n;u++)a[u]=L;return r.index++,a}function Rr(n,r){return typeof r=="function"?r(n):r}function tf(n){var r=Nt();return nm(r,ot,n)}function nm(n,r,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var h=n.baseQueue,d=u.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,u.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{r=h.next;var b=_=null,M=null,H=r,ee=!1;do{var ne=H.lane&-536870913;if(ne!==H.lane?(Be&ne)===ne:(br&ne)===ne){var K=H.revertLane;if(K===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ne===Ao&&(ee=!0);else if((br&K)===K){H=H.next,K===Ao&&(ee=!0);continue}else ne={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(b=M=ne,_=d):M=M.next=ne,Ve.lanes|=K,ws|=K;ne=H.action,Ia&&a(d,ne),d=H.hasEagerState?H.eagerState:a(d,ne)}else K={lane:ne,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(b=M=K,_=d):M=M.next=K,Ve.lanes|=ne,ws|=ne;H=H.next}while(H!==null&&H!==r);if(M===null?_=d:M.next=b,!zn(d,n.memoizedState)&&(Bt=!0,ee&&(a=bo,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=M,u.lastRenderedState=d}return h===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function im(n){var r=Nt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=n(d,_.action),_=_.next;while(_!==h);zn(d,r.memoizedState)||(Bt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,u]}function Kv(n,r,a){var u=Ve,h=Nt(),d=$e;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!zn((ot||h).memoizedState,a);if(_&&(h.memoizedState=a,Bt=!0),h=h.queue,am(Xv.bind(null,u,h,n),[n]),h.getSnapshot!==r||_||zt!==null&&zt.memoizedState.tag&1){if(u.flags|=2048,Do(9,{destroy:void 0},Yv.bind(null,u,h,a,r),null),ft===null)throw Error(s(349));d||(br&127)!==0||Qv(u,r,a)}return a}function Qv(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ve.updateQueue,r===null?(r=Zc(),Ve.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Yv(n,r,a,u){r.value=a,r.getSnapshot=u,Wv(r)&&Jv(n)}function Xv(n,r,a){return a(function(){Wv(r)&&Jv(n)})}function Wv(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!zn(n,a)}catch{return!0}}function Jv(n){var r=_a(n,2);r!==null&&Mn(r,n,2)}function rm(n){var r=wn();if(typeof n=="function"){var a=n;if(n=a(),Ia){Wn(!0);try{a()}finally{Wn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:n},r}function Zv(n,r,a,u){return n.baseState=a,nm(n,ot,typeof u=="function"?u:Rr)}function P1(n,r,a,u,h){if(sf(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,u(d),a=r.pending,a===null?(d.next=r.pending=d,e_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function e_(n,r){var a=r.action,u=r.payload,h=n.state;if(r.isTransition){var d=G.T,_={};G.T=_;try{var b=a(h,u),M=G.S;M!==null&&M(_,b),t_(n,r,b)}catch(H){sm(n,r,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(h,u),t_(n,r,d)}catch(H){sm(n,r,H)}}function t_(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){n_(n,r,u)},function(u){return sm(n,r,u)}):n_(n,r,a)}function n_(n,r,a){r.status="fulfilled",r.value=a,i_(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,e_(n,a)))}function sm(n,r,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,i_(r),r=r.next;while(r!==u)}n.action=null}function i_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function r_(n,r){return r}function s_(n,r){if($e){var a=ft.formState;if(a!==null){e:{var u=Ve;if($e){if(pt){t:{for(var h=pt,d=ai;h.nodeType!==8;){if(!d){h=null;break t}if(h=li(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){pt=li(h.nextSibling),u=h.data==="F!";break e}}ms(u)}u=!1}u&&(r=a[0])}}return a=wn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r_,lastRenderedState:r},a.queue=u,a=A_.bind(null,Ve,u),u.dispatch=a,u=rm(!1),d=fm.bind(null,Ve,!1,u.queue),u=wn(),h={state:r,dispatch:null,action:n,pending:null},u.queue=h,a=P1.bind(null,Ve,h,d,a),h.dispatch=a,u.memoizedState=n,[r,a,!1]}function a_(n){var r=Nt();return o_(r,ot,n)}function o_(n,r,a){if(r=nm(n,r,r_)[0],n=tf(Rr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=tu(r)}catch(_){throw _===Ro?Gc:_}else u=r;r=Nt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ve.flags|=2048,Do(9,{destroy:void 0},L1.bind(null,h,a),null)),[u,d,n]}function L1(n,r){n.action=r}function l_(n){var r=Nt(),a=ot;if(a!==null)return o_(r,a,n);Nt(),r=r.memoizedState,a=Nt();var u=a.queue.dispatch;return a.memoizedState=n,[r,u,!1]}function Do(n,r,a,u){return n={tag:n,create:a,deps:u,inst:r,next:null},r=Ve.updateQueue,r===null&&(r=Zc(),Ve.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n),n}function u_(){return Nt().memoizedState}function nf(n,r,a,u){var h=wn();Ve.flags|=n,h.memoizedState=Do(1|r,{destroy:void 0},a,u===void 0?null:u)}function rf(n,r,a,u){var h=Nt();u=u===void 0?null:u;var d=h.memoizedState.inst;ot!==null&&u!==null&&Xd(u,ot.memoizedState.deps)?h.memoizedState=Do(r,d,a,u):(Ve.flags|=n,h.memoizedState=Do(1|r,d,a,u))}function c_(n,r){nf(8390656,8,n,r)}function am(n,r){rf(2048,8,n,r)}function U1(n){Ve.flags|=4;var r=Ve.updateQueue;if(r===null)r=Zc(),Ve.updateQueue=r,r.events=[n];else{var a=r.events;a===null?r.events=[n]:a.push(n)}}function f_(n){var r=Nt().memoizedState;return U1({ref:r,nextImpl:n}),function(){if((et&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function h_(n,r){return rf(4,2,n,r)}function d_(n,r){return rf(4,4,n,r)}function m_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function p_(n,r,a){a=a!=null?a.concat([n]):null,rf(4,4,m_.bind(null,r,n),a)}function om(){}function g_(n,r){var a=Nt();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Xd(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function y_(n,r){var a=Nt();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Xd(r,u[1]))return u[0];if(u=n(),Ia){Wn(!0);try{n()}finally{Wn(!1)}}return a.memoizedState=[u,r],u}function lm(n,r,a){return a===void 0||(br&1073741824)!==0&&(Be&261930)===0?n.memoizedState=r:(n.memoizedState=a,n=vE(),Ve.lanes|=n,ws|=n,a)}function v_(n,r,a,u){return zn(a,r)?a:Io.current!==null?(n=lm(n,a,u),zn(n,r)||(Bt=!0),n):(br&42)===0||(br&1073741824)!==0&&(Be&261930)===0?(Bt=!0,n.memoizedState=a):(n=vE(),Ve.lanes|=n,ws|=n,r)}function __(n,r,a,u,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=G.T,b={};G.T=b,fm(n,!1,r,a);try{var M=h(),H=G.S;if(H!==null&&H(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var ee=M1(M,u);nu(n,r,ee,$n(n))}else nu(n,r,u,$n(n))}catch(ne){nu(n,r,{then:function(){},status:"rejected",reason:ne},$n())}finally{oe.p=d,_!==null&&b.types!==null&&(_.types=b.types),G.T=_}}function j1(){}function um(n,r,a,u){if(n.tag!==5)throw Error(s(476));var h=E_(n).queue;__(n,h,r,ce,a===null?j1:function(){return T_(n),a(u)})}function E_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:ce},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function T_(n){var r=E_(n);r.next===null&&(r=n.alternate.memoizedState),nu(n,r.next.queue,{},$n())}function cm(){return nn(_u)}function S_(){return Nt().memoizedState}function w_(){return Nt().memoizedState}function z1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=$n();n=ys(a);var u=vs(r,n,a);u!==null&&(Mn(u,r,a),Wl(u,r,a)),r={cache:jd()},n.payload=r;return}r=r.return}}function B1(n,r,a){var u=$n();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},sf(n)?b_(r,a):(a=Id(n,r,a,u),a!==null&&(Mn(a,n,u),R_(a,r,u)))}function A_(n,r,a){var u=$n();nu(n,r,a,u)}function nu(n,r,a,u){var h={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(sf(n))b_(r,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,b=d(_,a);if(h.hasEagerState=!0,h.eagerState=b,zn(b,_))return Uc(n,r,h,0),ft===null&&Lc(),!1}catch{}finally{}if(a=Id(n,r,h,u),a!==null)return Mn(a,n,u),R_(a,r,u),!0}return!1}function fm(n,r,a,u){if(u={lane:2,revertLane:qm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},sf(n)){if(r)throw Error(s(479))}else r=Id(n,a,u,2),r!==null&&Mn(r,n,2)}function sf(n){var r=n.alternate;return n===Ve||r!==null&&r===Ve}function b_(n,r){xo=Wc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function R_(n,r,a){if((a&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,Al(n,a)}}var iu={readContext:nn,use:ef,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};iu.useEffectEvent=wt;var C_={readContext:nn,use:ef,useCallback:function(n,r){return wn().memoizedState=[n,r===void 0?null:r],n},useContext:nn,useEffect:c_,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,nf(4194308,4,m_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return nf(4194308,4,n,r)},useInsertionEffect:function(n,r){nf(4,2,n,r)},useMemo:function(n,r){var a=wn();r=r===void 0?null:r;var u=n();if(Ia){Wn(!0);try{n()}finally{Wn(!1)}}return a.memoizedState=[u,r],u},useReducer:function(n,r,a){var u=wn();if(a!==void 0){var h=a(r);if(Ia){Wn(!0);try{a(r)}finally{Wn(!1)}}}else h=r;return u.memoizedState=u.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},u.queue=n,n=n.dispatch=B1.bind(null,Ve,n),[u.memoizedState,n]},useRef:function(n){var r=wn();return n={current:n},r.memoizedState=n},useState:function(n){n=rm(n);var r=n.queue,a=A_.bind(null,Ve,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:om,useDeferredValue:function(n,r){var a=wn();return lm(a,n,r)},useTransition:function(){var n=rm(!1);return n=__.bind(null,Ve,n.queue,!0,!1),wn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var u=Ve,h=wn();if($e){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ft===null)throw Error(s(349));(Be&127)!==0||Qv(u,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,c_(Xv.bind(null,u,d,n),[n]),u.flags|=2048,Do(9,{destroy:void 0},Yv.bind(null,u,d,a,r),null),a},useId:function(){var n=wn(),r=ft.identifierPrefix;if($e){var a=Zi,u=Ji;a=(u&~(1<<32-Ct(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Jc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=V1++,r="_"+r+"r_"+a.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:cm,useFormState:s_,useActionState:s_,useOptimistic:function(n){var r=wn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=fm.bind(null,Ve,!0,a),a.dispatch=r,[n,r]},useMemoCache:tm,useCacheRefresh:function(){return wn().memoizedState=z1.bind(null,Ve)},useEffectEvent:function(n){var r=wn(),a={impl:n};return r.memoizedState=a,function(){if((et&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},hm={readContext:nn,use:ef,useCallback:g_,useContext:nn,useEffect:am,useImperativeHandle:p_,useInsertionEffect:h_,useLayoutEffect:d_,useMemo:y_,useReducer:tf,useRef:u_,useState:function(){return tf(Rr)},useDebugValue:om,useDeferredValue:function(n,r){var a=Nt();return v_(a,ot.memoizedState,n,r)},useTransition:function(){var n=tf(Rr)[0],r=Nt().memoizedState;return[typeof n=="boolean"?n:tu(n),r]},useSyncExternalStore:Kv,useId:S_,useHostTransitionStatus:cm,useFormState:a_,useActionState:a_,useOptimistic:function(n,r){var a=Nt();return Zv(a,ot,n,r)},useMemoCache:tm,useCacheRefresh:w_};hm.useEffectEvent=f_;var I_={readContext:nn,use:ef,useCallback:g_,useContext:nn,useEffect:am,useImperativeHandle:p_,useInsertionEffect:h_,useLayoutEffect:d_,useMemo:y_,useReducer:im,useRef:u_,useState:function(){return im(Rr)},useDebugValue:om,useDeferredValue:function(n,r){var a=Nt();return ot===null?lm(a,n,r):v_(a,ot.memoizedState,n,r)},useTransition:function(){var n=im(Rr)[0],r=Nt().memoizedState;return[typeof n=="boolean"?n:tu(n),r]},useSyncExternalStore:Kv,useId:S_,useHostTransitionStatus:cm,useFormState:l_,useActionState:l_,useOptimistic:function(n,r){var a=Nt();return ot!==null?Zv(a,ot,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:tm,useCacheRefresh:w_};I_.useEffectEvent=f_;function dm(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:E({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var mm={enqueueSetState:function(n,r,a){n=n._reactInternals;var u=$n(),h=ys(u);h.payload=r,a!=null&&(h.callback=a),r=vs(n,h,u),r!==null&&(Mn(r,n,u),Wl(r,n,u))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=$n(),h=ys(u);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=vs(n,h,u),r!==null&&(Mn(r,n,u),Wl(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=$n(),u=ys(a);u.tag=2,r!=null&&(u.callback=r),r=vs(n,u,a),r!==null&&(Mn(r,n,a),Wl(r,n,a))}};function x_(n,r,a,u,h,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,d,_):r.prototype&&r.prototype.isPureReactComponent?!ql(a,u)||!ql(h,d):!0}function N_(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&mm.enqueueReplaceState(r,r.state,null)}function xa(n,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(n=n.defaultProps){a===r&&(a=E({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}function D_(n){Pc(n)}function O_(n){console.error(n)}function M_(n){Pc(n)}function af(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function V_(n,r,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function pm(n,r,a){return a=ys(a),a.tag=3,a.payload={element:null},a.callback=function(){af(n,r)},a}function k_(n){return n=ys(n),n.tag=3,n}function P_(n,r,a,u){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=u.value;n.payload=function(){return h(d)},n.callback=function(){V_(r,a,u)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){V_(r,a,u),typeof h!="function"&&(As===null?As=new Set([this]):As.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function F1(n,r,a,u,h){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&wo(r,a,h,!0),a=Fn.current,a!==null){switch(a.tag){case 31:case 13:return oi===null?vf():a.alternate===null&&At===0&&(At=3),a.flags&=-257,a.flags|=65536,a.lanes=h,u===$c?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),zm(n,u,h)),!1;case 22:return a.flags|=65536,u===$c?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),zm(n,u,h)),!1}throw Error(s(435,a.tag))}return zm(n,u,h),vf(),!1}if($e)return r=Fn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,u!==Vd&&(n=Error(s(422),{cause:u}),$l(ii(n,a)))):(u!==Vd&&(r=Error(s(423),{cause:u}),$l(ii(r,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,u=ii(u,a),h=pm(n.stateNode,u,h),Gd(n,h),At!==4&&(At=2)),!1;var d=Error(s(520),{cause:u});if(d=ii(d,a),fu===null?fu=[d]:fu.push(d),At!==4&&(At=2),r===null)return!0;u=ii(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=pm(a.stateNode,u,n),Gd(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(As===null||!As.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=k_(h),P_(h,n,a,u),Gd(a,h),!1}a=a.return}while(a!==null);return!1}var gm=Error(s(461)),Bt=!1;function rn(n,r,a,u){r.child=n===null?zv(r,null,a,u):Ca(r,n.child,a,u)}function L_(n,r,a,u,h){a=a.render;var d=r.ref;if("ref"in u){var _={};for(var b in u)b!=="ref"&&(_[b]=u[b])}else _=u;return wa(r),u=Wd(n,r,a,_,d,h),b=Jd(),n!==null&&!Bt?(Zd(n,r,h),Cr(n,r,h)):($e&&b&&Od(r),r.flags|=1,rn(n,r,u,h),r.child)}function U_(n,r,a,u,h){if(n===null){var d=a.type;return typeof d=="function"&&!xd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,j_(n,r,d,u,h)):(n=zc(a.type,null,u,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Am(n,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ql,a(_,u)&&n.ref===r.ref)return Cr(n,r,h)}return r.flags|=1,n=Tr(d,u),n.ref=r.ref,n.return=r,r.child=n}function j_(n,r,a,u,h){if(n!==null){var d=n.memoizedProps;if(ql(d,u)&&n.ref===r.ref)if(Bt=!1,r.pendingProps=u=d,Am(n,h))(n.flags&131072)!==0&&(Bt=!0);else return r.lanes=n.lanes,Cr(n,r,h)}return ym(n,r,a,u,h)}function z_(n,r,a,u){var h=u.children,d=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(u=r.child=n.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~d}else u=0,r.child=null;return B_(n,r,d,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Hc(r,d!==null?d.cachePool:null),d!==null?qv(r,d):Kd(),Hv(r);else return u=r.lanes=536870912,B_(n,r,d!==null?d.baseLanes|a:a,a,u)}else d!==null?(Hc(r,d.cachePool),qv(r,d),Es(),r.memoizedState=null):(n!==null&&Hc(r,null),Kd(),Es());return rn(n,r,h,a),r.child}function ru(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function B_(n,r,a,u,h){var d=Bd();return d=d===null?null:{parent:jt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},n!==null&&Hc(r,null),Kd(),Hv(r),n!==null&&wo(n,r,u,!0),r.childLanes=h,null}function of(n,r){return r=uf({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function F_(n,r,a){return Ca(r,n.child,null,a),n=of(r,r.pendingProps),n.flags|=2,qn(r),r.memoizedState=null,n}function q1(n,r,a){var u=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,n===null){if($e){if(u.mode==="hidden")return n=of(r,u),r.lanes=536870912,ru(null,n);if(Yd(r),(n=pt)?(n=eT(n,ai),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:hs!==null?{id:Ji,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},a=bv(n),a.return=r,r.child=a,tn=r,pt=null)):n=null,n===null)throw ms(r);return r.lanes=536870912,null}return of(r,u)}var d=n.memoizedState;if(d!==null){var _=d.dehydrated;if(Yd(r),h)if(r.flags&256)r.flags&=-257,r=F_(n,r,a);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(Bt||wo(n,r,a,!1),h=(a&n.childLanes)!==0,Bt||h){if(u=ft,u!==null&&(_=bl(u,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,_a(n,_),Mn(u,n,_),gm;vf(),r=F_(n,r,a)}else n=d.treeContext,pt=li(_.nextSibling),tn=r,$e=!0,ds=null,ai=!1,n!==null&&Iv(r,n),r=of(r,u),r.flags|=4096;return r}return n=Tr(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function lf(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function ym(n,r,a,u,h){return wa(r),a=Wd(n,r,a,u,void 0,h),u=Jd(),n!==null&&!Bt?(Zd(n,r,h),Cr(n,r,h)):($e&&u&&Od(r),r.flags|=1,rn(n,r,a,h),r.child)}function q_(n,r,a,u,h,d){return wa(r),r.updateQueue=null,a=$v(r,u,a,h),Gv(n),u=Jd(),n!==null&&!Bt?(Zd(n,r,d),Cr(n,r,d)):($e&&u&&Od(r),r.flags|=1,rn(n,r,a,d),r.child)}function H_(n,r,a,u,h){if(wa(r),r.stateNode===null){var d=_o,_=a.contextType;typeof _=="object"&&_!==null&&(d=nn(_)),d=new a(u,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=mm,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=u,d.state=r.memoizedState,d.refs={},qd(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?nn(_):_o,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(dm(r,a,_,u),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&mm.enqueueReplaceState(d,d.state,null),Zl(r,u,d,h),Jl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){d=r.stateNode;var b=r.memoizedProps,M=xa(a,b);d.props=M;var H=d.context,ee=a.contextType;_=_o,typeof ee=="object"&&ee!==null&&(_=nn(ee));var ne=a.getDerivedStateFromProps;ee=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,ee||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==_)&&N_(r,d,u,_),gs=!1;var K=r.memoizedState;d.state=K,Zl(r,u,d,h),Jl(),H=r.memoizedState,b||K!==H||gs?(typeof ne=="function"&&(dm(r,a,ne,u),H=r.memoizedState),(M=gs||x_(r,a,M,u,K,H,_))?(ee||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=H),d.props=u,d.state=H,d.context=_,u=M):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{d=r.stateNode,Hd(n,r),_=r.memoizedProps,ee=xa(a,_),d.props=ee,ne=r.pendingProps,K=d.context,H=a.contextType,M=_o,typeof H=="object"&&H!==null&&(M=nn(H)),b=a.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ne||K!==M)&&N_(r,d,u,M),gs=!1,K=r.memoizedState,d.state=K,Zl(r,u,d,h),Jl();var X=r.memoizedState;_!==ne||K!==X||gs||n!==null&&n.dependencies!==null&&Fc(n.dependencies)?(typeof b=="function"&&(dm(r,a,b,u),X=r.memoizedState),(ee=gs||x_(r,a,ee,u,K,X,M)||n!==null&&n.dependencies!==null&&Fc(n.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,X,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,X,M)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),d.props=u,d.state=X,d.context=M,u=ee):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),u=!1)}return d=u,lf(n,r),u=(r.flags&128)!==0,d||u?(d=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&u?(r.child=Ca(r,n.child,null,h),r.child=Ca(r,null,a,h)):rn(n,r,a,h),r.memoizedState=d.state,n=r.child):n=Cr(n,r,h),n}function G_(n,r,a,u){return Ta(),r.flags|=256,rn(n,r,a,u),r.child}var vm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _m(n){return{baseLanes:n,cachePool:Vv()}}function Em(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Gn),n}function $_(n,r,a){var u=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(xt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if($e){if(h?_s(r):Es(),(n=pt)?(n=eT(n,ai),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:hs!==null?{id:Ji,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},a=bv(n),a.return=r,r.child=a,tn=r,pt=null)):n=null,n===null)throw ms(r);return np(n)?r.lanes=32:r.lanes=536870912,null}var b=u.children;return u=u.fallback,h?(Es(),h=r.mode,b=uf({mode:"hidden",children:b},h),u=Ea(u,h,a,null),b.return=r,u.return=r,b.sibling=u,r.child=b,u=r.child,u.memoizedState=_m(a),u.childLanes=Em(n,_,a),r.memoizedState=vm,ru(null,u)):(_s(r),Tm(r,b))}var M=n.memoizedState;if(M!==null&&(b=M.dehydrated,b!==null)){if(d)r.flags&256?(_s(r),r.flags&=-257,r=Sm(n,r,a)):r.memoizedState!==null?(Es(),r.child=n.child,r.flags|=128,r=null):(Es(),b=u.fallback,h=r.mode,u=uf({mode:"visible",children:u.children},h),b=Ea(b,h,a,null),b.flags|=2,u.return=r,b.return=r,u.sibling=b,r.child=u,Ca(r,n.child,null,a),u=r.child,u.memoizedState=_m(a),u.childLanes=Em(n,_,a),r.memoizedState=vm,r=ru(null,u));else if(_s(r),np(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var H=_.dgst;_=H,u=Error(s(419)),u.stack="",u.digest=_,$l({value:u,source:null,stack:null}),r=Sm(n,r,a)}else if(Bt||wo(n,r,a,!1),_=(a&n.childLanes)!==0,Bt||_){if(_=ft,_!==null&&(u=bl(_,a),u!==0&&u!==M.retryLane))throw M.retryLane=u,_a(n,u),Mn(_,n,u),gm;tp(b)||vf(),r=Sm(n,r,a)}else tp(b)?(r.flags|=192,r.child=n.child,r=null):(n=M.treeContext,pt=li(b.nextSibling),tn=r,$e=!0,ds=null,ai=!1,n!==null&&Iv(r,n),r=Tm(r,u.children),r.flags|=4096);return r}return h?(Es(),b=u.fallback,h=r.mode,M=n.child,H=M.sibling,u=Tr(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,H!==null?b=Tr(H,b):(b=Ea(b,h,a,null),b.flags|=2),b.return=r,u.return=r,u.sibling=b,r.child=u,ru(null,u),u=r.child,b=n.child.memoizedState,b===null?b=_m(a):(h=b.cachePool,h!==null?(M=jt._currentValue,h=h.parent!==M?{parent:M,pool:M}:h):h=Vv(),b={baseLanes:b.baseLanes|a,cachePool:h}),u.memoizedState=b,u.childLanes=Em(n,_,a),r.memoizedState=vm,ru(n.child,u)):(_s(r),a=n.child,n=a.sibling,a=Tr(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=a,r.memoizedState=null,a)}function Tm(n,r){return r=uf({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function uf(n,r){return n=Bn(22,n,null,r),n.lanes=0,n}function Sm(n,r,a){return Ca(r,n.child,null,a),n=Tm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function K_(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Ld(n.return,r,a)}function wm(n,r,a,u,h,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Q_(n,r,a){var u=r.pendingProps,h=u.revealOrder,d=u.tail;u=u.children;var _=xt.current,b=(_&2)!==0;if(b?(_=_&1|2,r.flags|=128):_&=1,ae(xt,_),rn(n,r,u,a),u=$e?Gl:0,!b&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&K_(n,a,r);else if(n.tag===19)K_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)n=a.alternate,n!==null&&Xc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),wm(r,!1,h,a,d,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&Xc(n)===null){r.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}wm(r,!0,a,null,d,u);break;case"together":wm(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Cr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),ws|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(wo(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Tr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Tr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Am(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Fc(n)))}function H1(n,r,a){switch(r.tag){case 3:tt(r,r.stateNode.containerInfo),ps(r,jt,n.memoizedState.cache),Ta();break;case 27:case 5:cn(r);break;case 4:tt(r,r.stateNode.containerInfo);break;case 10:ps(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Yd(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(_s(r),r.flags|=128,null):(a&r.child.childLanes)!==0?$_(n,r,a):(_s(r),n=Cr(n,r,a),n!==null?n.sibling:null);_s(r);break;case 19:var h=(n.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(wo(n,r,a,!1),u=(a&r.childLanes)!==0),h){if(u)return Q_(n,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(xt,xt.current),u)break;return null;case 22:return r.lanes=0,z_(n,r,a,r.pendingProps);case 24:ps(r,jt,n.memoizedState.cache)}return Cr(n,r,a)}function Y_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Bt=!0;else{if(!Am(n,a)&&(r.flags&128)===0)return Bt=!1,H1(n,r,a);Bt=(n.flags&131072)!==0}else Bt=!1,$e&&(r.flags&1048576)!==0&&Cv(r,Gl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=ba(r.elementType),r.type=n,typeof n=="function")xd(n)?(u=xa(n,u),r.tag=1,r=H_(null,r,n,u,a)):(r.tag=0,r=ym(null,r,n,u,a));else{if(n!=null){var h=n.$$typeof;if(h===W){r.tag=11,r=L_(null,r,n,u,a);break e}else if(h===x){r.tag=14,r=U_(null,r,n,u,a);break e}}throw r=he(n)||n,Error(s(306,r,""))}}return r;case 0:return ym(n,r,r.type,r.pendingProps,a);case 1:return u=r.type,h=xa(u,r.pendingProps),H_(n,r,u,h,a);case 3:e:{if(tt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));u=r.pendingProps;var d=r.memoizedState;h=d.element,Hd(n,r),Zl(r,u,null,a);var _=r.memoizedState;if(u=_.cache,ps(r,jt,u),u!==d.cache&&Ud(r,[jt],a,!0),Jl(),u=_.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=G_(n,r,u,a);break e}else if(u!==h){h=ii(Error(s(424)),r),$l(h),r=G_(n,r,u,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(pt=li(n.firstChild),tn=r,$e=!0,ds=null,ai=!0,a=zv(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ta(),u===h){r=Cr(n,r,a);break e}rn(n,r,u,a)}r=r.child}return r;case 26:return lf(n,r),n===null?(a=aT(r.type,null,r.pendingProps,null))?r.memoizedState=a:$e||(a=r.type,n=r.pendingProps,u=bf(Ee.current).createElement(a),u[Pt]=r,u[Yt]=n,sn(u,a,n),Lt(u),r.stateNode=u):r.memoizedState=aT(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return cn(r),n===null&&$e&&(u=r.stateNode=iT(r.type,r.pendingProps,Ee.current),tn=r,ai=!0,h=pt,Is(r.type)?(ip=h,pt=li(u.firstChild)):pt=h),rn(n,r,r.pendingProps.children,a),lf(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&$e&&((h=u=pt)&&(u=EC(u,r.type,r.pendingProps,ai),u!==null?(r.stateNode=u,tn=r,pt=li(u.firstChild),ai=!1,h=!0):h=!1),h||ms(r)),cn(r),h=r.type,d=r.pendingProps,_=n!==null?n.memoizedProps:null,u=d.children,Jm(h,d)?u=null:_!==null&&Jm(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=Wd(n,r,k1,null,null,a),_u._currentValue=h),lf(n,r),rn(n,r,u,a),r.child;case 6:return n===null&&$e&&((n=a=pt)&&(a=TC(a,r.pendingProps,ai),a!==null?(r.stateNode=a,tn=r,pt=null,n=!0):n=!1),n||ms(r)),null;case 13:return $_(n,r,a);case 4:return tt(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Ca(r,null,u,a):rn(n,r,u,a),r.child;case 11:return L_(n,r,r.type,r.pendingProps,a);case 7:return rn(n,r,r.pendingProps,a),r.child;case 8:return rn(n,r,r.pendingProps.children,a),r.child;case 12:return rn(n,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,ps(r,r.type,u.value),rn(n,r,u.children,a),r.child;case 9:return h=r.type._context,u=r.pendingProps.children,wa(r),h=nn(h),u=u(h),r.flags|=1,rn(n,r,u,a),r.child;case 14:return U_(n,r,r.type,r.pendingProps,a);case 15:return j_(n,r,r.type,r.pendingProps,a);case 19:return Q_(n,r,a);case 31:return q1(n,r,a);case 22:return z_(n,r,a,r.pendingProps);case 24:return wa(r),u=nn(jt),n===null?(h=Bd(),h===null&&(h=ft,d=jd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:u,cache:h},qd(r),ps(r,jt,h)):((n.lanes&a)!==0&&(Hd(n,r),Zl(r,null,null,a),Jl()),h=n.memoizedState,d=r.memoizedState,h.parent!==u?(h={parent:u,cache:u},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),ps(r,jt,u)):(u=d.cache,ps(r,jt,u),u!==h.cache&&Ud(r,[jt],a,!0))),rn(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ir(n){n.flags|=4}function bm(n,r,a,u,h){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(h&335544128)===h)if(n.stateNode.complete)n.flags|=8192;else if(SE())n.flags|=8192;else throw Ra=$c,Fd}else n.flags&=-16777217}function X_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!fT(r))if(SE())n.flags|=8192;else throw Ra=$c,Fd}function cf(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?pc():536870912,n.lanes|=r,ko|=r)}function su(n,r){if(!$e)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function gt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function G1(n,r,a){var u=r.pendingProps;switch(Md(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(r),null;case 1:return gt(r),null;case 3:return a=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ar(jt),Ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(So(r)?Ir(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,kd())),gt(r),null;case 26:var h=r.type,d=r.memoizedState;return n===null?(Ir(r),d!==null?(gt(r),X_(r,d)):(gt(r),bm(r,h,null,u,a))):d?d!==n.memoizedState?(Ir(r),gt(r),X_(r,d)):(gt(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&Ir(r),gt(r),bm(r,h,n,u,a)),null;case 27:if(_n(r),a=Ee.current,h=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Ir(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return gt(r),null}n=re.current,So(r)?xv(r):(n=iT(h,u,a),r.stateNode=n,Ir(r))}return gt(r),null;case 5:if(_n(r),h=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Ir(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return gt(r),null}if(d=re.current,So(r))xv(r);else{var _=bf(Ee.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?d.multiple=!0:u.size&&(d.size=u.size);break;default:d=typeof u.is=="string"?_.createElement(h,{is:u.is}):_.createElement(h)}}d[Pt]=r,d[Yt]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(sn(d,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ir(r)}}return gt(r),bm(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,a),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&Ir(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ee.current,So(r)){if(n=r.stateNode,a=r.memoizedProps,u=null,h=tn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}n[Pt]=r,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||$E(n.nodeValue,a)),n||ms(r,!0)}else n=bf(n).createTextNode(u),n[Pt]=r,r.stateNode=n}return gt(r),null;case 31:if(a=r.memoizedState,n===null||n.memoizedState!==null){if(u=So(r),a!==null){if(n===null){if(!u)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[Pt]=r}else Ta(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),n=!1}else a=kd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return r.flags&256?(qn(r),r):(qn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return gt(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=So(r),u!==null&&u.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Pt]=r}else Ta(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),h=!1}else h=kd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(qn(r),r):(qn(r),null)}return qn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,n=n!==null&&n.memoizedState!==null,a&&(u=r.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),d=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==h&&(u.flags|=2048)),a!==n&&a&&(r.child.flags|=8192),cf(r,r.updateQueue),gt(r),null);case 4:return Ke(),n===null&&Km(r.stateNode.containerInfo),gt(r),null;case 10:return Ar(r.type),gt(r),null;case 19:if(J(xt),u=r.memoizedState,u===null)return gt(r),null;if(h=(r.flags&128)!==0,d=u.rendering,d===null)if(h)su(u,!1);else{if(At!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=Xc(n),d!==null){for(r.flags|=128,su(u,!1),n=d.updateQueue,r.updateQueue=n,cf(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Av(a,n),a=a.sibling;return ae(xt,xt.current&1|2),$e&&Sr(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&Mt()>pf&&(r.flags|=128,h=!0,su(u,!1),r.lanes=4194304)}else{if(!h)if(n=Xc(d),n!==null){if(r.flags|=128,h=!0,n=n.updateQueue,r.updateQueue=n,cf(r,n),su(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!$e)return gt(r),null}else 2*Mt()-u.renderingStartTime>pf&&a!==536870912&&(r.flags|=128,h=!0,su(u,!1),r.lanes=4194304);u.isBackwards?(d.sibling=r.child,r.child=d):(n=u.last,n!==null?n.sibling=d:r.child=d,u.last=d)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Mt(),n.sibling=null,a=xt.current,ae(xt,h?a&1|2:a&1),$e&&Sr(r,u.treeForkCount),n):(gt(r),null);case 22:case 23:return qn(r),Qd(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(gt(r),r.subtreeFlags&6&&(r.flags|=8192)):gt(r),a=r.updateQueue,a!==null&&cf(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),n!==null&&J(Aa),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ar(jt),gt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function $1(n,r){switch(Md(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Ar(jt),Ke(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return _n(r),null;case 31:if(r.memoizedState!==null){if(qn(r),r.alternate===null)throw Error(s(340));Ta()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(qn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ta()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return J(xt),null;case 4:return Ke(),null;case 10:return Ar(r.type),null;case 22:case 23:return qn(r),Qd(),n!==null&&J(Aa),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Ar(jt),null;case 25:return null;default:return null}}function W_(n,r){switch(Md(r),r.tag){case 3:Ar(jt),Ke();break;case 26:case 27:case 5:_n(r);break;case 4:Ke();break;case 31:r.memoizedState!==null&&qn(r);break;case 13:qn(r);break;case 19:J(xt);break;case 10:Ar(r.type);break;case 22:case 23:qn(r),Qd(),n!==null&&J(Aa);break;case 24:Ar(jt)}}function au(n,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var h=u.next;a=h;do{if((a.tag&n)===n){u=void 0;var d=a.create,_=a.inst;u=d(),_.destroy=u}a=a.next}while(a!==h)}}catch(b){st(r,r.return,b)}}function Ts(n,r,a){try{var u=r.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var d=h.next;u=d;do{if((u.tag&n)===n){var _=u.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=r;var M=a,H=b;try{H()}catch(ee){st(h,M,ee)}}}u=u.next}while(u!==d)}}catch(ee){st(r,r.return,ee)}}function J_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Fv(r,a)}catch(u){st(n,n.return,u)}}}function Z_(n,r,a){a.props=xa(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){st(n,r,u)}}function ou(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(h){st(n,r,h)}}function er(n,r){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(h){st(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(n,r,h)}else a.current=null}function eE(n){var r=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(h){st(n,n.return,h)}}function Rm(n,r,a){try{var u=n.stateNode;mC(u,n.type,a,r),u[Yt]=r}catch(h){st(n,n.return,h)}}function tE(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Is(n.type)||n.tag===4}function Cm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||tE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Is(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Im(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=_i));else if(u!==4&&(u===27&&Is(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Im(n,r,a),n=n.sibling;n!==null;)Im(n,r,a),n=n.sibling}function ff(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&(u===27&&Is(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(ff(n,r,a),n=n.sibling;n!==null;)ff(n,r,a),n=n.sibling}function nE(n){var r=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);sn(r,u,a),r[Pt]=n,r[Yt]=a}catch(d){st(n,n.return,d)}}var xr=!1,Ft=!1,xm=!1,iE=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function K1(n,r){if(n=n.containerInfo,Xm=Of,n=pv(n),Sd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,M=-1,H=0,ee=0,ne=n,K=null;t:for(;;){for(var X;ne!==a||h!==0&&ne.nodeType!==3||(b=_+h),ne!==d||u!==0&&ne.nodeType!==3||(M=_+u),ne.nodeType===3&&(_+=ne.nodeValue.length),(X=ne.firstChild)!==null;)K=ne,ne=X;for(;;){if(ne===n)break t;if(K===a&&++H===h&&(b=_),K===d&&++ee===u&&(M=_),(X=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=X}a=b===-1||M===-1?null:{start:b,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wm={focusedElem:n,selectionRange:a},Of=!1,Wt=r;Wt!==null;)if(r=Wt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Wt=n;else for(;Wt!==null;){switch(r=Wt,d=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)h=n[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,u=a.stateNode;try{var ge=xa(a.type,h);n=u.getSnapshotBeforeUpdate(ge,d),u.__reactInternalSnapshotBeforeUpdate=n}catch(we){st(a,a.return,we)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)ep(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ep(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Wt=n;break}Wt=r.return}}function rE(n,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Dr(n,a),u&4&&au(5,a);break;case 1:if(Dr(n,a),u&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(_){st(a,a.return,_)}else{var h=xa(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(_){st(a,a.return,_)}}u&64&&J_(a),u&512&&ou(a,a.return);break;case 3:if(Dr(n,a),u&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Fv(n,r)}catch(_){st(a,a.return,_)}}break;case 27:r===null&&u&4&&nE(a);case 26:case 5:Dr(n,a),r===null&&u&4&&eE(a),u&512&&ou(a,a.return);break;case 12:Dr(n,a);break;case 31:Dr(n,a),u&4&&oE(n,a);break;case 13:Dr(n,a),u&4&&lE(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=nC.bind(null,a),SC(n,a))));break;case 22:if(u=a.memoizedState!==null||xr,!u){r=r!==null&&r.memoizedState!==null||Ft,h=xr;var d=Ft;xr=u,(Ft=r)&&!d?Or(n,a,(a.subtreeFlags&8772)!==0):Dr(n,a),xr=h,Ft=d}break;case 30:break;default:Dr(n,a)}}function sE(n){var r=n.alternate;r!==null&&(n.alternate=null,sE(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&ro(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var _t=null,xn=!1;function Nr(n,r,a){for(a=a.child;a!==null;)aE(n,r,a),a=a.sibling}function aE(n,r,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Ln,a)}catch{}switch(a.tag){case 26:Ft||er(a,r),Nr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ft||er(a,r);var u=_t,h=xn;Is(a.type)&&(_t=a.stateNode,xn=!1),Nr(n,r,a),gu(a.stateNode),_t=u,xn=h;break;case 5:Ft||er(a,r);case 6:if(u=_t,h=xn,_t=null,Nr(n,r,a),_t=u,xn=h,_t!==null)if(xn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(d){st(a,r,d)}else try{_t.removeChild(a.stateNode)}catch(d){st(a,r,d)}break;case 18:_t!==null&&(xn?(n=_t,JE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),qo(n)):JE(_t,a.stateNode));break;case 4:u=_t,h=xn,_t=a.stateNode.containerInfo,xn=!0,Nr(n,r,a),_t=u,xn=h;break;case 0:case 11:case 14:case 15:Ts(2,a,r),Ft||Ts(4,a,r),Nr(n,r,a);break;case 1:Ft||(er(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Z_(a,r,u)),Nr(n,r,a);break;case 21:Nr(n,r,a);break;case 22:Ft=(u=Ft)||a.memoizedState!==null,Nr(n,r,a),Ft=u;break;default:Nr(n,r,a)}}function oE(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{qo(n)}catch(a){st(r,r.return,a)}}}function lE(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{qo(n)}catch(a){st(r,r.return,a)}}function Q1(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new iE),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new iE),r;default:throw Error(s(435,n.tag))}}function hf(n,r){var a=Q1(n);r.forEach(function(u){if(!a.has(u)){a.add(u);var h=iC.bind(null,n,u);u.then(h,h)}})}function Nn(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u],d=n,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Is(b.type)){_t=b.stateNode,xn=!1;break e}break;case 5:_t=b.stateNode,xn=!1;break e;case 3:case 4:_t=b.stateNode.containerInfo,xn=!0;break e}b=b.return}if(_t===null)throw Error(s(160));aE(d,_,h),_t=null,xn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)uE(r,n),r=r.sibling}var bi=null;function uE(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Nn(r,n),Dn(n),u&4&&(Ts(3,n,n.return),au(3,n),Ts(5,n,n.return));break;case 1:Nn(r,n),Dn(n),u&512&&(Ft||a===null||er(a,a.return)),u&64&&xr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var h=bi;if(Nn(r,n),Dn(n),u&512&&(Ft||a===null||er(a,a.return)),u&4){var d=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":d=h.getElementsByTagName("title")[0],(!d||d[zi]||d[Pt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(u),h.head.insertBefore(d,h.querySelector("head > title"))),sn(d,u,a),d[Pt]=n,Lt(d),u=d;break e;case"link":var _=uT("link","href",h).get(u+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=h.createElement(u),sn(d,u,a),h.head.appendChild(d);break;case"meta":if(_=uT("meta","content",h).get(u+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=h.createElement(u),sn(d,u,a),h.head.appendChild(d);break;default:throw Error(s(468,u))}d[Pt]=n,Lt(d),u=d}n.stateNode=u}else cT(h,n.type,n.stateNode);else n.stateNode=lT(h,u,n.memoizedProps);else d!==u?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,u===null?cT(h,n.type,n.stateNode):lT(h,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Rm(n,n.memoizedProps,a.memoizedProps)}break;case 27:Nn(r,n),Dn(n),u&512&&(Ft||a===null||er(a,a.return)),a!==null&&u&4&&Rm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Nn(r,n),Dn(n),u&512&&(Ft||a===null||er(a,a.return)),n.flags&32){h=n.stateNode;try{In(h,"")}catch(ge){st(n,n.return,ge)}}u&4&&n.stateNode!=null&&(h=n.memoizedProps,Rm(n,h,a!==null?a.memoizedProps:h)),u&1024&&(xm=!0);break;case 6:if(Nn(r,n),Dn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(ge){st(n,n.return,ge)}}break;case 3:if(If=null,h=bi,bi=Rf(r.containerInfo),Nn(r,n),bi=h,Dn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{qo(r.containerInfo)}catch(ge){st(n,n.return,ge)}xm&&(xm=!1,cE(n));break;case 4:u=bi,bi=Rf(n.stateNode.containerInfo),Nn(r,n),Dn(n),bi=u;break;case 12:Nn(r,n),Dn(n);break;case 31:Nn(r,n),Dn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,hf(n,u)));break;case 13:Nn(r,n),Dn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mf=Mt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,hf(n,u)));break;case 22:h=n.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,H=xr,ee=Ft;if(xr=H||h,Ft=ee||M,Nn(r,n),Ft=ee,xr=H,Dn(n),u&8192)e:for(r=n.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||M||xr||Ft||Na(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){M=a=r;try{if(d=M.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=M.stateNode;var ne=M.memoizedProps.style,K=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ge){st(M,M.return,ge)}}}else if(r.tag===6){if(a===null){M=r;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(ge){st(M,M.return,ge)}}}else if(r.tag===18){if(a===null){M=r;try{var X=M.stateNode;h?ZE(X,!0):ZE(M.stateNode,!1)}catch(ge){st(M,M.return,ge)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,hf(n,a))));break;case 19:Nn(r,n),Dn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,hf(n,u)));break;case 30:break;case 21:break;default:Nn(r,n),Dn(n)}}function Dn(n){var r=n.flags;if(r&2){try{for(var a,u=n.return;u!==null;){if(tE(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Cm(n);ff(n,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(In(_,""),a.flags&=-33);var b=Cm(n);ff(n,b,_);break;case 3:case 4:var M=a.stateNode.containerInfo,H=Cm(n);Im(n,H,M);break;default:throw Error(s(161))}}catch(ee){st(n,n.return,ee)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function cE(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;cE(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Dr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)rE(n,r.alternate,r),r=r.sibling}function Na(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Ts(4,r,r.return),Na(r);break;case 1:er(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Z_(r,r.return,a),Na(r);break;case 27:gu(r.stateNode);case 26:case 5:er(r,r.return),Na(r);break;case 22:r.memoizedState===null&&Na(r);break;case 30:Na(r);break;default:Na(r)}n=n.sibling}}function Or(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,h=n,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:Or(h,d,a),au(4,d);break;case 1:if(Or(h,d,a),u=d,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){st(u,u.return,H)}if(u=d,h=u.updateQueue,h!==null){var b=u.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)Bv(M[h],b)}catch(H){st(u,u.return,H)}}a&&_&64&&J_(d),ou(d,d.return);break;case 27:nE(d);case 26:case 5:Or(h,d,a),a&&u===null&&_&4&&eE(d),ou(d,d.return);break;case 12:Or(h,d,a);break;case 31:Or(h,d,a),a&&_&4&&oE(h,d);break;case 13:Or(h,d,a),a&&_&4&&lE(h,d);break;case 22:d.memoizedState===null&&Or(h,d,a),ou(d,d.return);break;case 30:break;default:Or(h,d,a)}r=r.sibling}}function Nm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Kl(a))}function Dm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Kl(n))}function Ri(n,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)fE(n,r,a,u),r=r.sibling}function fE(n,r,a,u){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ri(n,r,a,u),h&2048&&au(9,r);break;case 1:Ri(n,r,a,u);break;case 3:Ri(n,r,a,u),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Kl(n)));break;case 12:if(h&2048){Ri(n,r,a,u),n=r.stateNode;try{var d=r.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){st(r,r.return,M)}}else Ri(n,r,a,u);break;case 31:Ri(n,r,a,u);break;case 13:Ri(n,r,a,u);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?Ri(n,r,a,u):lu(n,r):d._visibility&2?Ri(n,r,a,u):(d._visibility|=2,Oo(n,r,a,u,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Nm(_,r);break;case 24:Ri(n,r,a,u),h&2048&&Dm(r.alternate,r);break;default:Ri(n,r,a,u)}}function Oo(n,r,a,u,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=n,_=r,b=a,M=u,H=_.flags;switch(_.tag){case 0:case 11:case 15:Oo(d,_,b,M,h),au(8,_);break;case 23:break;case 22:var ee=_.stateNode;_.memoizedState!==null?ee._visibility&2?Oo(d,_,b,M,h):lu(d,_):(ee._visibility|=2,Oo(d,_,b,M,h)),h&&H&2048&&Nm(_.alternate,_);break;case 24:Oo(d,_,b,M,h),h&&H&2048&&Dm(_.alternate,_);break;default:Oo(d,_,b,M,h)}r=r.sibling}}function lu(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,u=r,h=u.flags;switch(u.tag){case 22:lu(a,u),h&2048&&Nm(u.alternate,u);break;case 24:lu(a,u),h&2048&&Dm(u.alternate,u);break;default:lu(a,u)}r=r.sibling}}var uu=8192;function Mo(n,r,a){if(n.subtreeFlags&uu)for(n=n.child;n!==null;)hE(n,r,a),n=n.sibling}function hE(n,r,a){switch(n.tag){case 26:Mo(n,r,a),n.flags&uu&&n.memoizedState!==null&&VC(a,bi,n.memoizedState,n.memoizedProps);break;case 5:Mo(n,r,a);break;case 3:case 4:var u=bi;bi=Rf(n.stateNode.containerInfo),Mo(n,r,a),bi=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=uu,uu=16777216,Mo(n,r,a),uu=u):Mo(n,r,a));break;default:Mo(n,r,a)}}function dE(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function cu(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Wt=u,pE(u,n)}dE(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)mE(n),n=n.sibling}function mE(n){switch(n.tag){case 0:case 11:case 15:cu(n),n.flags&2048&&Ts(9,n,n.return);break;case 3:cu(n);break;case 12:cu(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,df(n)):cu(n);break;default:cu(n)}}function df(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Wt=u,pE(u,n)}dE(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Ts(8,r,r.return),df(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,df(r));break;default:df(r)}n=n.sibling}}function pE(n,r){for(;Wt!==null;){var a=Wt;switch(a.tag){case 0:case 11:case 15:Ts(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Kl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Wt=u;else e:for(a=n;Wt!==null;){u=Wt;var h=u.sibling,d=u.return;if(sE(u),u===a){Wt=null;break e}if(h!==null){h.return=d,Wt=h;break e}Wt=d}}}var Y1={getCacheForType:function(n){var r=nn(jt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a},cacheSignal:function(){return nn(jt).controller.signal}},X1=typeof WeakMap=="function"?WeakMap:Map,et=0,ft=null,je=null,Be=0,rt=0,Hn=null,Ss=!1,Vo=!1,Om=!1,Mr=0,At=0,ws=0,Da=0,Mm=0,Gn=0,ko=0,fu=null,On=null,Vm=!1,mf=0,gE=0,pf=1/0,gf=null,As=null,$t=0,bs=null,Po=null,Vr=0,km=0,Pm=null,yE=null,hu=0,Lm=null;function $n(){return(et&2)!==0&&Be!==0?Be&-Be:G.T!==null?qm():gc()}function vE(){if(Gn===0)if((Be&536870912)===0||$e){var n=ra;ra<<=1,(ra&3932160)===0&&(ra=262144),Gn=n}else Gn=536870912;return n=Fn.current,n!==null&&(n.flags|=32),Gn}function Mn(n,r,a){(n===ft&&(rt===2||rt===9)||n.cancelPendingCommit!==null)&&(Lo(n,0),Rs(n,Be,Gn,!1)),sa(n,a),((et&2)===0||n!==ft)&&(n===ft&&((et&2)===0&&(Da|=a),At===4&&Rs(n,Be,Gn,!1)),tr(n))}function _E(n,r,a){if((et&6)!==0)throw Error(s(327));var u=!a&&(r&127)===0&&(r&n.expiredLanes)===0||gi(n,r),h=u?Z1(n,r):jm(n,r,!0),d=u;do{if(h===0){Vo&&!u&&Rs(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!W1(a)){h=jm(n,r,!1),d=!1;continue}if(h===2){if(d=r,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=n;h=fu;var M=b.current.memoizedState.isDehydrated;if(M&&(Lo(b,_).flags|=256),_=jm(b,_,!1),_!==2){if(Om&&!M){b.errorRecoveryDisabledLanes|=d,Da|=d,h=4;break e}d=On,On=h,d!==null&&(On===null?On=d:On.push.apply(On,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Lo(n,0),Rs(n,r,0,!0);break}e:{switch(u=n,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Rs(u,r,Gn,!Ss);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=mf+300-Mt(),10<h)){if(Rs(u,r,Gn,!Ss),Li(u,0,!0)!==0)break e;Vr=r,u.timeoutHandle=XE(EE.bind(null,u,a,On,gf,Vm,r,Gn,Da,ko,Ss,d,"Throttled",-0,0),h);break e}EE(u,a,On,gf,Vm,r,Gn,Da,ko,Ss,d,null,-0,0)}}break}while(!0);tr(n)}function EE(n,r,a,u,h,d,_,b,M,H,ee,ne,K,X){if(n.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},hE(r,d,ne);var ge=(d&62914560)===d?mf-Mt():(d&4194048)===d?gE-Mt():0;if(ge=kC(ne,ge),ge!==null){Vr=d,n.cancelPendingCommit=ge(IE.bind(null,n,r,d,a,u,h,_,b,M,ee,ne,null,K,X)),Rs(n,d,_,!H);return}}IE(n,r,d,a,u,h,_,b,M)}function W1(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var h=a[u],d=h.getSnapshot;h=h.value;try{if(!zn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Rs(n,r,a,u){r&=~Mm,r&=~Da,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var h=r;0<h;){var d=31-Ct(h),_=1<<d;u[d]=-1,h&=~_}a!==0&&aa(n,a,r)}function yf(){return(et&6)===0?(du(0),!1):!0}function Um(){if(je!==null){if(rt===0)var n=je.return;else n=je,wr=Sa=null,em(n),Co=null,Yl=0,n=je;for(;n!==null;)W_(n.alternate,n),n=n.return;je=null}}function Lo(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,yC(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Vr=0,Um(),ft=n,je=a=Tr(n.current,null),Be=r,rt=0,Hn=null,Ss=!1,Vo=gi(n,r),Om=!1,ko=Gn=Mm=Da=ws=At=0,On=fu=null,Vm=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var h=31-Ct(u),d=1<<h;r|=n[h],u&=~d}return Mr=r,Lc(),a}function TE(n,r){Ve=null,G.H=iu,r===Ro||r===Gc?(r=Lv(),rt=3):r===Fd?(r=Lv(),rt=4):rt=r===gm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Hn=r,je===null&&(At=1,af(n,ii(r,n.current)))}function SE(){var n=Fn.current;return n===null?!0:(Be&4194048)===Be?oi===null:(Be&62914560)===Be||(Be&536870912)!==0?n===oi:!1}function wE(){var n=G.H;return G.H=iu,n===null?iu:n}function AE(){var n=G.A;return G.A=Y1,n}function vf(){At=4,Ss||(Be&4194048)!==Be&&Fn.current!==null||(Vo=!0),(ws&134217727)===0&&(Da&134217727)===0||ft===null||Rs(ft,Be,Gn,!1)}function jm(n,r,a){var u=et;et|=2;var h=wE(),d=AE();(ft!==n||Be!==r)&&(gf=null,Lo(n,r)),r=!1;var _=At;e:do try{if(rt!==0&&je!==null){var b=je,M=Hn;switch(rt){case 8:Um(),_=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(r=!0);var H=rt;if(rt=0,Hn=null,Uo(n,b,M,H),a&&Vo){_=0;break e}break;default:H=rt,rt=0,Hn=null,Uo(n,b,M,H)}}J1(),_=At;break}catch(ee){TE(n,ee)}while(!0);return r&&n.shellSuspendCounter++,wr=Sa=null,et=u,G.H=h,G.A=d,je===null&&(ft=null,Be=0,Lc()),_}function J1(){for(;je!==null;)bE(je)}function Z1(n,r){var a=et;et|=2;var u=wE(),h=AE();ft!==n||Be!==r?(gf=null,pf=Mt()+500,Lo(n,r)):Vo=gi(n,r);e:do try{if(rt!==0&&je!==null){r=je;var d=Hn;t:switch(rt){case 1:rt=0,Hn=null,Uo(n,r,d,1);break;case 2:case 9:if(kv(d)){rt=0,Hn=null,RE(r);break}r=function(){rt!==2&&rt!==9||ft!==n||(rt=7),tr(n)},d.then(r,r);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:kv(d)?(rt=0,Hn=null,RE(r)):(rt=0,Hn=null,Uo(n,r,d,7));break;case 5:var _=null;switch(je.tag){case 26:_=je.memoizedState;case 5:case 27:var b=je;if(_?fT(_):b.stateNode.complete){rt=0,Hn=null;var M=b.sibling;if(M!==null)je=M;else{var H=b.return;H!==null?(je=H,_f(H)):je=null}break t}}rt=0,Hn=null,Uo(n,r,d,5);break;case 6:rt=0,Hn=null,Uo(n,r,d,6);break;case 8:Um(),At=6;break e;default:throw Error(s(462))}}eC();break}catch(ee){TE(n,ee)}while(!0);return wr=Sa=null,G.H=u,G.A=h,et=a,je!==null?0:(ft=null,Be=0,Lc(),At)}function eC(){for(;je!==null&&!ts();)bE(je)}function bE(n){var r=Y_(n.alternate,n,Mr);n.memoizedProps=n.pendingProps,r===null?_f(n):je=r}function RE(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=q_(a,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=q_(a,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:em(r);default:W_(a,r),r=je=Av(r,Mr),r=Y_(a,r,Mr)}n.memoizedProps=n.pendingProps,r===null?_f(n):je=r}function Uo(n,r,a,u){wr=Sa=null,em(r),Co=null,Yl=0;var h=r.return;try{if(F1(n,h,r,a,Be)){At=1,af(n,ii(a,n.current)),je=null;return}}catch(d){if(h!==null)throw je=h,d;At=1,af(n,ii(a,n.current)),je=null;return}r.flags&32768?($e||u===1?n=!0:Vo||(Be&536870912)!==0?n=!1:(Ss=n=!0,(u===2||u===9||u===3||u===6)&&(u=Fn.current,u!==null&&u.tag===13&&(u.flags|=16384))),CE(r,n)):_f(r)}function _f(n){var r=n;do{if((r.flags&32768)!==0){CE(r,Ss);return}n=r.return;var a=G1(r.alternate,r,Mr);if(a!==null){je=a;return}if(r=r.sibling,r!==null){je=r;return}je=r=n}while(r!==null);At===0&&(At=5)}function CE(n,r){do{var a=$1(n.alternate,n);if(a!==null){a.flags&=32767,je=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){je=n;return}je=n=a}while(n!==null);At=6,je=null}function IE(n,r,a,u,h,d,_,b,M){n.cancelPendingCommit=null;do Ef();while($t!==0);if((et&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Cd,vd(n,a,d,_,b,M),n===ft&&(je=ft=null,Be=0),Po=r,bs=n,Vr=a,km=d,Pm=h,yE=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,rC(Ue,function(){return ME(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=G.T,G.T=null,h=oe.p,oe.p=2,_=et,et|=4;try{K1(n,r,a)}finally{et=_,oe.p=h,G.T=u}}$t=1,xE(),NE(),DE()}}function xE(){if($t===1){$t=0;var n=bs,r=Po,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var u=oe.p;oe.p=2;var h=et;et|=4;try{uE(r,n);var d=Wm,_=pv(n.containerInfo),b=d.focusedElem,M=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&mv(b.ownerDocument.documentElement,b)){if(M!==null&&Sd(b)){var H=M.start,ee=M.end;if(ee===void 0&&(ee=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(ee,b.value.length);else{var ne=b.ownerDocument||document,K=ne&&ne.defaultView||window;if(K.getSelection){var X=K.getSelection(),ge=b.textContent.length,we=Math.min(M.start,ge),ut=M.end===void 0?we:Math.min(M.end,ge);!X.extend&&we>ut&&(_=ut,ut=we,we=_);var B=dv(b,we),U=dv(b,ut);if(B&&U&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var q=ne.createRange();q.setStart(B.node,B.offset),X.removeAllRanges(),we>ut?(X.addRange(q),X.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),X.addRange(q))}}}}for(ne=[],X=b;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ne.length;b++){var te=ne[b];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Of=!!Xm,Wm=Xm=null}finally{et=h,oe.p=u,G.T=a}}n.current=r,$t=2}}function NE(){if($t===2){$t=0;var n=bs,r=Po,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var u=oe.p;oe.p=2;var h=et;et|=4;try{rE(n,r.alternate,r)}finally{et=h,oe.p=u,G.T=a}}$t=3}}function DE(){if($t===4||$t===3){$t=0,ns();var n=bs,r=Po,a=Vr,u=yE;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$t=5:($t=0,Po=bs=null,OE(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(As=null),yr(a),r=r.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Ln,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=G.T,h=oe.p,oe.p=2,G.T=null;try{for(var d=n.onRecoverableError,_=0;_<u.length;_++){var b=u[_];d(b.value,{componentStack:b.stack})}}finally{G.T=r,oe.p=h}}(Vr&3)!==0&&Ef(),tr(n),h=n.pendingLanes,(a&261930)!==0&&(h&42)!==0?n===Lm?hu++:(hu=0,Lm=n):hu=0,du(0)}}function OE(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Kl(r)))}function Ef(){return xE(),NE(),DE(),ME()}function ME(){if($t!==5)return!1;var n=bs,r=km;km=0;var a=yr(Vr),u=G.T,h=oe.p;try{oe.p=32>a?32:a,G.T=null,a=Pm,Pm=null;var d=bs,_=Vr;if($t=0,Po=bs=null,Vr=0,(et&6)!==0)throw Error(s(331));var b=et;if(et|=4,mE(d.current),fE(d,d.current,_,a),et=b,du(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Ln,d)}catch{}return!0}finally{oe.p=h,G.T=u,OE(n,r)}}function VE(n,r,a){r=ii(a,r),r=pm(n.stateNode,r,2),n=vs(n,r,2),n!==null&&(sa(n,2),tr(n))}function st(n,r,a){if(n.tag===3)VE(n,n,a);else for(;r!==null;){if(r.tag===3){VE(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(As===null||!As.has(u))){n=ii(a,n),a=k_(2),u=vs(r,a,2),u!==null&&(P_(a,u,r,n),sa(u,2),tr(u));break}}r=r.return}}function zm(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new X1;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(a)||(Om=!0,h.add(a),n=tC.bind(null,n,r,a),r.then(n,n))}function tC(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ft===n&&(Be&a)===a&&(At===4||At===3&&(Be&62914560)===Be&&300>Mt()-mf?(et&2)===0&&Lo(n,0):Mm|=a,ko===Be&&(ko=0)),tr(n)}function kE(n,r){r===0&&(r=pc()),n=_a(n,r),n!==null&&(sa(n,r),tr(n))}function nC(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),kE(n,a)}function iC(n,r){var a=0;switch(n.tag){case 31:case 13:var u=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),kE(n,a)}function rC(n,r){return yt(n,r)}var Tf=null,jo=null,Bm=!1,Sf=!1,Fm=!1,Cs=0;function tr(n){n!==jo&&n.next===null&&(jo===null?Tf=jo=n:jo=jo.next=n),Sf=!0,Bm||(Bm=!0,aC())}function du(n,r){if(!Fm&&Sf){Fm=!0;do for(var a=!1,u=Tf;u!==null;){if(n!==0){var h=u.pendingLanes;if(h===0)var d=0;else{var _=u.suspendedLanes,b=u.pingedLanes;d=(1<<31-Ct(42|n)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,jE(u,d))}else d=Be,d=Li(u,u===ft?d:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(d&3)===0||gi(u,d)||(a=!0,jE(u,d));u=u.next}while(a);Fm=!1}}function sC(){PE()}function PE(){Sf=Bm=!1;var n=0;Cs!==0&&gC()&&(n=Cs);for(var r=Mt(),a=null,u=Tf;u!==null;){var h=u.next,d=LE(u,r);d===0?(u.next=null,a===null?Tf=h:a.next=h,h===null&&(jo=a)):(a=u,(n!==0||(d&3)!==0)&&(Sf=!0)),u=h}$t!==0&&$t!==5||du(n),Cs!==0&&(Cs=0)}function LE(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-Ct(d),b=1<<_,M=h[_];M===-1?((b&a)===0||(b&u)!==0)&&(h[_]=yd(b,r)):M<=r&&(n.expiredLanes|=b),d&=~b}if(r=ft,a=Be,a=Li(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===r&&(rt===2||rt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&bn(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||gi(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(u!==null&&bn(u),yr(a)){case 2:case 8:a=Rn;break;case 32:a=Ue;break;case 268435456:a=Xn;break;default:a=Ue}return u=UE.bind(null,n),a=yt(a,u),n.callbackPriority=r,n.callbackNode=a,r}return u!==null&&u!==null&&bn(u),n.callbackPriority=2,n.callbackNode=null,2}function UE(n,r){if($t!==0&&$t!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Ef()&&n.callbackNode!==a)return null;var u=Be;return u=Li(n,n===ft?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(_E(n,u,r),LE(n,Mt()),n.callbackNode!=null&&n.callbackNode===a?UE.bind(null,n):null)}function jE(n,r){if(Ef())return null;_E(n,r,!0)}function aC(){vC(function(){(et&6)!==0?yt(Le,sC):PE()})}function qm(){if(Cs===0){var n=Ao;n===0&&(n=ki,ki<<=1,(ki&261888)===0&&(ki=256)),Cs=n}return Cs}function zE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:lo(""+n)}function BE(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function oC(n,r,a,u,h){if(r==="submit"&&a&&a.stateNode===h){var d=zE((h[Yt]||null).action),_=u.submitter;_&&(r=(r=_[Yt]||null)?zE(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var b=new Qi("action","action",null,u,h);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Cs!==0){var M=_?BE(h,_):new FormData(h);um(a,{pending:!0,data:M,method:h.method,action:d},null,M)}}else typeof d=="function"&&(b.preventDefault(),M=_?BE(h,_):new FormData(h),um(a,{pending:!0,data:M,method:h.method,action:d},d,M))},currentTarget:h}]})}}for(var Hm=0;Hm<Rd.length;Hm++){var Gm=Rd[Hm],lC=Gm.toLowerCase(),uC=Gm[0].toUpperCase()+Gm.slice(1);Ai(lC,"on"+uC)}Ai(vv,"onAnimationEnd"),Ai(_v,"onAnimationIteration"),Ai(Ev,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(b1,"onTransitionRun"),Ai(R1,"onTransitionStart"),Ai(C1,"onTransitionCancel"),Ai(Tv,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mu));function FE(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],h=u.event;u=u.listeners;e:{var d=void 0;if(r)for(var _=u.length-1;0<=_;_--){var b=u[_],M=b.instance,H=b.currentTarget;if(b=b.listener,M!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=H;try{d(h)}catch(ee){Pc(ee)}h.currentTarget=null,d=M}else for(_=0;_<u.length;_++){if(b=u[_],M=b.instance,H=b.currentTarget,b=b.listener,M!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=H;try{d(h)}catch(ee){Pc(ee)}h.currentTarget=null,d=M}}}}function ze(n,r){var a=r[io];a===void 0&&(a=r[io]=new Set);var u=n+"__bubble";a.has(u)||(qE(r,n,2,!1),a.add(u))}function $m(n,r,a){var u=0;r&&(u|=4),qE(a,n,u,r)}var wf="_reactListening"+Math.random().toString(36).slice(2);function Km(n){if(!n[wf]){n[wf]=!0,Rl.forEach(function(a){a!=="selectionchange"&&(cC.has(a)||$m(a,!1,n),$m(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[wf]||(r[wf]=!0,$m("selectionchange",!1,r))}}function qE(n,r,a,u){switch(vT(r)){case 2:var h=UC;break;case 8:h=jC;break;default:h=lp}a=h.bind(null,r,a,n),h=void 0,!fa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?n.addEventListener(r,a,{capture:!0,passive:h}):n.addEventListener(r,a,!0):h!==void 0?n.addEventListener(r,a,{passive:h}):n.addEventListener(r,a,!1)}function Qm(n,r,a,u,h){var d=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var b=u.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=u.return;_!==null;){var M=_.tag;if((M===3||M===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=Bi(b),_===null)return;if(M=_.tag,M===5||M===6||M===26||M===27){u=d=_;continue e}b=b.parentNode}}u=u.return}ls(function(){var H=d,ee=Zn(a),ne=[];e:{var K=Sv.get(n);if(K!==void 0){var X=Qi,ge=n;switch(n){case"keypress":if(da(a)===0)break e;case"keydown":case"keyup":X=Mc;break;case"focusin":ge="focus",X=pa;break;case"focusout":ge="blur",X=pa;break;case"beforeblur":case"afterblur":X=pa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case vv:case _v:case Ev:X=Rc;break;case Tv:X=R;break;case"scroll":case"scrollend":X=Ul;break;case"wheel":X=Y;break;case"copy":case"cut":case"paste":X=Cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Er;break;case"toggle":case"beforetoggle":X=Me}var we=(r&4)!==0,ut=!we&&(n==="scroll"||n==="scrollend"),B=we?K!==null?K+"Capture":null:K;we=[];for(var U=H,q;U!==null;){var te=U;if(q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||q===null||B===null||(te=Ei(U,B),te!=null&&we.push(pu(U,te,q))),ut)break;U=U.return}0<we.length&&(K=new X(K,ge,null,a,ee),ne.push({event:K,listeners:we}))}}if((r&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",K&&a!==kl&&(ge=a.relatedTarget||a.fromElement)&&(Bi(ge)||ge[ji]))break e;if((X||K)&&(K=ee.window===ee?ee:(K=ee.ownerDocument)?K.defaultView||K.parentWindow:window,X?(ge=a.relatedTarget||a.toElement,X=H,ge=ge?Bi(ge):null,ge!==null&&(ut=l(ge),we=ge.tag,ge!==ut||we!==5&&we!==27&&we!==6)&&(ge=null)):(X=null,ge=H),X!==ge)){if(we=jl,te="onMouseLeave",B="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(we=Er,te="onPointerLeave",B="onPointerEnter",U="pointer"),ut=X==null?K:Un(X),q=ge==null?K:Un(ge),K=new we(te,U+"leave",X,a,ee),K.target=ut,K.relatedTarget=q,te=null,Bi(ee)===H&&(we=new we(B,U+"enter",ge,a,ee),we.target=q,we.relatedTarget=ut,te=we),ut=te,X&&ge)t:{for(we=fC,B=X,U=ge,q=0,te=B;te;te=we(te))q++;te=0;for(var Te=U;Te;Te=we(Te))te++;for(;0<q-te;)B=we(B),q--;for(;0<te-q;)U=we(U),te--;for(;q--;){if(B===U||U!==null&&B===U.alternate){we=B;break t}B=we(B),U=we(U)}we=null}else we=null;X!==null&&HE(ne,K,X,we,!1),ge!==null&&ut!==null&&HE(ne,ut,ge,we,!0)}}e:{if(K=H?Un(H):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var We=ov;else if(sv(K))if(lv)We=S1;else{We=E1;var ve=_1}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?H&&oo(H.elementType)&&(We=ov):We=T1;if(We&&(We=We(n,H))){av(ne,We,a,ee);break e}ve&&ve(n,K,H),n==="focusout"&&H&&K.type==="number"&&H.memoizedProps.value!=null&&Ol(K,"number",K.value)}switch(ve=H?Un(H):window,n){case"focusin":(sv(ve)||ve.contentEditable==="true")&&(go=ve,wd=H,Hl=null);break;case"focusout":Hl=wd=go=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,gv(ne,a,ee);break;case"selectionchange":if(A1)break;case"keydown":case"keyup":gv(ne,a,ee)}var Pe;if(Ze)e:{switch(n){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else po?ga(n,a)&&(Fe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(Wi&&a.locale!=="ko"&&(po||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&po&&(Pe=Ll()):(Ki=ee,Pl="value"in Ki?Ki.value:Ki.textContent,po=!0)),ve=Af(H,Fe),0<ve.length&&(Fe=new Xi(Fe,n,null,a,ee),ne.push({event:Fe,listeners:ve}),Pe?Fe.data=Pe:(Pe=mo(a),Pe!==null&&(Fe.data=Pe)))),(Pe=ti?p1(n,a):g1(n,a))&&(Fe=Af(H,"onBeforeInput"),0<Fe.length&&(ve=new Xi("onBeforeInput","beforeinput",null,a,ee),ne.push({event:ve,listeners:Fe}),ve.data=Pe)),oC(ne,n,H,a,ee)}FE(ne,r)})}function pu(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Af(n,r){for(var a=r+"Capture",u=[];n!==null;){var h=n,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ei(n,a),h!=null&&u.unshift(pu(n,h,d)),h=Ei(n,r),h!=null&&u.push(pu(n,h,d))),n.tag===3)return u;n=n.return}return[]}function fC(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function HE(n,r,a,u,h){for(var d=r._reactName,_=[];a!==null&&a!==u;){var b=a,M=b.alternate,H=b.stateNode;if(b=b.tag,M!==null&&M===u)break;b!==5&&b!==26&&b!==27||H===null||(M=H,h?(H=Ei(a,d),H!=null&&_.unshift(pu(a,H,M))):h||(H=Ei(a,d),H!=null&&_.push(pu(a,H,M)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var hC=/\r\n?/g,dC=/\u0000|\uFFFD/g;function GE(n){return(typeof n=="string"?n:""+n).replace(hC,`
`).replace(dC,"")}function $E(n,r){return r=GE(r),GE(n)===r}function lt(n,r,a,u,h,d){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||In(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&In(n,""+u);break;case"className":jn(n,"class",u);break;case"tabIndex":jn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(n,a,u);break;case"style":Vl(n,u,d);break;case"data":if(r!=="object"){jn(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=lo(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&lt(n,r,"name",h.name,h,null),lt(n,r,"formEncType",h.formEncType,h,null),lt(n,r,"formMethod",h.formMethod,h,null),lt(n,r,"formTarget",h.formTarget,h,null)):(lt(n,r,"encType",h.encType,h,null),lt(n,r,"method",h.method,h,null),lt(n,r,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=lo(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=_i);break;case"onScroll":u!=null&&ze("scroll",n);break;case"onScrollEnd":u!=null&&ze("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=lo(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":ze("beforetoggle",n),ze("toggle",n),so(n,"popover",u);break;case"xlinkActuate":Ut(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ut(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ut(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ut(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ut(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ut(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":so(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wc.get(a)||a,so(n,a,u))}}function Ym(n,r,a,u,h,d){switch(a){case"style":Vl(n,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?In(n,u):(typeof u=="number"||typeof u=="bigint")&&In(n,""+u);break;case"onScroll":u!=null&&ze("scroll",n);break;case"onScrollEnd":u!=null&&ze("scrollend",n);break;case"onClick":u!=null&&(n.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=n[Yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,h),typeof u=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,u,h);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):so(n,a,u)}}}function sn(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",n),ze("load",n);var u=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:lt(n,r,d,_,a,null)}}h&&lt(n,r,"srcSet",a.srcSet,a,null),u&&lt(n,r,"src",a.src,a,null);return;case"input":ze("invalid",n);var b=d=_=h=null,M=null,H=null;for(u in a)if(a.hasOwnProperty(u)){var ee=a[u];if(ee!=null)switch(u){case"name":h=ee;break;case"type":_=ee;break;case"checked":M=ee;break;case"defaultChecked":H=ee;break;case"value":d=ee;break;case"defaultValue":b=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:lt(n,r,u,ee,a,null)}}Ec(n,d,b,M,H,_,h,!1);return;case"select":ze("invalid",n),u=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":u=b;default:lt(n,r,h,b,a,null)}r=d,a=_,n.multiple=!!u,r!=null?rs(n,!!u,r,!1):a!=null&&rs(n,!!u,a,!0);return;case"textarea":ze("invalid",n),d=h=u=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":u=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:lt(n,r,_,b,a,null)}ss(n,u,h,d);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(u=a[M],u!=null))switch(M){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:lt(n,r,M,u,a,null)}return;case"dialog":ze("beforetoggle",n),ze("toggle",n),ze("cancel",n),ze("close",n);break;case"iframe":case"object":ze("load",n);break;case"video":case"audio":for(u=0;u<mu.length;u++)ze(mu[u],n);break;case"image":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"embed":case"source":case"link":ze("error",n),ze("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(u=a[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:lt(n,r,H,u,a,null)}return;default:if(oo(r)){for(ee in a)a.hasOwnProperty(ee)&&(u=a[ee],u!==void 0&&Ym(n,r,ee,u,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(u=a[b],u!=null&&lt(n,r,b,u,a,null))}function mC(n,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,M=null,H=null,ee=null;for(X in a){var ne=a[X];if(a.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=ne;default:u.hasOwnProperty(X)||lt(n,r,X,null,u,ne)}}for(var K in u){var X=u[K];if(ne=a[K],u.hasOwnProperty(K)&&(X!=null||ne!=null))switch(K){case"type":d=X;break;case"name":h=X;break;case"checked":H=X;break;case"defaultChecked":ee=X;break;case"value":_=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ne&&lt(n,r,K,X,u,ne)}}ao(n,_,b,M,H,ee,d,h);return;case"select":X=_=b=K=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":X=M;default:u.hasOwnProperty(d)||lt(n,r,d,null,u,M)}for(h in u)if(d=u[h],M=a[h],u.hasOwnProperty(h)&&(d!=null||M!=null))switch(h){case"value":K=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==M&&lt(n,r,h,d,u,M)}r=b,a=_,u=X,K!=null?rs(n,!!a,K,!1):!!u!=!!a&&(r!=null?rs(n,!!a,r,!0):rs(n,!!a,a?[]:"",!1));return;case"textarea":X=K=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:lt(n,r,b,null,u,h)}for(_ in u)if(h=u[_],d=a[_],u.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":K=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&lt(n,r,_,h,u,d)}Tc(n,K,X);return;case"option":for(var ge in a)if(K=a[ge],a.hasOwnProperty(ge)&&K!=null&&!u.hasOwnProperty(ge))switch(ge){case"selected":n.selected=!1;break;default:lt(n,r,ge,null,u,K)}for(M in u)if(K=u[M],X=a[M],u.hasOwnProperty(M)&&K!==X&&(K!=null||X!=null))switch(M){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:lt(n,r,M,K,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)K=a[we],a.hasOwnProperty(we)&&K!=null&&!u.hasOwnProperty(we)&&lt(n,r,we,null,u,K);for(H in u)if(K=u[H],X=a[H],u.hasOwnProperty(H)&&K!==X&&(K!=null||X!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:lt(n,r,H,K,u,X)}return;default:if(oo(r)){for(var ut in a)K=a[ut],a.hasOwnProperty(ut)&&K!==void 0&&!u.hasOwnProperty(ut)&&Ym(n,r,ut,void 0,u,K);for(ee in u)K=u[ee],X=a[ee],!u.hasOwnProperty(ee)||K===X||K===void 0&&X===void 0||Ym(n,r,ee,K,u,X);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!u.hasOwnProperty(B)&&lt(n,r,B,null,u,K);for(ne in u)K=u[ne],X=a[ne],!u.hasOwnProperty(ne)||K===X||K==null&&X==null||lt(n,r,ne,K,u,X)}function KE(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pC(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var h=a[u],d=h.transferSize,_=h.initiatorType,b=h.duration;if(d&&b&&KE(_)){for(_=0,b=h.responseEnd,u+=1;u<a.length;u++){var M=a[u],H=M.startTime;if(H>b)break;var ee=M.transferSize,ne=M.initiatorType;ee&&KE(ne)&&(M=M.responseEnd,_+=ee*(M<b?1:(b-H)/(M-H)))}if(--u,r+=8*(d+_)/(h.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Xm=null,Wm=null;function bf(n){return n.nodeType===9?n:n.ownerDocument}function QE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YE(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Jm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Zm=null;function gC(){var n=window.event;return n&&n.type==="popstate"?n===Zm?!1:(Zm=n,!0):(Zm=null,!1)}var XE=typeof setTimeout=="function"?setTimeout:void 0,yC=typeof clearTimeout=="function"?clearTimeout:void 0,WE=typeof Promise=="function"?Promise:void 0,vC=typeof queueMicrotask=="function"?queueMicrotask:typeof WE<"u"?function(n){return WE.resolve(null).then(n).catch(_C)}:XE;function _C(n){setTimeout(function(){throw n})}function Is(n){return n==="head"}function JE(n,r){var a=r,u=0;do{var h=a.nextSibling;if(n.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(u===0){n.removeChild(h),qo(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")gu(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,gu(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[zi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&gu(n.ownerDocument.body);a=h}while(a);qo(r)}function ZE(n,r){var a=n;n=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=u}while(a)}function ep(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ep(a),ro(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function EC(n,r,a,u){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[zi])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=li(n.nextSibling),n===null)break}return null}function TC(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=li(n.nextSibling),n===null))return null;return n}function eT(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=li(n.nextSibling),n===null))return null;return n}function tp(n){return n.data==="$?"||n.data==="$~"}function np(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function SC(n,r){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function li(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var ip=null;function tT(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(r===0)return li(n.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}n=n.nextSibling}return null}function nT(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return n;r--}else a!=="/$"&&a!=="/&"||r++}n=n.previousSibling}return null}function iT(n,r,a){switch(r=bf(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function gu(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);ro(n)}var ui=new Map,rT=new Set;function Rf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var kr=oe.d;oe.d={f:wC,r:AC,D:bC,C:RC,L:CC,m:IC,X:NC,S:xC,M:DC};function wC(){var n=kr.f(),r=yf();return n||r}function AC(n){var r=Jn(n);r!==null&&r.tag===5&&r.type==="form"?T_(r):kr.r(n)}var zo=typeof document>"u"?null:document;function sT(n,r,a){var u=zo;if(u&&typeof r=="string"&&r){var h=Cn(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),rT.has(h)||(rT.add(h),n={rel:n,crossOrigin:a,href:r},u.querySelector(h)===null&&(r=u.createElement("link"),sn(r,"link",n),Lt(r),u.head.appendChild(r)))}}function bC(n){kr.D(n),sT("dns-prefetch",n,null)}function RC(n,r){kr.C(n,r),sT("preconnect",n,r)}function CC(n,r,a){kr.L(n,r,a);var u=zo;if(u&&n&&r){var h='link[rel="preload"][as="'+Cn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Cn(a.imageSizes)+'"]')):h+='[href="'+Cn(n)+'"]';var d=h;switch(r){case"style":d=Bo(n);break;case"script":d=Fo(n)}ui.has(d)||(n=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),ui.set(d,n),u.querySelector(h)!==null||r==="style"&&u.querySelector(yu(d))||r==="script"&&u.querySelector(vu(d))||(r=u.createElement("link"),sn(r,"link",n),Lt(r),u.head.appendChild(r)))}}function IC(n,r){kr.m(n,r);var a=zo;if(a&&n){var u=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Cn(u)+'"][href="'+Cn(n)+'"]',d=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Fo(n)}if(!ui.has(d)&&(n=E({rel:"modulepreload",href:n},r),ui.set(d,n),a.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vu(d)))return}u=a.createElement("link"),sn(u,"link",n),Lt(u),a.head.appendChild(u)}}}function xC(n,r,a){kr.S(n,r,a);var u=zo;if(u&&n){var h=Fi(u).hoistableStyles,d=Bo(n);r=r||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=u.querySelector(yu(d)))b.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":r},a),(a=ui.get(d))&&rp(n,a);var M=_=u.createElement("link");Lt(M),sn(M,"link",n),M._p=new Promise(function(H,ee){M.onload=H,M.onerror=ee}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Cf(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function NC(n,r){kr.X(n,r);var a=zo;if(a&&n){var u=Fi(a).hoistableScripts,h=Fo(n),d=u.get(h);d||(d=a.querySelector(vu(h)),d||(n=E({src:n,async:!0},r),(r=ui.get(h))&&sp(n,r),d=a.createElement("script"),Lt(d),sn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(h,d))}}function DC(n,r){kr.M(n,r);var a=zo;if(a&&n){var u=Fi(a).hoistableScripts,h=Fo(n),d=u.get(h);d||(d=a.querySelector(vu(h)),d||(n=E({src:n,async:!0,type:"module"},r),(r=ui.get(h))&&sp(n,r),d=a.createElement("script"),Lt(d),sn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(h,d))}}function aT(n,r,a,u){var h=(h=Ee.current)?Rf(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Bo(a.href),a=Fi(h).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Bo(a.href);var d=Fi(h).hoistableStyles,_=d.get(n);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=h.querySelector(yu(n)))&&!d._p&&(_.instance=d,_.state.loading=5),ui.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ui.set(n,a),d||OC(h,n,a,_.state))),r&&u===null)throw Error(s(528,""));return _}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Fo(a),a=Fi(h).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Bo(n){return'href="'+Cn(n)+'"'}function yu(n){return'link[rel="stylesheet"]['+n+"]"}function oT(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function OC(n,r,a,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),sn(r,"link",a),Lt(r),n.head.appendChild(r))}function Fo(n){return'[src="'+Cn(n)+'"]'}function vu(n){return"script[async]"+n}function lT(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Cn(a.href)+'"]');if(u)return r.instance=u,Lt(u),u;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Lt(u),sn(u,"style",h),Cf(u,a.precedence,n),r.instance=u;case"stylesheet":h=Bo(a.href);var d=n.querySelector(yu(h));if(d)return r.state.loading|=4,r.instance=d,Lt(d),d;u=oT(a),(h=ui.get(h))&&rp(u,h),d=(n.ownerDocument||n).createElement("link"),Lt(d);var _=d;return _._p=new Promise(function(b,M){_.onload=b,_.onerror=M}),sn(d,"link",u),r.state.loading|=4,Cf(d,a.precedence,n),r.instance=d;case"script":return d=Fo(a.src),(h=n.querySelector(vu(d)))?(r.instance=h,Lt(h),h):(u=a,(h=ui.get(d))&&(u=E({},a),sp(u,h)),n=n.ownerDocument||n,h=n.createElement("script"),Lt(h),sn(h,"link",u),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Cf(u,a.precedence,n));return r.instance}function Cf(n,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,d=h,_=0;_<u.length;_++){var b=u[_];if(b.dataset.precedence===r)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function rp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function sp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var If=null;function uT(n,r,a){if(If===null){var u=new Map,h=If=new Map;h.set(a,u)}else h=If,u=h.get(a),u||(u=new Map,h.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[zi]||d[Pt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=n+_;var b=u.get(_);b?b.push(d):u.set(_,[d])}}return u}function cT(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function MC(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function fT(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function VC(n,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Bo(u.href),d=r.querySelector(yu(h));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=xf.bind(n),r.then(n,n)),a.state.loading|=4,a.instance=d,Lt(d);return}d=r.ownerDocument||r,u=oT(u),(h=ui.get(h))&&rp(u,h),d=d.createElement("link"),Lt(d);var _=d;_._p=new Promise(function(b,M){_.onload=b,_.onerror=M}),sn(d,"link",u),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=xf.bind(n),r.addEventListener("load",a),r.addEventListener("error",a))}}var ap=0;function kC(n,r){return n.stylesheets&&n.count===0&&Df(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var u=setTimeout(function(){if(n.stylesheets&&Df(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+r);0<n.imgBytes&&ap===0&&(ap=62500*pC());var h=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Df(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>ap?50:800)+r);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function xf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Df(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Nf=null;function Df(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Nf=new Map,r.forEach(PC,n),Nf=null,xf.call(n))}function PC(n,r){if(!(r.state.loading&4)){var a=Nf.get(n);if(a)var u=a.get(null);else{a=new Map,Nf.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),u=_)}u&&a.set(null,u)}h=r.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||u,d===u&&a.set(null,h),a.set(_,h),this.count++,u=xf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var _u={$$typeof:j,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function LC(n,r,a,u,h,d,_,b,M){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function hT(n,r,a,u,h,d,_,b,M,H,ee,ne){return n=new LC(n,r,a,_,M,H,ee,ne,b),r=1,d===!0&&(r|=24),d=Bn(3,null,null,r),n.current=d,d.stateNode=n,r=jd(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:u,isDehydrated:a,cache:r},qd(d),n}function dT(n){return n?(n=_o,n):_o}function mT(n,r,a,u,h,d){h=dT(h),u.context===null?u.context=h:u.pendingContext=h,u=ys(r),u.payload={element:a},d=d===void 0?null:d,d!==null&&(u.callback=d),a=vs(n,u,r),a!==null&&(Mn(a,n,r),Wl(a,n,r))}function pT(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function op(n,r){pT(n,r),(n=n.alternate)&&pT(n,r)}function gT(n){if(n.tag===13||n.tag===31){var r=_a(n,67108864);r!==null&&Mn(r,n,67108864),op(n,67108864)}}function yT(n){if(n.tag===13||n.tag===31){var r=$n();r=oa(r);var a=_a(n,r);a!==null&&Mn(a,n,r),op(n,r)}}var Of=!0;function UC(n,r,a,u){var h=G.T;G.T=null;var d=oe.p;try{oe.p=2,lp(n,r,a,u)}finally{oe.p=d,G.T=h}}function jC(n,r,a,u){var h=G.T;G.T=null;var d=oe.p;try{oe.p=8,lp(n,r,a,u)}finally{oe.p=d,G.T=h}}function lp(n,r,a,u){if(Of){var h=up(u);if(h===null)Qm(n,r,u,Mf,a),_T(n,u);else if(BC(h,n,r,a,u))u.stopPropagation();else if(_T(n,u),r&4&&-1<zC.indexOf(n)){for(;h!==null;){var d=Jn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Pi(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var M=1<<31-Ct(_);b.entanglements[1]|=M,_&=~M}tr(d),(et&6)===0&&(pf=Mt()+500,du(0))}}break;case 31:case 13:b=_a(d,2),b!==null&&Mn(b,d,2),yf(),op(d,2)}if(d=up(u),d===null&&Qm(n,r,u,Mf,a),d===h)break;h=d}h!==null&&u.stopPropagation()}else Qm(n,r,u,null,a)}}function up(n){return n=Zn(n),cp(n)}var Mf=null;function cp(n){if(Mf=null,n=Bi(n),n!==null){var r=l(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=c(r),n!==null)return n;n=null}else if(a===31){if(n=m(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Mf=n,null}function vT(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pi()){case Le:return 2;case Rn:return 8;case Ue:case Vt:return 32;case Xn:return 268435456;default:return 32}default:return 32}}var fp=!1,xs=null,Ns=null,Ds=null,Eu=new Map,Tu=new Map,Os=[],zC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _T(n,r){switch(n){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":Eu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(r.pointerId)}}function Su(n,r,a,u,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Jn(r),r!==null&&gT(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function BC(n,r,a,u,h){switch(r){case"focusin":return xs=Su(xs,n,r,a,u,h),!0;case"dragenter":return Ns=Su(Ns,n,r,a,u,h),!0;case"mouseover":return Ds=Su(Ds,n,r,a,u,h),!0;case"pointerover":var d=h.pointerId;return Eu.set(d,Su(Eu.get(d)||null,n,r,a,u,h)),!0;case"gotpointercapture":return d=h.pointerId,Tu.set(d,Su(Tu.get(d)||null,n,r,a,u,h)),!0}return!1}function ET(n){var r=Bi(n.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){n.blockedOn=r,yi(n.priority,function(){yT(a)});return}}else if(r===31){if(r=m(a),r!==null){n.blockedOn=r,yi(n.priority,function(){yT(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Vf(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=up(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);kl=u,a.target.dispatchEvent(u),kl=null}else return r=Jn(a),r!==null&&gT(r),n.blockedOn=a,!1;r.shift()}return!0}function TT(n,r,a){Vf(n)&&a.delete(r)}function FC(){fp=!1,xs!==null&&Vf(xs)&&(xs=null),Ns!==null&&Vf(Ns)&&(Ns=null),Ds!==null&&Vf(Ds)&&(Ds=null),Eu.forEach(TT),Tu.forEach(TT)}function kf(n,r){n.blockedOn===r&&(n.blockedOn=null,fp||(fp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,FC)))}var Pf=null;function ST(n){Pf!==n&&(Pf=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Pf===n&&(Pf=null);for(var r=0;r<n.length;r+=3){var a=n[r],u=n[r+1],h=n[r+2];if(typeof u!="function"){if(cp(u||a)===null)continue;break}var d=Jn(a);d!==null&&(n.splice(r,3),r-=3,um(d,{pending:!0,data:h,method:a.method,action:u},u,h))}}))}function qo(n){function r(M){return kf(M,n)}xs!==null&&kf(xs,n),Ns!==null&&kf(Ns,n),Ds!==null&&kf(Ds,n),Eu.forEach(r),Tu.forEach(r);for(var a=0;a<Os.length;a++){var u=Os[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Os.length&&(a=Os[0],a.blockedOn===null);)ET(a),a.blockedOn===null&&Os.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var h=a[u],d=a[u+1],_=h[Yt]||null;if(typeof d=="function")_||ST(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Yt]||null)b=_.formAction;else if(cp(h)!==null)continue}else b=_.action;typeof b=="function"?a[u+1]=b:(a.splice(u,3),u-=3),ST(a)}}}function wT(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function hp(n){this._internalRoot=n}Lf.prototype.render=hp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=$n();mT(a,u,n,r,null,null)},Lf.prototype.unmount=hp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;mT(n.current,2,null,n,null,null),yf(),r[ji]=null}};function Lf(n){this._internalRoot=n}Lf.prototype.unstable_scheduleHydration=function(n){if(n){var r=gc();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Os.length&&r!==0&&r<Os[a].priority;a++);Os.splice(a,0,n),a===0&&ET(n)}};var AT=e.version;if(AT!=="19.2.0")throw Error(s(527,AT,"19.2.0"));oe.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var qC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uf.isDisabled&&Uf.supportsFiber)try{Ln=Uf.inject(qC),Zt=Uf}catch{}}return Au.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,u="",h=D_,d=O_,_=M_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=hT(n,1,!1,null,null,a,u,null,h,d,_,wT),n[ji]=r.current,Km(n),new hp(r)},Au.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var u=!1,h="",d=D_,_=O_,b=M_,M=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),r=hT(n,1,!0,r,a??null,u,h,M,d,_,b,wT),r.context=dT(null),a=r.current,u=$n(),u=oa(u),h=ys(u),h.callback=null,vs(a,h,u),a=u,r.current.lanes=a,sa(r,a),tr(r),n[ji]=r.current,Km(n),new Lf(r)},Au.version="19.2.0",Au}var VT;function JC(){if(VT)return pp.exports;VT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),pp.exports=WC(),pp.exports}var ZC=JC(),_p={exports:{}};var kT;function eI(){return kT||(kT=1,(function(i){(function(){var e={}.hasOwnProperty;function t(){for(var l="",c=0;c<arguments.length;c++){var m=arguments[c];m&&(l=o(l,s(m)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var m in l)e.call(l,m)&&l[m]&&(c=o(c,m));return c}function o(l,c){return c?l?l+" "+c:l+c:l}i.exports?(t.default=t,i.exports=t):window.classNames=t})()})(_p)),_p.exports}var tI=eI();const _e=Mh(tI),nI=["xxl","xl","lg","md","sm","xs"],iI="xs",Xu=w.createContext({prefixes:{},breakpoints:nI,minBreakpoint:iI}),{Consumer:h3,Provider:d3}=Xu;function Ae(i,e){const{prefixes:t}=w.useContext(Xu);return i||t[e]||e}function QS(){const{breakpoints:i}=w.useContext(Xu);return i}function YS(){const{minBreakpoint:i}=w.useContext(Xu);return i}function rI(){const{dir:i}=w.useContext(Xu);return i==="rtl"}const Fr=w.forwardRef(({bsPrefix:i,fluid:e=!1,as:t="div",className:s,...o},l)=>{const c=Ae(i,"container"),m=typeof e=="string"?`-${e}`:"-fluid";return S.jsx(t,{ref:l,...o,className:_e(s,e?`${c}${m}`:c)})});Fr.displayName="Container";function Gp(){return Gp=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Gp.apply(null,arguments)}function XS(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)!==-1)continue;t[s]=i[s]}return t}function PT(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function sI(i){var e=aI(i,"string");return typeof e=="symbol"?e:String(e)}function aI(i,e){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function oI(i,e,t){var s=w.useRef(i!==void 0),o=w.useState(e),l=o[0],c=o[1],m=i!==void 0,p=s.current;return s.current=m,!m&&p&&l!==e&&c(e),[m?i:l,w.useCallback(function(g){for(var v=arguments.length,E=new Array(v>1?v-1:0),A=1;A<v;A++)E[A-1]=arguments[A];t&&t.apply(void 0,[g].concat(E)),c(g)},[t])]}function Dg(i,e){return Object.keys(e).reduce(function(t,s){var o,l=t,c=l[PT(s)],m=l[s],p=XS(l,[PT(s),s].map(sI)),g=e[s],v=oI(m,c,i[g]),E=v[0],A=v[1];return Gp({},p,(o={},o[s]=E,o[g]=A,o))},i)}function $p(i,e){return $p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},$p(i,e)}function lI(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,$p(i,e)}var uI=Function.prototype.bind.call(Function.prototype.call,[].slice);function Oa(i,e){return uI(i.querySelectorAll(e))}function cI(){const[,i]=w.useReducer(e=>e+1,0);return i}const LT=i=>!i||typeof i=="function"?i:e=>{i.current=e};function fI(i,e){const t=LT(i),s=LT(e);return o=>{t&&t(o),s&&s(o)}}function Vh(i,e){return w.useMemo(()=>fI(i,e),[i,e])}const Og=w.createContext(null);Og.displayName="NavContext";const ah=w.createContext(null),Mg=(i,e=null)=>i!=null?String(i):e||null,WS=w.createContext(null),hI="data-rr-ui-",dI="rrUi";function kh(i){return`${hI}${i}`}function mI(i){return`${dI}${i}`}function pI(i){const e=w.useRef(i);return w.useEffect(()=>{e.current=i},[i]),e}function Lr(i){const e=pI(i);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const gI=["as","disabled"];function yI(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function vI(i){return!i||i.trim()==="#"}function Vg({tagName:i,disabled:e,href:t,target:s,rel:o,role:l,onClick:c,tabIndex:m=0,type:p}){i||(t!=null||s!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:e},g];const v=A=>{if((e||i==="a"&&vI(t))&&A.preventDefault(),e){A.stopPropagation();return}c?.(A)},E=A=>{A.key===" "&&(A.preventDefault(),v(A))};return i==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:m,href:t,target:i==="a"?s:void 0,"aria-disabled":e||void 0,rel:i==="a"?o:void 0,onClick:v,onKeyDown:E},g]}const JS=w.forwardRef((i,e)=>{let{as:t,disabled:s}=i,o=yI(i,gI);const[l,{tagName:c}]=Vg(Object.assign({tagName:t,disabled:s},o));return S.jsx(c,Object.assign({},o,l,{ref:e}))});JS.displayName="Button";const _I=["as","active","eventKey"];function EI(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function ZS({key:i,onClick:e,active:t,id:s,role:o,disabled:l}){const c=w.useContext(ah),m=w.useContext(Og),p=w.useContext(WS);let g=t;const v={role:o};if(m){!o&&m.role==="tablist"&&(v.role="tab");const E=m.getControllerId(i??null),A=m.getControlledId(i??null);v[kh("event-key")]=i,v.id=E||s,g=t==null&&i!=null?m.activeKey===i:t,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(v["aria-controls"]=A)}return v.role==="tab"&&(v["aria-selected"]=g,g||(v.tabIndex=-1),l&&(v.tabIndex=-1,v["aria-disabled"]=!0)),v.onClick=Lr(E=>{l||(e?.(E),i!=null&&c&&!E.isPropagationStopped()&&c(i,E))}),[v,{isActive:g}]}const ew=w.forwardRef((i,e)=>{let{as:t=JS,active:s,eventKey:o}=i,l=EI(i,_I);const[c,m]=ZS(Object.assign({key:Mg(o,l.href),active:s},l));return c[kh("active")]=m.isActive,S.jsx(t,Object.assign({},l,c,{ref:e}))});ew.displayName="NavItem";const TI=["as","onSelect","activeKey","role","onKeyDown"];function SI(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}const UT=()=>{},jT=kh("event-key"),tw=w.forwardRef((i,e)=>{let{as:t="div",onSelect:s,activeKey:o,role:l,onKeyDown:c}=i,m=SI(i,TI);const p=cI(),g=w.useRef(!1),v=w.useContext(ah),E=w.useContext(WS);let A,O;E&&(l=l||"tablist",o=E.activeKey,A=E.getControlledId,O=E.getControllerId);const z=w.useRef(null),Q=j=>{const W=z.current;if(!W)return null;const ue=Oa(W,`[${jT}]:not([aria-disabled=true])`),le=W.querySelector("[aria-selected=true]");if(!le||le!==document.activeElement)return null;const x=ue.indexOf(le);if(x===-1)return null;let I=x+j;return I>=ue.length&&(I=0),I<0&&(I=ue.length-1),ue[I]},P=(j,W)=>{j!=null&&(s?.(j,W),v?.(j,W))},$=j=>{if(c?.(j),!E)return;let W;switch(j.key){case"ArrowLeft":case"ArrowUp":W=Q(-1);break;case"ArrowRight":case"ArrowDown":W=Q(1);break;default:return}W&&(j.preventDefault(),P(W.dataset[mI("EventKey")]||null,j),g.current=!0,p())};w.useEffect(()=>{if(z.current&&g.current){const j=z.current.querySelector(`[${jT}][aria-selected=true]`);j?.focus()}g.current=!1});const Z=Vh(e,z);return S.jsx(ah.Provider,{value:P,children:S.jsx(Og.Provider,{value:{role:l,activeKey:Mg(o),getControlledId:A||UT,getControllerId:O||UT},children:S.jsx(t,Object.assign({},m,{onKeyDown:$,ref:Z,role:l}))})})});tw.displayName="Nav";const wI=Object.assign(tw,{Item:ew}),hl=w.createContext(null);hl.displayName="NavbarContext";const kg=w.createContext(null);kg.displayName="CardHeaderContext";const nw=w.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Ae(e,"nav-item"),S.jsx(t,{ref:o,className:_e(i,e),...s})));nw.displayName="NavItem";function AI(){const i=w.useRef(!0),e=w.useRef(()=>i.current);return w.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),e.current}function bI(i){const e=w.useRef(null);return w.useEffect(()=>{e.current=i}),e.current}const RI=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",CI=typeof document<"u",zT=CI||RI?w.useLayoutEffect:w.useEffect,II=["onKeyDown"];function xI(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function NI(i){return!i||i.trim()==="#"}const iw=w.forwardRef((i,e)=>{let{onKeyDown:t}=i,s=xI(i,II);const[o]=Vg(Object.assign({tagName:"a"},s)),l=Lr(c=>{o.onKeyDown(c),t?.(c)});return NI(s.href)||s.role==="button"?S.jsx("a",Object.assign({ref:e},s,o,{onKeyDown:l})):S.jsx("a",Object.assign({ref:e},s,{onKeyDown:t}))});iw.displayName="Anchor";const rw=w.forwardRef(({bsPrefix:i,className:e,as:t=iw,active:s,eventKey:o,disabled:l=!1,...c},m)=>{i=Ae(i,"nav-link");const[p,g]=ZS({key:Mg(o,c.href),active:s,disabled:l,...c});return S.jsx(t,{...c,...p,ref:m,disabled:l,className:_e(e,i,l&&"disabled",g.isActive&&"active")})});rw.displayName="NavLink";const sw=w.forwardRef((i,e)=>{const{as:t="div",bsPrefix:s,variant:o,fill:l=!1,justify:c=!1,navbar:m,navbarScroll:p,className:g,activeKey:v,...E}=Dg(i,{activeKey:"onSelect"}),A=Ae(s,"nav");let O,z,Q=!1;const P=w.useContext(hl),$=w.useContext(kg);return P?(O=P.bsPrefix,Q=m??!0):$&&({cardHeaderBsPrefix:z}=$),S.jsx(wI,{as:t,ref:e,activeKey:v,className:_e(g,{[A]:!Q,[`${O}-nav`]:Q,[`${O}-nav-scroll`]:Q&&p,[`${z}-${o}`]:!!z,[`${A}-${o}`]:!!o,[`${A}-fill`]:l,[`${A}-justified`]:c}),...E})});sw.displayName="Nav";const Ps=Object.assign(sw,{Item:nw,Link:rw}),aw=w.forwardRef(({bsPrefix:i,className:e,as:t,...s},o)=>{i=Ae(i,"navbar-brand");const l=t||(s.href?"a":"span");return S.jsx(l,{...s,ref:o,className:_e(e,i)})});aw.displayName="NavbarBrand";function Ph(i){return i&&i.ownerDocument||document}function DI(i){var e=Ph(i);return e&&e.defaultView||window}function OI(i,e){return DI(i).getComputedStyle(i,e)}var MI=/([A-Z])/g;function VI(i){return i.replace(MI,"-$1").toLowerCase()}var kI=/^ms-/;function jf(i){return VI(i).replace(kI,"-ms-")}var PI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function LI(i){return!!(i&&PI.test(i))}function qr(i,e){var t="",s="";if(typeof e=="string")return i.style.getPropertyValue(jf(e))||OI(i).getPropertyValue(jf(e));Object.keys(e).forEach(function(o){var l=e[o];!l&&l!==0?i.style.removeProperty(jf(o)):LI(o)?s+=o+"("+l+") ":t+=jf(o)+": "+l+";"}),s&&(t+="transform: "+s+";"),i.style.cssText+=";"+t}var Ep={exports:{}},Tp,BT;function UI(){if(BT)return Tp;BT=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Tp=i,Tp}var Sp,FT;function jI(){if(FT)return Sp;FT=1;var i=UI();function e(){}function t(){}return t.resetWarningCache=e,Sp=function(){function s(c,m,p,g,v,E){if(E!==i){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Sp}var qT;function zI(){return qT||(qT=1,Ep.exports=jI()()),Ep.exports}var BI=zI();const Hr=Mh(BI);var FI=KS();const Xo=Mh(FI),HT={disabled:!1},ow=jr.createContext(null);var qI=function(e){return e.scrollTop},Cu="unmounted",ks="exited",Ci="entering",Ur="entered",zu="exiting",es=(function(i){lI(e,i);function e(s,o){var l;l=i.call(this,s,o)||this;var c=o,m=c&&!c.isMounting?s.enter:s.appear,p;return l.appearStatus=null,s.in?m?(p=ks,l.appearStatus=Ci):p=Ur:s.unmountOnExit||s.mountOnEnter?p=Cu:p=ks,l.state={status:p},l.nextCallback=null,l}e.getDerivedStateFromProps=function(o,l){var c=o.in;return c&&l.status===Cu?{status:ks}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(o){var l=null;if(o!==this.props){var c=this.state.status;this.props.in?c!==Ci&&c!==Ur&&(l=Ci):(c===Ci||c===Ur)&&(l=zu)}this.updateStatus(!1,l)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var o=this.props.timeout,l,c,m;return l=c=m=o,o!=null&&typeof o!="number"&&(l=o.exit,c=o.enter,m=o.appear!==void 0?o.appear:c),{exit:l,enter:c,appear:m}},t.updateStatus=function(o,l){if(o===void 0&&(o=!1),l!==null)if(this.cancelNextCallback(),l===Ci){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Xo.findDOMNode(this);c&&qI(c)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ks&&this.setState({status:Cu})},t.performEnter=function(o){var l=this,c=this.props.enter,m=this.context?this.context.isMounting:o,p=this.props.nodeRef?[m]:[Xo.findDOMNode(this),m],g=p[0],v=p[1],E=this.getTimeouts(),A=m?E.appear:E.enter;if(!o&&!c||HT.disabled){this.safeSetState({status:Ur},function(){l.props.onEntered(g)});return}this.props.onEnter(g,v),this.safeSetState({status:Ci},function(){l.props.onEntering(g,v),l.onTransitionEnd(A,function(){l.safeSetState({status:Ur},function(){l.props.onEntered(g,v)})})})},t.performExit=function(){var o=this,l=this.props.exit,c=this.getTimeouts(),m=this.props.nodeRef?void 0:Xo.findDOMNode(this);if(!l||HT.disabled){this.safeSetState({status:ks},function(){o.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:zu},function(){o.props.onExiting(m),o.onTransitionEnd(c.exit,function(){o.safeSetState({status:ks},function(){o.props.onExited(m)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(o,l){l=this.setNextCallback(l),this.setState(o,l)},t.setNextCallback=function(o){var l=this,c=!0;return this.nextCallback=function(m){c&&(c=!1,l.nextCallback=null,o(m))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(o,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:Xo.findDOMNode(this),m=o==null&&!this.props.addEndListener;if(!c||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],g=p[0],v=p[1];this.props.addEndListener(g,v)}o!=null&&setTimeout(this.nextCallback,o)},t.render=function(){var o=this.state.status;if(o===Cu)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var m=XS(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return jr.createElement(ow.Provider,{value:null},typeof c=="function"?c(o,m):jr.cloneElement(jr.Children.only(c),m))},e})(jr.Component);es.contextType=ow;es.propTypes={};function Ho(){}es.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ho,onEntering:Ho,onEntered:Ho,onExit:Ho,onExiting:Ho,onExited:Ho};es.UNMOUNTED=Cu;es.EXITED=ks;es.ENTERING=Ci;es.ENTERED=Ur;es.EXITING=zu;function HI(i){return i.code==="Escape"||i.keyCode===27}function GI(){const i=w.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function dl(i){if(!i||typeof i=="function")return null;const{major:e}=GI();return e>=19?i.props.ref:i.ref}const ml=!!(typeof window<"u"&&window.document&&window.document.createElement);var Kp=!1,Qp=!1;try{var wp={get passive(){return Kp=!0},get once(){return Qp=Kp=!0}};ml&&(window.addEventListener("test",wp,wp),window.removeEventListener("test",wp,!0))}catch{}function lw(i,e,t,s){if(s&&typeof s!="boolean"&&!Qp){var o=s.once,l=s.capture,c=t;!Qp&&o&&(c=t.__once||function m(p){this.removeEventListener(e,m,l),t.call(this,p)},t.__once=c),i.addEventListener(e,c,Kp?s:l)}i.addEventListener(e,t,s)}function Yp(i,e,t,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(e,t,o),t.__once&&i.removeEventListener(e,t.__once,o)}function oh(i,e,t,s){return lw(i,e,t,s),function(){Yp(i,e,t,s)}}function $I(i,e,t,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(e,t,s),i.dispatchEvent(o)}}function KI(i){var e=qr(i,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function QI(i,e,t){t===void 0&&(t=5);var s=!1,o=setTimeout(function(){s||$I(i,"transitionend",!0)},e+t),l=oh(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),l()}}function uw(i,e,t,s){t==null&&(t=KI(i)||0);var o=QI(i,t,s),l=oh(i,"transitionend",e);return function(){o(),l()}}function GT(i,e){const t=qr(i,e)||"",s=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*s}function Pg(i,e){const t=GT(i,"transitionDuration"),s=GT(i,"transitionDelay"),o=uw(i,l=>{l.target===i&&(o(),e(l))},t+s)}function bu(...i){return i.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...o){e.apply(this,o),t.apply(this,o)}},null)}function cw(i){i.offsetHeight}const $T=i=>!i||typeof i=="function"?i:e=>{i.current=e};function YI(i,e){const t=$T(i),s=$T(e);return o=>{t&&t(o),s&&s(o)}}function fw(i,e){return w.useMemo(()=>YI(i,e),[i,e])}function XI(i){return i&&"setState"in i?Xo.findDOMNode(i):i??null}const Lh=jr.forwardRef(({onEnter:i,onEntering:e,onEntered:t,onExit:s,onExiting:o,onExited:l,addEndListener:c,children:m,childRef:p,...g},v)=>{const E=w.useRef(null),A=fw(E,p),O=le=>{A(XI(le))},z=le=>x=>{le&&E.current&&le(E.current,x)},Q=w.useCallback(z(i),[i]),P=w.useCallback(z(e),[e]),$=w.useCallback(z(t),[t]),Z=w.useCallback(z(s),[s]),j=w.useCallback(z(o),[o]),W=w.useCallback(z(l),[l]),ue=w.useCallback(z(c),[c]);return S.jsx(es,{ref:v,...g,onEnter:Q,onEntered:$,onEntering:P,onExit:Z,onExited:W,onExiting:j,addEndListener:ue,nodeRef:E,children:typeof m=="function"?(le,x)=>m(le,{...x,ref:O}):jr.cloneElement(m,{ref:O})})});Lh.displayName="TransitionWrapper";const WI={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function JI(i,e){const t=`offset${i[0].toUpperCase()}${i.slice(1)}`,s=e[t],o=WI[i];return s+parseInt(qr(e,o[0]),10)+parseInt(qr(e,o[1]),10)}const ZI={[ks]:"collapse",[zu]:"collapsing",[Ci]:"collapsing",[Ur]:"collapse show"},Lg=jr.forwardRef(({onEnter:i,onEntering:e,onEntered:t,onExit:s,onExiting:o,className:l,children:c,dimension:m="height",in:p=!1,timeout:g=300,mountOnEnter:v=!1,unmountOnExit:E=!1,appear:A=!1,getDimensionValue:O=JI,...z},Q)=>{const P=typeof m=="function"?m():m,$=w.useMemo(()=>bu(le=>{le.style[P]="0"},i),[P,i]),Z=w.useMemo(()=>bu(le=>{const x=`scroll${P[0].toUpperCase()}${P.slice(1)}`;le.style[P]=`${le[x]}px`},e),[P,e]),j=w.useMemo(()=>bu(le=>{le.style[P]=null},t),[P,t]),W=w.useMemo(()=>bu(le=>{le.style[P]=`${O(P,le)}px`,cw(le)},s),[s,O,P]),ue=w.useMemo(()=>bu(le=>{le.style[P]=null},o),[P,o]);return S.jsx(Lh,{ref:Q,addEndListener:Pg,...z,"aria-expanded":z.role?p:null,onEnter:$,onEntering:Z,onEntered:j,onExit:W,onExiting:ue,childRef:dl(c),in:p,timeout:g,mountOnEnter:v,unmountOnExit:E,appear:A,children:(le,x)=>jr.cloneElement(c,{...x,className:_e(l,c.props.className,ZI[le],P==="width"&&"collapse-horizontal")})})});Lg.displayName="Collapse";const hw=w.forwardRef(({children:i,bsPrefix:e,...t},s)=>{e=Ae(e,"navbar-collapse");const o=w.useContext(hl);return S.jsx(Lg,{in:!!(o&&o.expanded),...t,children:S.jsx("div",{ref:s,className:e,children:i})})});hw.displayName="NavbarCollapse";function ex(i){const e=w.useRef(i);return w.useEffect(()=>{e.current=i},[i]),e}function il(i){const e=ex(i);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const dw=w.forwardRef(({bsPrefix:i,className:e,children:t,label:s="Toggle navigation",as:o="button",onClick:l,...c},m)=>{i=Ae(i,"navbar-toggler");const{onToggle:p,expanded:g}=w.useContext(hl)||{},v=il(E=>{l&&l(E),p&&p()});return o==="button"&&(c.type="button"),S.jsx(o,{...c,ref:m,onClick:v,"aria-label":s,className:_e(e,i,!g&&"collapsed"),children:t||S.jsx("span",{className:`${i}-icon`})})});dw.displayName="NavbarToggle";const tx=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",nx=typeof document<"u",ix=nx||tx?w.useLayoutEffect:w.useEffect,Xp=new WeakMap,KT=(i,e)=>{if(!i||!e)return;const t=Xp.get(e)||new Map;Xp.set(e,t);let s=t.get(i);return s||(s=e.matchMedia(i),s.refCount=0,t.set(s.media,s)),s};function rx(i,e=typeof window>"u"?void 0:window){const t=KT(i,e),[s,o]=w.useState(()=>t?t.matches:!1);return ix(()=>{let l=KT(i,e);if(!l)return o(!1);let c=Xp.get(e);const m=()=>{o(l.matches)};return l.refCount++,l.addListener(m),m(),()=>{l.removeListener(m),l.refCount--,l.refCount<=0&&c?.delete(l.media),l=void 0}},[i]),s}function sx(i){const e=Object.keys(i);function t(m,p){return m===p?p:m?`${m} and ${p}`:p}function s(m){return e[Math.min(e.indexOf(m)+1,e.length-1)]}function o(m){const p=s(m);let g=i[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function l(m){let p=i[m];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function c(m,p,g){let v;typeof m=="object"?(v=m,g=p,p=!0):(p=p||!0,v={[m]:p});let E=w.useMemo(()=>Object.entries(v).reduce((A,[O,z])=>((z==="up"||z===!0)&&(A=t(A,l(O))),(z==="down"||z===!0)&&(A=t(A,o(O))),A),""),[JSON.stringify(v)]);return rx(E,g)}return c}const ax=sx({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Ap(i){i===void 0&&(i=Ph());try{var e=i.activeElement;return!e||!e.nodeName?null:e}catch{return i.body}}function QT(i,e){if(i.contains)return i.contains(e);if(i.compareDocumentPosition)return i===e||!!(i.compareDocumentPosition(e)&16)}function ox(i){const e=w.useRef(i);return e.current=i,e}function lx(i){const e=ox(i);w.useEffect(()=>()=>e.current(),[])}function ux(i=document){const e=i.defaultView;return Math.abs(e.innerWidth-i.documentElement.clientWidth)}const YT=kh("modal-open");class Ug{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:s=!1}={}){this.handleContainerOverflow=t,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return ux(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[s]:o.style[s]},e.scrollBarWidth&&(t[s]=`${parseInt(qr(o,s)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(YT,""),qr(o,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(YT),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const mw=w.createContext(ml?window:void 0);mw.Provider;function jg(){return w.useContext(mw)}const bp=(i,e)=>ml?i==null?(e||Ph()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function cx(i,e){const t=jg(),[s,o]=w.useState(()=>bp(i,t?.document));if(!s){const l=bp(i);l&&o(l)}return w.useEffect(()=>{},[e,s]),w.useEffect(()=>{const l=bp(i);l!==s&&o(l)},[i,s]),s}function fx({children:i,in:e,onExited:t,mountOnEnter:s,unmountOnExit:o}){const l=w.useRef(null),c=w.useRef(e),m=Lr(t);w.useEffect(()=>{e?c.current=!0:m(l.current)},[e,m]);const p=Vh(l,dl(i)),g=w.cloneElement(i,{ref:p});return e?g:o||!c.current&&s?null:g}const hx=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function dx(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function mx(i){let{onEnter:e,onEntering:t,onEntered:s,onExit:o,onExiting:l,onExited:c,addEndListener:m,children:p}=i,g=dx(i,hx);const v=w.useRef(null),E=Vh(v,dl(p)),A=W=>ue=>{W&&v.current&&W(v.current,ue)},O=w.useCallback(A(e),[e]),z=w.useCallback(A(t),[t]),Q=w.useCallback(A(s),[s]),P=w.useCallback(A(o),[o]),$=w.useCallback(A(l),[l]),Z=w.useCallback(A(c),[c]),j=w.useCallback(A(m),[m]);return Object.assign({},g,{nodeRef:v},e&&{onEnter:O},t&&{onEntering:z},s&&{onEntered:Q},o&&{onExit:P},l&&{onExiting:$},c&&{onExited:Z},m&&{addEndListener:j},{children:typeof p=="function"?(W,ue)=>p(W,Object.assign({},ue,{ref:E})):w.cloneElement(p,{ref:E})})}const px=["component"];function gx(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}const yx=w.forwardRef((i,e)=>{let{component:t}=i,s=gx(i,px);const o=mx(s);return S.jsx(t,Object.assign({ref:e},o))});function vx({in:i,onTransition:e}){const t=w.useRef(null),s=w.useRef(!0),o=Lr(e);return zT(()=>{if(!t.current)return;let l=!1;return o({in:i,element:t.current,initial:s.current,isStale:()=>l}),()=>{l=!0}},[i,o]),zT(()=>(s.current=!1,()=>{s.current=!0}),[]),t}function _x({children:i,in:e,onExited:t,onEntered:s,transition:o}){const[l,c]=w.useState(!e);e&&l&&c(!1);const m=vx({in:!!e,onTransition:g=>{const v=()=>{g.isStale()||(g.in?s?.(g.element,g.initial):(c(!0),t?.(g.element)))};Promise.resolve(o(g)).then(v,E=>{throw g.in||c(!0),E})}}),p=Vh(m,dl(i));return l&&!e?null:w.cloneElement(i,{ref:p})}function XT(i,e,t){return i?S.jsx(yx,Object.assign({},t,{component:i})):e?S.jsx(_x,Object.assign({},t,{transition:e})):S.jsx(fx,Object.assign({},t))}const Ex=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Tx(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}let Rp;function Sx(i){return Rp||(Rp=new Ug({ownerDocument:i?.document})),Rp}function wx(i){const e=jg(),t=i||Sx(e),s=w.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>t.add(s.current),remove:()=>t.remove(s.current),isTopModal:()=>t.isTopModal(s.current),setDialogRef:w.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:w.useCallback(o=>{s.current.backdrop=o},[])})}const pw=w.forwardRef((i,e)=>{let{show:t=!1,role:s="dialog",className:o,style:l,children:c,backdrop:m=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:v,transition:E,runTransition:A,backdropTransition:O,runBackdropTransition:z,autoFocus:Q=!0,enforceFocus:P=!0,restoreFocus:$=!0,restoreFocusOptions:Z,renderDialog:j,renderBackdrop:W=Qe=>S.jsx("div",Object.assign({},Qe)),manager:ue,container:le,onShow:x,onHide:I=()=>{},onExit:N,onExited:L,onExiting:k,onEnter:D,onEntering:C,onEntered:he}=i,de=Tx(i,Ex);const G=jg(),oe=cx(le),ce=wx(ue),Ie=AI(),xe=bI(t),[V,J]=w.useState(!t),ae=w.useRef(null);w.useImperativeHandle(e,()=>ce,[ce]),ml&&!xe&&t&&(ae.current=Ap(G?.document)),t&&V&&J(!1);const re=Lr(()=>{if(ce.add(),cn.current=oh(document,"keydown",tt),Ke.current=oh(document,"focus",()=>setTimeout(Ee),!0),x&&x(),Q){var Qe,En;const Tn=Ap((Qe=(En=ce.dialog)==null?void 0:En.ownerDocument)!=null?Qe:G?.document);ce.dialog&&Tn&&!QT(ce.dialog,Tn)&&(ae.current=Tn,ce.dialog.focus())}}),ye=Lr(()=>{if(ce.remove(),cn.current==null||cn.current(),Ke.current==null||Ke.current(),$){var Qe;(Qe=ae.current)==null||Qe.focus==null||Qe.focus(Z),ae.current=null}});w.useEffect(()=>{!t||!oe||re()},[t,oe,re]),w.useEffect(()=>{V&&ye()},[V,ye]),lx(()=>{ye()});const Ee=Lr(()=>{if(!P||!Ie()||!ce.isTopModal())return;const Qe=Ap(G?.document);ce.dialog&&Qe&&!QT(ce.dialog,Qe)&&ce.dialog.focus()}),Oe=Lr(Qe=>{Qe.target===Qe.currentTarget&&(g?.(Qe),m===!0&&I())}),tt=Lr(Qe=>{p&&HI(Qe)&&ce.isTopModal()&&(v?.(Qe),Qe.defaultPrevented||I())}),Ke=w.useRef(),cn=w.useRef(),_n=(...Qe)=>{J(!0),L?.(...Qe)};if(!oe)return null;const fn=Object.assign({role:s,ref:ce.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},de,{style:l,className:o,tabIndex:-1});let hn=j?j(fn):S.jsx("div",Object.assign({},fn,{children:w.cloneElement(c,{role:"document"})}));hn=XT(E,A,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:N,onExiting:k,onExited:_n,onEnter:D,onEntering:C,onEntered:he,children:hn});let Ot=null;return m&&(Ot=W({ref:ce.setBackdropRef,onClick:Oe}),Ot=XT(O,z,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ot})),S.jsx(S.Fragment,{children:Xo.createPortal(S.jsxs(S.Fragment,{children:[Ot,hn]}),oe)})});pw.displayName="Modal";const gw=Object.assign(pw,{Manager:Ug}),Ax={[Ci]:"show",[Ur]:"show"},Uh=w.forwardRef(({className:i,children:e,transitionClasses:t={},onEnter:s,...o},l)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},m=w.useCallback((p,g)=>{cw(p),s?.(p,g)},[s]);return S.jsx(Lh,{ref:l,addEndListener:Pg,...c,onEnter:m,childRef:dl(e),children:(p,g)=>w.cloneElement(e,{...g,className:_e("fade",i,e.props.className,Ax[p],t[p])})})});Uh.displayName="Fade";const yw=w.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Ae(e,"offcanvas-body"),S.jsx(t,{ref:o,className:_e(i,e),...s})));yw.displayName="OffcanvasBody";const bx={[Ci]:"show",[Ur]:"show"},vw=w.forwardRef(({bsPrefix:i,className:e,children:t,in:s=!1,mountOnEnter:o=!1,unmountOnExit:l=!1,appear:c=!1,...m},p)=>(i=Ae(i,"offcanvas"),S.jsx(Lh,{ref:p,addEndListener:Pg,in:s,mountOnEnter:o,unmountOnExit:l,appear:c,...m,childRef:dl(t),children:(g,v)=>w.cloneElement(t,{...v,className:_e(e,t.props.className,(g===Ci||g===zu)&&`${i}-toggling`,bx[g])})})));vw.displayName="OffcanvasToggling";const zg=w.createContext({onHide(){}}),Rx={"aria-label":Hr.string,onClick:Hr.func,variant:Hr.oneOf(["white"])},Bg=w.forwardRef(({className:i,variant:e,"aria-label":t="Close",...s},o)=>S.jsx("button",{ref:o,type:"button",className:_e("btn-close",e&&`btn-close-${e}`,i),"aria-label":t,...s}));Bg.displayName="CloseButton";Bg.propTypes=Rx;const Fg=w.forwardRef(({closeLabel:i="Close",closeVariant:e,closeButton:t=!1,onHide:s,children:o,...l},c)=>{const m=w.useContext(zg),p=il(()=>{m?.onHide(),s?.()});return S.jsxs("div",{ref:c,...l,children:[o,t&&S.jsx(Bg,{"aria-label":i,variant:e,onClick:p})]})});Fg.displayName="AbstractModalHeader";const _w=w.forwardRef(({bsPrefix:i,className:e,closeLabel:t="Close",closeButton:s=!1,...o},l)=>(i=Ae(i,"offcanvas-header"),S.jsx(Fg,{ref:l,...o,className:_e(e,i),closeLabel:t,closeButton:s})));_w.displayName="OffcanvasHeader";const jh=(i=>w.forwardRef((e,t)=>S.jsx("div",{...e,ref:t,className:_e(e.className,i)}))),Cx=jh("h5"),Ew=w.forwardRef(({className:i,bsPrefix:e,as:t=Cx,...s},o)=>(e=Ae(e,"offcanvas-title"),S.jsx(t,{ref:o,className:_e(i,e),...s})));Ew.displayName="OffcanvasTitle";function Ix(i,e){return i.classList?i.classList.contains(e):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+e+" ")!==-1}function xx(i,e){i.classList?i.classList.add(e):Ix(i,e)||(typeof i.className=="string"?i.className=i.className+" "+e:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+e))}function WT(i,e){return i.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Nx(i,e){i.classList?i.classList.remove(e):typeof i.className=="string"?i.className=WT(i.className,e):i.setAttribute("class",WT(i.className&&i.className.baseVal||"",e))}const Go={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Tw extends Ug{adjustAndStore(e,t,s){const o=t.style[e];t.dataset[e]=o,qr(t,{[e]:`${parseFloat(qr(t,e))+s}px`})}restore(e,t){const s=t.dataset[e];s!==void 0&&(delete t.dataset[e],qr(t,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(xx(t,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Oa(t,Go.FIXED_CONTENT).forEach(l=>this.adjustAndStore(s,l,e.scrollBarWidth)),Oa(t,Go.STICKY_CONTENT).forEach(l=>this.adjustAndStore(o,l,-e.scrollBarWidth)),Oa(t,Go.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(o,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();Nx(t,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Oa(t,Go.FIXED_CONTENT).forEach(l=>this.restore(s,l)),Oa(t,Go.STICKY_CONTENT).forEach(l=>this.restore(o,l)),Oa(t,Go.NAVBAR_TOGGLER).forEach(l=>this.restore(o,l))}}let Cp;function Sw(i){return Cp||(Cp=new Tw(i)),Cp}function Dx(i){return S.jsx(vw,{...i})}function Ox(i){return S.jsx(Uh,{...i})}const ww=w.forwardRef(({bsPrefix:i,className:e,children:t,"aria-labelledby":s,placement:o="start",responsive:l,show:c=!1,backdrop:m=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:v,onShow:E,onHide:A,container:O,autoFocus:z=!0,enforceFocus:Q=!0,restoreFocus:P=!0,restoreFocusOptions:$,onEntered:Z,onExit:j,onExiting:W,onEnter:ue,onEntering:le,onExited:x,backdropClassName:I,manager:N,renderStaticNode:L=!1,...k},D)=>{const C=w.useRef();i=Ae(i,"offcanvas");const[he,de]=w.useState(!1),G=il(A),oe=ax(l||"xs","up");w.useEffect(()=>{de(l?c&&!oe:c)},[c,l,oe]);const ce=w.useMemo(()=>({onHide:G}),[G]);function Ie(){return N||(g?(C.current||(C.current=new Tw({handleContainerOverflow:!1})),C.current):Sw())}const xe=(re,...ye)=>{re&&(re.style.visibility="visible"),ue?.(re,...ye)},V=(re,...ye)=>{re&&(re.style.visibility=""),x?.(...ye)},J=w.useCallback(re=>S.jsx("div",{...re,className:_e(`${i}-backdrop`,I)}),[I,i]),ae=re=>S.jsx("div",{...re,...k,className:_e(e,l?`${i}-${l}`:i,`${i}-${o}`),"aria-labelledby":s,children:t});return S.jsxs(S.Fragment,{children:[!he&&(l||L)&&ae({}),S.jsx(zg.Provider,{value:ce,children:S.jsx(gw,{show:he,ref:D,backdrop:m,container:O,keyboard:p,autoFocus:z,enforceFocus:Q&&!g,restoreFocus:P,restoreFocusOptions:$,onEscapeKeyDown:v,onShow:E,onHide:G,onEnter:xe,onEntering:le,onEntered:Z,onExit:j,onExiting:W,onExited:V,manager:Ie(),transition:Dx,backdropTransition:Ox,renderBackdrop:J,renderDialog:ae})})]})});ww.displayName="Offcanvas";const Mx=Object.assign(ww,{Body:yw,Header:_w,Title:Ew}),Aw=w.forwardRef(({onHide:i,...e},t)=>{const s=w.useContext(hl),o=il(()=>{s==null||s.onToggle==null||s.onToggle(),i?.()});return S.jsx(Mx,{ref:t,show:!!(s!=null&&s.expanded),...e,renderStaticNode:!0,onHide:o})});Aw.displayName="NavbarOffcanvas";const bw=w.forwardRef(({className:i,bsPrefix:e,as:t="span",...s},o)=>(e=Ae(e,"navbar-text"),S.jsx(t,{ref:o,className:_e(i,e),...s})));bw.displayName="NavbarText";const Rw=w.forwardRef((i,e)=>{const{bsPrefix:t,expand:s=!0,variant:o="light",bg:l,fixed:c,sticky:m,className:p,as:g="nav",expanded:v,onToggle:E,onSelect:A,collapseOnSelect:O=!1,...z}=Dg(i,{expanded:"onToggle"}),Q=Ae(t,"navbar"),P=w.useCallback((...j)=>{A?.(...j),O&&v&&E?.(!1)},[A,O,v,E]);z.role===void 0&&g!=="nav"&&(z.role="navigation");let $=`${Q}-expand`;typeof s=="string"&&($=`${$}-${s}`);const Z=w.useMemo(()=>({onToggle:()=>E?.(!v),bsPrefix:Q,expanded:!!v,expand:s}),[Q,v,s,E]);return S.jsx(hl.Provider,{value:Z,children:S.jsx(ah.Provider,{value:P,children:S.jsx(g,{ref:e,...z,className:_e(p,Q,s&&$,o&&`${Q}-${o}`,l&&`bg-${l}`,m&&`sticky-${m}`,c&&`fixed-${c}`)})})})});Rw.displayName="Navbar";const Bs=Object.assign(Rw,{Brand:aw,Collapse:hw,Offcanvas:Aw,Text:bw,Toggle:dw});var JT="popstate";function Vx(i={}){function e(o,l){let{pathname:c="/",search:m="",hash:p=""}=Ga(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Wp("",{pathname:c,search:m,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),m="";if(c&&c.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof l=="string"?l:Bu(l))}function s(o,l){mi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Px(e,t,s,i)}function Tt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function mi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kx(){return Math.random().toString(36).substring(2,10)}function ZT(i,e){return{usr:i.state,key:i.key,idx:e}}function Wp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ga(e):e,state:t,key:e&&e.key||s||kx()}}function Bu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Ga(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Px(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,m="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function E(){m="POP";let P=v(),$=P==null?null:P-g;g=P,p&&p({action:m,location:Q.location,delta:$})}function A(P,$){m="PUSH";let Z=Wp(Q.location,P,$);t&&t(Z,P),g=v()+1;let j=ZT(Z,g),W=Q.createHref(Z);try{c.pushState(j,"",W)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(W)}l&&p&&p({action:m,location:Q.location,delta:1})}function O(P,$){m="REPLACE";let Z=Wp(Q.location,P,$);t&&t(Z,P),g=v();let j=ZT(Z,g),W=Q.createHref(Z);c.replaceState(j,"",W),l&&p&&p({action:m,location:Q.location,delta:0})}function z(P){return Lx(P)}let Q={get action(){return m},get location(){return i(o,c)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(JT,E),p=P,()=>{o.removeEventListener(JT,E),p=null}},createHref(P){return e(o,P)},createURL:z,encodeLocation(P){let $=z(P);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:A,replace:O,go(P){return c.go(P)}};return Q}function Lx(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Bu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Cw(i,e,t="/"){return Ux(i,e,t,!1)}function Ux(i,e,t,s){let o=typeof e=="string"?Ga(e):e,l=Qr(o.pathname||"/",t);if(l==null)return null;let c=Iw(i);jx(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=Xx(l);m=Qx(c[p],g,s)}return m}function Iw(i,e=[],t=[],s="",o=!1){let l=(c,m,p=o,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;Tt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let E=Gr([s,v.relativePath]),A=t.concat(v);c.children&&c.children.length>0&&(Tt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Iw(c.children,e,A,E,p)),!(c.path==null&&!c.index)&&e.push({path:E,score:$x(E,c.index),routesMeta:A})};return i.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))l(c,m);else for(let p of xw(c.path))l(c,m,!0,p)}),e}function xw(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=xw(s.join("/")),m=[];return m.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&m.push(...c),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function jx(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:Kx(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var zx=/^:[\w-]+$/,Bx=3,Fx=2,qx=1,Hx=10,Gx=-2,e0=i=>i==="*";function $x(i,e){let t=i.split("/"),s=t.length;return t.some(e0)&&(s+=Gx),e&&(s+=Fx),t.filter(o=>!e0(o)).reduce((o,l)=>o+(zx.test(l)?Bx:l===""?qx:Hx),s)}function Kx(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Qx(i,e,t=!1){let{routesMeta:s}=i,o={},l="/",c=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),A=p.route;if(!E&&g&&t&&!s[s.length-1].route.index&&(E=lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:Gr([l,E.pathname]),pathnameBase:tN(Gr([l,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(l=Gr([l,E.pathnameBase]))}return c}function lh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=Yx(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:E},A)=>{if(v==="*"){let z=m[A]||"";c=l.slice(0,l.length-z.length).replace(/(.)\/+$/,"$1")}const O=m[A];return E&&!O?g[v]=void 0:g[v]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:i}}function Yx(i,e=!1,t=!0){mi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Xx(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Qr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}var Wx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jx=i=>Wx.test(i);function Zx(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?Ga(i):i,l;if(t)if(Jx(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),mi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=t0(t.substring(1),"/"):l=t0(t,e)}else l=e;return{pathname:l,search:nN(s),hash:iN(o)}}function t0(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ip(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eN(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Nw(i){let e=eN(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Dw(i,e,t,s=!1){let o;typeof i=="string"?o=Ga(i):(o={...i},Tt(!o.pathname||!o.pathname.includes("?"),Ip("?","pathname","search",o)),Tt(!o.pathname||!o.pathname.includes("#"),Ip("#","pathname","hash",o)),Tt(!o.search||!o.search.includes("#"),Ip("#","search","hash",o)));let l=i===""||o.pathname==="",c=l?"/":o.pathname,m;if(c==null)m=t;else{let E=e.length-1;if(!s&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),E-=1;o.pathname=A.join("/")}m=E>=0?e[E]:"/"}let p=Zx(o,m),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Gr=i=>i.join("/").replace(/\/\/+/g,"/"),tN=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),nN=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,iN=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function rN(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ow=["POST","PUT","PATCH","DELETE"];new Set(Ow);var sN=["GET",...Ow];new Set(sN);var pl=w.createContext(null);pl.displayName="DataRouter";var zh=w.createContext(null);zh.displayName="DataRouterState";w.createContext(!1);var Mw=w.createContext({isTransitioning:!1});Mw.displayName="ViewTransition";var aN=w.createContext(new Map);aN.displayName="Fetchers";var oN=w.createContext(null);oN.displayName="Await";var pr=w.createContext(null);pr.displayName="Navigation";var Wu=w.createContext(null);Wu.displayName="Location";var gr=w.createContext({outlet:null,matches:[],isDataRoute:!1});gr.displayName="Route";var qg=w.createContext(null);qg.displayName="RouteError";function lN(i,{relative:e}={}){Tt(Ju(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=w.useContext(pr),{hash:o,pathname:l,search:c}=Zu(i,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:Gr([t,l])),s.createHref({pathname:m,search:c,hash:o})}function Ju(){return w.useContext(Wu)!=null}function $a(){return Tt(Ju(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Wu).location}var Vw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kw(i){w.useContext(pr).static||w.useLayoutEffect(i)}function Ka(){let{isDataRoute:i}=w.useContext(gr);return i?SN():uN()}function uN(){Tt(Ju(),"useNavigate() may be used only in the context of a <Router> component.");let i=w.useContext(pl),{basename:e,navigator:t}=w.useContext(pr),{matches:s}=w.useContext(gr),{pathname:o}=$a(),l=JSON.stringify(Nw(s)),c=w.useRef(!1);return kw(()=>{c.current=!0}),w.useCallback((p,g={})=>{if(mi(c.current,Vw),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=Dw(p,JSON.parse(l),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Gr([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,o,i])}w.createContext(null);function cN(){let{matches:i}=w.useContext(gr),e=i[i.length-1];return e?e.params:{}}function Zu(i,{relative:e}={}){let{matches:t}=w.useContext(gr),{pathname:s}=$a(),o=JSON.stringify(Nw(t));return w.useMemo(()=>Dw(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function fN(i,e){return Pw(i,e)}function Pw(i,e,t,s,o){Tt(Ju(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=w.useContext(pr),{matches:c}=w.useContext(gr),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",E=m&&m.route;{let Z=E&&E.path||"";Lw(g,!E||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let A=$a(),O;if(e){let Z=typeof e=="string"?Ga(e):e;Tt(v==="/"||Z.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),O=Z}else O=A;let z=O.pathname||"/",Q=z;if(v!=="/"){let Z=v.replace(/^\//,"").split("/");Q="/"+z.replace(/^\//,"").split("/").slice(Z.length).join("/")}let P=Cw(i,{pathname:Q});mi(E||P!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),mi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=gN(P&&P.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:Gr([v,l.encodeLocation?l.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?v:Gr([v,l.encodeLocation?l.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),c,t,s,o);return e&&$?w.createElement(Wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},$):$}function hN(){let i=TN(),e=rN(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:o},t):null,c)}var dN=w.createElement(hN,null),mN=class extends w.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?w.createElement(gr.Provider,{value:this.props.routeContext},w.createElement(qg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pN({routeContext:i,match:e,children:t}){let s=w.useContext(pl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(gr.Provider,{value:i},t)}function gN(i,e=[],t=null,s=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let l=i,c=t?.errors;if(c!=null){let v=l.findIndex(E=>E.route.id&&c?.[E.route.id]!==void 0);Tt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let m=!1,p=-1;if(t)for(let v=0;v<l.length;v++){let E=l[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=v),E.route.id){let{loaderData:A,errors:O}=t,z=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!O||O[E.route.id]===void 0);if(E.route.lazy||z){m=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&s?(v,E)=>{s(v,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:E})}:void 0;return l.reduceRight((v,E,A)=>{let O,z=!1,Q=null,P=null;t&&(O=c&&E.route.id?c[E.route.id]:void 0,Q=E.route.errorElement||dN,m&&(p<0&&A===0?(Lw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,P=null):p===A&&(z=!0,P=E.route.hydrateFallbackElement||null)));let $=e.concat(l.slice(0,A+1)),Z=()=>{let j;return O?j=Q:z?j=P:E.route.Component?j=w.createElement(E.route.Component,null):E.route.element?j=E.route.element:j=v,w.createElement(pN,{match:E,routeContext:{outlet:v,matches:$,isDataRoute:t!=null},children:j})};return t&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?w.createElement(mN,{location:t.location,revalidation:t.revalidation,component:Q,error:O,children:Z(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:g}):Z()},null)}function Hg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yN(i){let e=w.useContext(pl);return Tt(e,Hg(i)),e}function vN(i){let e=w.useContext(zh);return Tt(e,Hg(i)),e}function _N(i){let e=w.useContext(gr);return Tt(e,Hg(i)),e}function Gg(i){let e=_N(i),t=e.matches[e.matches.length-1];return Tt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function EN(){return Gg("useRouteId")}function TN(){let i=w.useContext(qg),e=vN("useRouteError"),t=Gg("useRouteError");return i!==void 0?i:e.errors?.[t]}function SN(){let{router:i}=yN("useNavigate"),e=Gg("useNavigate"),t=w.useRef(!1);return kw(()=>{t.current=!0}),w.useCallback(async(o,l={})=>{mi(t.current,Vw),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var n0={};function Lw(i,e,t){!e&&!n0[i]&&(n0[i]=!0,mi(!1,t))}w.memo(wN);function wN({routes:i,future:e,state:t,unstable_onError:s}){return Pw(i,void 0,t,s,e)}function Pr(i){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AN({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){Tt(!Ju(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),m=w.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=Ga(t));let{pathname:p="/",search:g="",hash:v="",state:E=null,key:A="default"}=t,O=w.useMemo(()=>{let z=Qr(p,c);return z==null?null:{location:{pathname:z,search:g,hash:v,state:E,key:A},navigationType:s}},[c,p,g,v,E,A,s]);return mi(O!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:w.createElement(pr.Provider,{value:m},w.createElement(Wu.Provider,{children:e,value:O}))}function bN({children:i,location:e}){return fN(Jp(i),e)}function Jp(i,e=[]){let t=[];return w.Children.forEach(i,(s,o)=>{if(!w.isValidElement(s))return;let l=[...e,o];if(s.type===w.Fragment){t.push.apply(t,Jp(s.props.children,l));return}Tt(s.type===Pr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Jp(s.props.children,l)),t.push(c)}),t}var Qf="get",Yf="application/x-www-form-urlencoded";function Bh(i){return i!=null&&typeof i.tagName=="string"}function RN(i){return Bh(i)&&i.tagName.toLowerCase()==="button"}function CN(i){return Bh(i)&&i.tagName.toLowerCase()==="form"}function IN(i){return Bh(i)&&i.tagName.toLowerCase()==="input"}function xN(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function NN(i,e){return i.button===0&&(!e||e==="_self")&&!xN(i)}var zf=null;function DN(){if(zf===null)try{new FormData(document.createElement("form"),0),zf=!1}catch{zf=!0}return zf}var ON=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xp(i){return i!=null&&!ON.has(i)?(mi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yf}"`),null):i}function MN(i,e){let t,s,o,l,c;if(CN(i)){let m=i.getAttribute("action");s=m?Qr(m,e):null,t=i.getAttribute("method")||Qf,o=xp(i.getAttribute("enctype"))||Yf,l=new FormData(i)}else if(RN(i)||IN(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Qr(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||Qf,o=xp(i.getAttribute("formenctype"))||xp(m.getAttribute("enctype"))||Yf,l=new FormData(m,i),!DN()){let{name:g,type:v,value:E}=i;if(v==="image"){let A=g?`${g}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else g&&l.append(g,E)}}else{if(Bh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Qf,s=null,o=Yf,c=i}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $g(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function VN(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Qr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function kN(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PN(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function LN(i,e,t){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await kN(l,t);return c.links?c.links():[]}return[]}));return BN(s.flat(1).filter(PN).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function i0(i,e,t,s,o,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):l==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function UN(i,e,{includeHydrateFallback:t}={}){return jN(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function jN(i){return[...new Set(i)]}function zN(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function BN(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(zN(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function Uw(){let i=w.useContext(pl);return $g(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function FN(){let i=w.useContext(zh);return $g(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Kg=w.createContext(void 0);Kg.displayName="FrameworkContext";function jw(){let i=w.useContext(Kg);return $g(i,"You must render this element inside a <HydratedRouter> element"),i}function qN(i,e){let t=w.useContext(Kg),[s,o]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=e,A=w.useRef(null);w.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let Q=$=>{$.forEach(Z=>{c(Z.isIntersecting)})},P=new IntersectionObserver(Q,{threshold:.5});return A.current&&P.observe(A.current),()=>{P.disconnect()}}},[i]),w.useEffect(()=>{if(s){let Q=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let O=()=>{o(!0)},z=()=>{o(!1),c(!1)};return t?i!=="intent"?[l,A,{}]:[l,A,{onFocus:Ru(m,O),onBlur:Ru(p,z),onMouseEnter:Ru(g,O),onMouseLeave:Ru(v,z),onTouchStart:Ru(E,O)}]:[!1,A,{}]}function Ru(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function HN({page:i,...e}){let{router:t}=Uw(),s=w.useMemo(()=>Cw(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?w.createElement($N,{page:i,matches:s,...e}):null}function GN(i){let{manifest:e,routeModules:t}=jw(),[s,o]=w.useState([]);return w.useEffect(()=>{let l=!1;return LN(i,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[i,e,t]),s}function $N({page:i,matches:e,...t}){let s=$a(),{manifest:o,routeModules:l}=jw(),{basename:c}=Uw(),{loaderData:m,matches:p}=FN(),g=w.useMemo(()=>i0(i,e,p,o,s,"data"),[i,e,p,o,s]),v=w.useMemo(()=>i0(i,e,p,o,s,"assets"),[i,e,p,o,s]),E=w.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let z=new Set,Q=!1;if(e.forEach($=>{let Z=o.routes[$.route.id];!Z||!Z.hasLoader||(!g.some(j=>j.route.id===$.route.id)&&$.route.id in m&&l[$.route.id]?.shouldRevalidate||Z.hasClientLoader?Q=!0:z.add($.route.id))}),z.size===0)return[];let P=VN(i,c,"data");return Q&&z.size>0&&P.searchParams.set("_routes",e.filter($=>z.has($.route.id)).map($=>$.route.id).join(",")),[P.pathname+P.search]},[c,m,s,o,g,e,i,l]),A=w.useMemo(()=>UN(v,o),[v,o]),O=GN(v);return w.createElement(w.Fragment,null,E.map(z=>w.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),A.map(z=>w.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),O.map(({key:z,link:Q})=>w.createElement("link",{key:z,nonce:t.nonce,...Q})))}function KN(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var zw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zw&&(window.__reactRouterVersion="7.9.6")}catch{}function QN({basename:i,children:e,window:t}){let s=w.useRef();s.current==null&&(s.current=Vx({window:t,v5Compat:!0}));let o=s.current,[l,c]=w.useState({action:o.action,location:o.location}),m=w.useCallback(p=>{w.startTransition(()=>c(p))},[c]);return w.useLayoutEffect(()=>o.listen(m),[o,m]),w.createElement(AN,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rr=w.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:m,target:p,to:g,preventScrollReset:v,viewTransition:E,...A},O){let{basename:z}=w.useContext(pr),Q=typeof g=="string"&&Bw.test(g),P,$=!1;if(typeof g=="string"&&Q&&(P=g,zw))try{let N=new URL(window.location.href),L=g.startsWith("//")?new URL(N.protocol+g):new URL(g),k=Qr(L.pathname,z);L.origin===N.origin&&k!=null?g=k+L.search+L.hash:$=!0}catch{mi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=lN(g,{relative:o}),[j,W,ue]=qN(s,A),le=JN(g,{replace:c,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:E});function x(N){e&&e(N),N.defaultPrevented||le(N)}let I=w.createElement("a",{...A,...ue,href:P||Z,onClick:$||l?e:x,ref:KN(O,W),target:p,"data-discover":!Q&&t==="render"?"true":void 0});return j&&!Q?w.createElement(w.Fragment,null,I,w.createElement(HN,{page:Z})):I});rr.displayName="Link";var YN=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:m,children:p,...g},v){let E=Zu(c,{relative:g.relative}),A=$a(),O=w.useContext(zh),{navigator:z,basename:Q}=w.useContext(pr),P=O!=null&&iD(E)&&m===!0,$=z.encodeLocation?z.encodeLocation(E).pathname:E.pathname,Z=A.pathname,j=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),j=j?j.toLowerCase():null,$=$.toLowerCase()),j&&Q&&(j=Qr(j,Q)||j);const W=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ue=Z===$||!o&&Z.startsWith($)&&Z.charAt(W)==="/",le=j!=null&&(j===$||!o&&j.startsWith($)&&j.charAt($.length)==="/"),x={isActive:ue,isPending:le,isTransitioning:P},I=ue?e:void 0,N;typeof s=="function"?N=s(x):N=[s,ue?"active":null,le?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(x):l;return w.createElement(rr,{...g,"aria-current":I,className:N,ref:v,style:L,to:c,viewTransition:m},typeof p=="function"?p(x):p)});YN.displayName="NavLink";var XN=w.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:c=Qf,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:E,...A},O)=>{let z=tD(),Q=nD(m,{relative:g}),P=c.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&Bw.test(m),Z=j=>{if(p&&p(j),j.defaultPrevented)return;j.preventDefault();let W=j.nativeEvent.submitter,ue=W?.getAttribute("formmethod")||c;z(W||j.currentTarget,{fetcherKey:e,method:ue,navigate:t,replace:o,state:l,relative:g,preventScrollReset:v,viewTransition:E})};return w.createElement("form",{ref:O,method:P,action:Q,onSubmit:s?p:Z,...A,"data-discover":!$&&i==="render"?"true":void 0})});XN.displayName="Form";function WN(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fw(i){let e=w.useContext(pl);return Tt(e,WN(i)),e}function JN(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let m=Ka(),p=$a(),g=Zu(i,{relative:l});return w.useCallback(v=>{if(NN(v,e)){v.preventDefault();let E=t!==void 0?t:Bu(p)===Bu(g);m(i,{replace:E,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[p,m,g,t,s,e,i,o,l,c])}var ZN=0,eD=()=>`__${String(++ZN)}__`;function tD(){let{router:i}=Fw("useSubmit"),{basename:e}=w.useContext(pr),t=EN();return w.useCallback(async(s,o={})=>{let{action:l,method:c,encType:m,formData:p,body:g}=MN(s,e);if(o.navigate===!1){let v=o.fetcherKey||eD();await i.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function nD(i,{relative:e}={}){let{basename:t}=w.useContext(pr),s=w.useContext(gr);Tt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Zu(i||".",{relative:e})},c=$a();if(i==null){l.search=c.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(E=>E).forEach(E=>m.append("index",E));let v=m.toString();l.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Gr([t,l.pathname])),Bu(l)}function iD(i,{relative:e}={}){let t=w.useContext(Mw);Tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Fw("useViewTransitionState"),o=Zu(i,{relative:e});if(!t.isTransitioning)return!1;let l=Qr(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Qr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return lh(o.pathname,c)!=null||lh(o.pathname,l)!=null}function rD(i){return S.jsxs(S.Fragment,{children:[S.jsx(Bs,{expand:"lg",fixed:"top",className:"bg-body-tertiary",children:S.jsxs(Fr,{fluid:!0,children:[S.jsx(Bs.Brand,{as:rr,to:"/",children:"TasteBuds"}),S.jsx(Bs.Toggle,{"aria-controls":"basic-navbar-nav"}),S.jsx(Bs.Collapse,{id:"basic-navbar-nav",children:S.jsxs(Ps,{className:"me-auto",children:[S.jsx(Ps.Link,{as:rr,to:"/login",children:"Login"}),S.jsx(Ps.Link,{as:rr,to:"/signup",children:"Signup"})]})})]})}),S.jsx("h1",{children:"Welcome to TasteBuds!"})]})}function qw(i,e){return Array.isArray(i)?i.includes(e):i===e}const ec=w.createContext({});ec.displayName="AccordionContext";const Qg=w.forwardRef(({as:i="div",bsPrefix:e,className:t,children:s,eventKey:o,...l},c)=>{const{activeEventKey:m}=w.useContext(ec);return e=Ae(e,"accordion-collapse"),S.jsx(Lg,{ref:c,in:qw(m,o),...l,className:_e(t,e),children:S.jsx(i,{children:w.Children.only(s)})})});Qg.displayName="AccordionCollapse";const Fh=w.createContext({eventKey:""});Fh.displayName="AccordionItemContext";const Hw=w.forwardRef(({as:i="div",bsPrefix:e,className:t,onEnter:s,onEntering:o,onEntered:l,onExit:c,onExiting:m,onExited:p,...g},v)=>{e=Ae(e,"accordion-body");const{eventKey:E}=w.useContext(Fh);return S.jsx(Qg,{eventKey:E,onEnter:s,onEntering:o,onEntered:l,onExit:c,onExiting:m,onExited:p,children:S.jsx(i,{ref:v,...g,className:_e(t,e)})})});Hw.displayName="AccordionBody";function sD(i,e){const{activeEventKey:t,onSelect:s,alwaysOpen:o}=w.useContext(ec);return l=>{let c=i===t?null:i;o&&(Array.isArray(t)?t.includes(i)?c=t.filter(m=>m!==i):c=[...t,i]:c=[i]),s?.(c,l),e?.(l)}}const Yg=w.forwardRef(({as:i="button",bsPrefix:e,className:t,onClick:s,...o},l)=>{e=Ae(e,"accordion-button");const{eventKey:c}=w.useContext(Fh),m=sD(c,s),{activeEventKey:p}=w.useContext(ec);return i==="button"&&(o.type="button"),S.jsx(i,{ref:l,onClick:m,...o,"aria-expanded":Array.isArray(p)?p.includes(c):c===p,className:_e(t,e,!qw(p,c)&&"collapsed")})});Yg.displayName="AccordionButton";const Gw=w.forwardRef(({as:i="h2","aria-controls":e,bsPrefix:t,className:s,children:o,onClick:l,...c},m)=>(t=Ae(t,"accordion-header"),S.jsx(i,{ref:m,...c,className:_e(s,t),children:S.jsx(Yg,{onClick:l,"aria-controls":e,children:o})})));Gw.displayName="AccordionHeader";const $w=w.forwardRef(({as:i="div",bsPrefix:e,className:t,eventKey:s,...o},l)=>{e=Ae(e,"accordion-item");const c=w.useMemo(()=>({eventKey:s}),[s]);return S.jsx(Fh.Provider,{value:c,children:S.jsx(i,{ref:l,...o,className:_e(t,e)})})});$w.displayName="AccordionItem";const Kw=w.forwardRef((i,e)=>{const{as:t="div",activeKey:s,bsPrefix:o,className:l,onSelect:c,flush:m,alwaysOpen:p,...g}=Dg(i,{activeKey:"onSelect"}),v=Ae(o,"accordion"),E=w.useMemo(()=>({activeEventKey:s,onSelect:c,alwaysOpen:p}),[s,c,p]);return S.jsx(ec.Provider,{value:E,children:S.jsx(t,{ref:e,...g,className:_e(l,v,m&&`${v}-flush`)})})});Kw.displayName="Accordion";const mn=Object.assign(Kw,{Button:Yg,Collapse:Qg,Item:$w,Header:Gw,Body:Hw}),kn=w.forwardRef(({as:i,bsPrefix:e,variant:t="primary",size:s,active:o=!1,disabled:l=!1,className:c,...m},p)=>{const g=Ae(e,"btn"),[v,{tagName:E}]=Vg({tagName:i,disabled:l,...m}),A=E;return S.jsx(A,{...v,...m,ref:p,disabled:l,className:_e(c,g,o&&"active",t&&`${g}-${t}`,s&&`${g}-${s}`,m.href&&l&&"disabled")})});kn.displayName="Button";const Xg=w.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Ae(e,"card-body"),S.jsx(t,{ref:o,className:_e(i,e),...s})));Xg.displayName="CardBody";const Qw=w.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Ae(e,"card-footer"),S.jsx(t,{ref:o,className:_e(i,e),...s})));Qw.displayName="CardFooter";const Yw=w.forwardRef(({bsPrefix:i,className:e,as:t="div",...s},o)=>{const l=Ae(i,"card-header"),c=w.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return S.jsx(kg.Provider,{value:c,children:S.jsx(t,{ref:o,...s,className:_e(e,l)})})});Yw.displayName="CardHeader";const Xw=w.forwardRef(({bsPrefix:i,className:e,variant:t,as:s="img",...o},l)=>{const c=Ae(i,"card-img");return S.jsx(s,{ref:l,className:_e(t?`${c}-${t}`:c,e),...o})});Xw.displayName="CardImg";const Ww=w.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Ae(e,"card-img-overlay"),S.jsx(t,{ref:o,className:_e(i,e),...s})));Ww.displayName="CardImgOverlay";const Jw=w.forwardRef(({className:i,bsPrefix:e,as:t="a",...s},o)=>(e=Ae(e,"card-link"),S.jsx(t,{ref:o,className:_e(i,e),...s})));Jw.displayName="CardLink";const aD=jh("h6"),Zw=w.forwardRef(({className:i,bsPrefix:e,as:t=aD,...s},o)=>(e=Ae(e,"card-subtitle"),S.jsx(t,{ref:o,className:_e(i,e),...s})));Zw.displayName="CardSubtitle";const eA=w.forwardRef(({className:i,bsPrefix:e,as:t="p",...s},o)=>(e=Ae(e,"card-text"),S.jsx(t,{ref:o,className:_e(i,e),...s})));eA.displayName="CardText";const oD=jh("h5"),tA=w.forwardRef(({className:i,bsPrefix:e,as:t=oD,...s},o)=>(e=Ae(e,"card-title"),S.jsx(t,{ref:o,className:_e(i,e),...s})));tA.displayName="CardTitle";const nA=w.forwardRef(({bsPrefix:i,className:e,bg:t,text:s,border:o,body:l=!1,children:c,as:m="div",...p},g)=>{const v=Ae(i,"card");return S.jsx(m,{ref:g,...p,className:_e(e,v,t&&`bg-${t}`,s&&`text-${s}`,o&&`border-${o}`),children:l?S.jsx(Xg,{children:c}):c})});nA.displayName="Card";const on=Object.assign(nA,{Img:Xw,Title:tA,Subtitle:Zw,Body:Xg,Link:Jw,Text:eA,Header:Yw,Footer:Qw,ImgOverlay:Ww});function lD(i){const e=w.useRef(i);return e.current=i,e}function uD(i){const e=lD(i);w.useEffect(()=>()=>e.current(),[])}function cD(i,e){return w.Children.toArray(i).some(t=>w.isValidElement(t)&&t.type===e)}function fD({as:i,bsPrefix:e,className:t,...s}){e=Ae(e,"col");const o=QS(),l=YS(),c=[],m=[];return o.forEach(p=>{const g=s[p];delete s[p];let v,E,A;typeof g=="object"&&g!=null?{span:v,offset:E,order:A}=g:v=g;const O=p!==l?`-${p}`:"";v&&c.push(v===!0?`${e}${O}`:`${e}${O}-${v}`),A!=null&&m.push(`order${O}-${A}`),E!=null&&m.push(`offset${O}-${E}`)}),[{...s,className:_e(t,...c,...m)},{as:i,bsPrefix:e,spans:c}]}const Wg=w.forwardRef((i,e)=>{const[{className:t,...s},{as:o="div",bsPrefix:l,spans:c}]=fD(i);return S.jsx(o,{...s,ref:e,className:_e(t,!c.length&&l)})});Wg.displayName="Col";const hD={type:Hr.string,tooltip:Hr.bool,as:Hr.elementType},qh=w.forwardRef(({as:i="div",className:e,type:t="valid",tooltip:s=!1,...o},l)=>S.jsx(i,{...o,ref:l,className:_e(e,`${t}-${s?"tooltip":"feedback"}`)}));qh.displayName="Feedback";qh.propTypes=hD;const Yr=w.createContext({}),Jg=w.forwardRef(({id:i,bsPrefix:e,className:t,type:s="checkbox",isValid:o=!1,isInvalid:l=!1,as:c="input",...m},p)=>{const{controlId:g}=w.useContext(Yr);return e=Ae(e,"form-check-input"),S.jsx(c,{...m,ref:p,type:s,id:i||g,className:_e(t,e,o&&"is-valid",l&&"is-invalid")})});Jg.displayName="FormCheckInput";const uh=w.forwardRef(({bsPrefix:i,className:e,htmlFor:t,...s},o)=>{const{controlId:l}=w.useContext(Yr);return i=Ae(i,"form-check-label"),S.jsx("label",{...s,ref:o,htmlFor:t||l,className:_e(e,i)})});uh.displayName="FormCheckLabel";const iA=w.forwardRef(({id:i,bsPrefix:e,bsSwitchPrefix:t,inline:s=!1,reverse:o=!1,disabled:l=!1,isValid:c=!1,isInvalid:m=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:v,className:E,style:A,title:O="",type:z="checkbox",label:Q,children:P,as:$="input",...Z},j)=>{e=Ae(e,"form-check"),t=Ae(t,"form-switch");const{controlId:W}=w.useContext(Yr),ue=w.useMemo(()=>({controlId:i||W}),[W,i]),le=!P&&Q!=null&&Q!==!1||cD(P,uh),x=S.jsx(Jg,{...Z,type:z==="switch"?"checkbox":z,ref:j,isValid:c,isInvalid:m,disabled:l,as:$});return S.jsx(Yr.Provider,{value:ue,children:S.jsx("div",{style:A,className:_e(E,le&&e,s&&`${e}-inline`,o&&`${e}-reverse`,z==="switch"&&t),children:P||S.jsxs(S.Fragment,{children:[x,le&&S.jsx(uh,{title:O,children:Q}),g&&S.jsx(qh,{type:v,tooltip:p,children:g})]})})})});iA.displayName="FormCheck";const ch=Object.assign(iA,{Input:Jg,Label:uh}),rA=w.forwardRef(({bsPrefix:i,type:e,size:t,htmlSize:s,id:o,className:l,isValid:c=!1,isInvalid:m=!1,plaintext:p,readOnly:g,as:v="input",...E},A)=>{const{controlId:O}=w.useContext(Yr);return i=Ae(i,"form-control"),S.jsx(v,{...E,type:e,size:s,ref:A,readOnly:g,id:o||O,className:_e(l,p?`${i}-plaintext`:i,t&&`${i}-${t}`,e==="color"&&`${i}-color`,c&&"is-valid",m&&"is-invalid")})});rA.displayName="FormControl";const dD=Object.assign(rA,{Feedback:qh}),sA=w.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Ae(e,"form-floating"),S.jsx(t,{ref:o,className:_e(i,e),...s})));sA.displayName="FormFloating";const Zg=w.forwardRef(({controlId:i,as:e="div",...t},s)=>{const o=w.useMemo(()=>({controlId:i}),[i]);return S.jsx(Yr.Provider,{value:o,children:S.jsx(e,{...t,ref:s})})});Zg.displayName="FormGroup";const aA=w.forwardRef(({as:i="label",bsPrefix:e,column:t=!1,visuallyHidden:s=!1,className:o,htmlFor:l,...c},m)=>{const{controlId:p}=w.useContext(Yr);e=Ae(e,"form-label");let g="col-form-label";typeof t=="string"&&(g=`${g} ${g}-${t}`);const v=_e(o,e,s&&"visually-hidden",t&&g);return l=l||p,t?S.jsx(Wg,{ref:m,as:"label",className:v,htmlFor:l,...c}):S.jsx(i,{ref:m,className:v,htmlFor:l,...c})});aA.displayName="FormLabel";const oA=w.forwardRef(({bsPrefix:i,className:e,id:t,...s},o)=>{const{controlId:l}=w.useContext(Yr);return i=Ae(i,"form-range"),S.jsx("input",{...s,type:"range",ref:o,className:_e(e,i),id:t||l})});oA.displayName="FormRange";const lA=w.forwardRef(({bsPrefix:i,size:e,htmlSize:t,className:s,isValid:o=!1,isInvalid:l=!1,id:c,...m},p)=>{const{controlId:g}=w.useContext(Yr);return i=Ae(i,"form-select"),S.jsx("select",{...m,size:t,ref:p,className:_e(s,i,e&&`${i}-${e}`,o&&"is-valid",l&&"is-invalid"),id:c||g})});lA.displayName="FormSelect";const uA=w.forwardRef(({bsPrefix:i,className:e,as:t="small",muted:s,...o},l)=>(i=Ae(i,"form-text"),S.jsx(t,{...o,ref:l,className:_e(e,i,s&&"text-muted")})));uA.displayName="FormText";const cA=w.forwardRef((i,e)=>S.jsx(ch,{...i,ref:e,type:"switch"}));cA.displayName="Switch";const mD=Object.assign(cA,{Input:ch.Input,Label:ch.Label}),fA=w.forwardRef(({bsPrefix:i,className:e,children:t,controlId:s,label:o,...l},c)=>(i=Ae(i,"form-floating"),S.jsxs(Zg,{ref:c,className:_e(e,i),controlId:s,...l,children:[t,S.jsx("label",{htmlFor:s,children:o})]})));fA.displayName="FloatingLabel";const pD={_ref:Hr.any,validated:Hr.bool,as:Hr.elementType},ey=w.forwardRef(({className:i,validated:e,as:t="form",...s},o)=>S.jsx(t,{...s,ref:o,className:_e(i,e&&"was-validated")}));ey.displayName="Form";ey.propTypes=pD;const ke=Object.assign(ey,{Group:Zg,Control:dD,Floating:sA,Check:ch,Switch:mD,Label:aA,Text:uA,Range:oA,Select:lA,FloatingLabel:fA});var Bf;function r0(i){if((!Bf&&Bf!==0||i)&&ml){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Bf=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Bf}function gD(){return w.useState(null)}const hA=w.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Ae(e,"modal-body"),S.jsx(t,{ref:o,className:_e(i,e),...s})));hA.displayName="ModalBody";const ty=w.forwardRef(({bsPrefix:i,className:e,contentClassName:t,centered:s,size:o,fullscreen:l,children:c,scrollable:m,...p},g)=>{i=Ae(i,"modal");const v=`${i}-dialog`,E=typeof l=="string"?`${i}-fullscreen-${l}`:`${i}-fullscreen`;return S.jsx("div",{...p,ref:g,className:_e(v,e,o&&`${i}-${o}`,s&&`${v}-centered`,m&&`${v}-scrollable`,l&&E),children:S.jsx("div",{className:_e(`${i}-content`,t),children:c})})});ty.displayName="ModalDialog";const dA=w.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Ae(e,"modal-footer"),S.jsx(t,{ref:o,className:_e(i,e),...s})));dA.displayName="ModalFooter";const mA=w.forwardRef(({bsPrefix:i,className:e,closeLabel:t="Close",closeButton:s=!1,...o},l)=>(i=Ae(i,"modal-header"),S.jsx(Fg,{ref:l,...o,className:_e(e,i),closeLabel:t,closeButton:s})));mA.displayName="ModalHeader";const yD=jh("h4"),pA=w.forwardRef(({className:i,bsPrefix:e,as:t=yD,...s},o)=>(e=Ae(e,"modal-title"),S.jsx(t,{ref:o,className:_e(i,e),...s})));pA.displayName="ModalTitle";function vD(i){return S.jsx(Uh,{...i,timeout:null})}function _D(i){return S.jsx(Uh,{...i,timeout:null})}const gA=w.forwardRef(({bsPrefix:i,className:e,style:t,dialogClassName:s,contentClassName:o,children:l,dialogAs:c=ty,"data-bs-theme":m,"aria-labelledby":p,"aria-describedby":g,"aria-label":v,show:E=!1,animation:A=!0,backdrop:O=!0,keyboard:z=!0,onEscapeKeyDown:Q,onShow:P,onHide:$,container:Z,autoFocus:j=!0,enforceFocus:W=!0,restoreFocus:ue=!0,restoreFocusOptions:le,onEntered:x,onExit:I,onExiting:N,onEnter:L,onEntering:k,onExited:D,backdropClassName:C,manager:he,...de},G)=>{const[oe,ce]=w.useState({}),[Ie,xe]=w.useState(!1),V=w.useRef(!1),J=w.useRef(!1),ae=w.useRef(null),[re,ye]=gD(),Ee=fw(G,ye),Oe=il($),tt=rI();i=Ae(i,"modal");const Ke=w.useMemo(()=>({onHide:Oe}),[Oe]);function cn(){return he||Sw({isRTL:tt})}function _n(Le){if(!ml)return;const Rn=cn().getScrollbarWidth()>0,Ue=Le.scrollHeight>Ph(Le).documentElement.clientHeight;ce({paddingRight:Rn&&!Ue?r0():void 0,paddingLeft:!Rn&&Ue?r0():void 0})}const fn=il(()=>{re&&_n(re.dialog)});uD(()=>{Yp(window,"resize",fn),ae.current==null||ae.current()});const hn=()=>{V.current=!0},Ot=Le=>{V.current&&re&&Le.target===re.dialog&&(J.current=!0),V.current=!1},Qe=()=>{xe(!0),ae.current=uw(re.dialog,()=>{xe(!1)})},En=Le=>{Le.target===Le.currentTarget&&Qe()},Tn=Le=>{if(O==="static"){En(Le);return}if(J.current||Le.target!==Le.currentTarget){J.current=!1;return}$?.()},Vi=Le=>{z?Q?.(Le):(Le.preventDefault(),O==="static"&&Qe())},ht=(Le,Rn)=>{Le&&_n(Le),L?.(Le,Rn)},yt=Le=>{ae.current==null||ae.current(),I?.(Le)},bn=(Le,Rn)=>{k?.(Le,Rn),lw(window,"resize",fn)},ts=Le=>{Le&&(Le.style.display=""),D?.(Le),Yp(window,"resize",fn)},ns=w.useCallback(Le=>S.jsx("div",{...Le,className:_e(`${i}-backdrop`,C,!A&&"show")}),[A,C,i]),Mt={...t,...oe};Mt.display="block";const pi=Le=>S.jsx("div",{role:"dialog",...Le,style:Mt,className:_e(e,i,Ie&&`${i}-static`,!A&&"show"),onClick:O?Tn:void 0,onMouseUp:Ot,"data-bs-theme":m,"aria-label":v,"aria-labelledby":p,"aria-describedby":g,children:S.jsx(c,{...de,onMouseDown:hn,className:s,contentClassName:o,children:l})});return S.jsx(zg.Provider,{value:Ke,children:S.jsx(gw,{show:E,ref:Ee,backdrop:O,container:Z,keyboard:!0,autoFocus:j,enforceFocus:W,restoreFocus:ue,restoreFocusOptions:le,onEscapeKeyDown:Vi,onShow:P,onHide:$,onEnter:ht,onEntering:bn,onEntered:x,onExit:yt,onExiting:N,onExited:ts,manager:cn(),transition:A?vD:void 0,backdropTransition:A?_D:void 0,renderBackdrop:ns,renderDialog:pi})})});gA.displayName="Modal";const nr=Object.assign(gA,{Body:hA,Header:mA,Title:pA,Footer:dA,Dialog:ty,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Zp=w.forwardRef(({bsPrefix:i,className:e,as:t="div",...s},o)=>{const l=Ae(i,"row"),c=QS(),m=YS(),p=`${l}-cols`,g=[];return c.forEach(v=>{const E=s[v];delete s[v];let A;E!=null&&typeof E=="object"?{cols:A}=E:A=E;const O=v!==m?`-${v}`:"";A!=null&&g.push(`${p}${O}-${A}`)}),S.jsx(t,{ref:o,...s,className:_e(e,l,...g)})});Zp.displayName="Row";const ED=()=>{};var s0={};const yA=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},TD=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],c=i[t++],m=i[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[t++],c=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},vA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=l>>2,E=(l&3)<<4|m>>4;let A=(m&15)<<2|g>>6,O=g&63;p||(O=64,c||(A=64)),s.push(t[v],t[E],t[A],t[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(yA(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):TD(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const E=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||m==null||g==null||E==null)throw new SD;const A=l<<2|m>>4;if(s.push(A),g!==64){const O=m<<4&240|g>>2;if(s.push(O),E!==64){const z=g<<6&192|E;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class SD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wD=function(i){const e=yA(i);return vA.encodeByteArray(e,!0)},fh=function(i){return wD(i).replace(/\./g,"")},_A=function(i){try{return vA.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function AD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bD=()=>AD().__FIREBASE_DEFAULTS__,RD=()=>{if(typeof process>"u"||typeof s0>"u")return;const i=s0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},CD=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&_A(i[1]);return e&&JSON.parse(e)},Hh=()=>{try{return ED()||bD()||RD()||CD()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},EA=i=>Hh()?.emulatorHosts?.[i],ID=i=>{const e=EA(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},TA=()=>Hh()?.config,SA=i=>Hh()?.[`_${i}`];class xD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function gl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wA(i){return(await fetch(i,{credentials:"include"})).ok}function ND(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[fh(JSON.stringify(t)),fh(JSON.stringify(c)),""].join(".")}const Vu={};function DD(){const i={prod:[],emulator:[]};for(const e of Object.keys(Vu))Vu[e]?i.emulator.push(e):i.prod.push(e);return i}function OD(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let a0=!1;function AA(i,e){if(typeof window>"u"||typeof document>"u"||!gl(window.location.host)||Vu[i]===e||Vu[i]||a0)return;Vu[i]=e;function t(A){return`__firebase__banner__${A}`}const s="__firebase__banner",l=DD().prod.length>0;function c(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,O){A.setAttribute("width","24"),A.setAttribute("id",O),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{a0=!0,c()},A}function v(A,O){A.setAttribute("id",O),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=OD(s),O=t("text"),z=document.getElementById(O)||document.createElement("span"),Q=t("learnmore"),P=document.getElementById(Q)||document.createElement("a"),$=t("preprendIcon"),Z=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const j=A.element;m(j),v(P,Q);const W=g();p(Z,$),j.append(Z,z,P,W),document.body.appendChild(j)}l?(z.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function VD(){const i=Hh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function PD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LD(){const i=vn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function UD(){return!VD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RA(){try{return typeof indexedDB=="object"}catch{return!1}}function CA(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function jD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const zD="FirebaseError";class Mi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=zD,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qa.prototype.create)}}class Qa{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?BD(l,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Mi(o,m,s)}}function BD(i,e){return i.replace(FD,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const FD=/\{\$([^}]+)}/g;function qD(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function hr(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=i[o],c=e[o];if(o0(l)&&o0(c)){if(!hr(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function o0(i){return i!==null&&typeof i=="object"}function tc(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Iu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function xu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function HD(i,e){const t=new GD(i,e);return t.subscribe.bind(t)}class GD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");$D(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Np),o.error===void 0&&(o.error=Np),o.complete===void 0&&(o.complete=Np);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $D(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Np(){}const KD=1e3,QD=2,YD=14400*1e3,XD=.5;function l0(i,e=KD,t=QD){const s=e*Math.pow(t,i),o=Math.round(XD*s*(Math.random()-.5)*2);return Math.min(YD,s+o)}function Rt(i){return i&&i._delegate?i._delegate:i}class Ni{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ma="[DEFAULT]";class WD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new xD;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZD(e))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ma){return this.instances.has(e)}getOptions(e=Ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&c.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:JD(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ma){return this.component?this.component.multipleInstances?e:Ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JD(i){return i===Ma?void 0:i}function ZD(i){return i.instantiationMode==="EAGER"}class e2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new WD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var qe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(qe||(qe={}));const t2={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},n2=qe.INFO,i2={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},r2=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=i2[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gh{constructor(e){this.name=e,this._logLevel=n2,this._logHandler=r2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const s2=(i,e)=>e.some(t=>i instanceof t);let u0,c0;function a2(){return u0||(u0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o2(){return c0||(c0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IA=new WeakMap,eg=new WeakMap,xA=new WeakMap,Dp=new WeakMap,ny=new WeakMap;function l2(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{t(qs(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&IA.set(t,i)}).catch(()=>{}),ny.set(e,i),e}function u2(i){if(eg.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});eg.set(i,e)}let tg={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return eg.get(i);if(e==="objectStoreNames")return i.objectStoreNames||xA.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qs(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function c2(i){tg=i(tg)}function f2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Op(this),e,...t);return xA.set(s,e.sort?e.sort():[e]),qs(s)}:o2().includes(i)?function(...e){return i.apply(Op(this),e),qs(IA.get(this))}:function(...e){return qs(i.apply(Op(this),e))}}function h2(i){return typeof i=="function"?f2(i):(i instanceof IDBTransaction&&u2(i),s2(i,a2())?new Proxy(i,tg):i)}function qs(i){if(i instanceof IDBRequest)return l2(i);if(Dp.has(i))return Dp.get(i);const e=h2(i);return e!==i&&(Dp.set(i,e),ny.set(e,i)),e}const Op=i=>ny.get(i);function NA(i,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(i,e),m=qs(c);return s&&c.addEventListener("upgradeneeded",p=>{s(qs(c.result),p.oldVersion,p.newVersion,qs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const d2=["get","getKey","getAll","getAllKeys","count"],m2=["put","add","delete","clear"],Mp=new Map;function f0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Mp.get(e))return Mp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=m2.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||d2.includes(t)))return;const l=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Mp.set(e,l),l}c2(i=>({...i,get:(e,t,s)=>f0(e,t)||i.get(e,t,s),has:(e,t)=>!!f0(e,t)||i.has(e,t)}));class p2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(g2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function g2(i){return i.getComponent()?.type==="VERSION"}const ng="@firebase/app",h0="0.14.6";const Xr=new Gh("@firebase/app"),y2="@firebase/app-compat",v2="@firebase/analytics-compat",_2="@firebase/analytics",E2="@firebase/app-check-compat",T2="@firebase/app-check",S2="@firebase/auth",w2="@firebase/auth-compat",A2="@firebase/database",b2="@firebase/data-connect",R2="@firebase/database-compat",C2="@firebase/functions",I2="@firebase/functions-compat",x2="@firebase/installations",N2="@firebase/installations-compat",D2="@firebase/messaging",O2="@firebase/messaging-compat",M2="@firebase/performance",V2="@firebase/performance-compat",k2="@firebase/remote-config",P2="@firebase/remote-config-compat",L2="@firebase/storage",U2="@firebase/storage-compat",j2="@firebase/firestore",z2="@firebase/ai",B2="@firebase/firestore-compat",F2="firebase",q2="12.6.0";const ig="[DEFAULT]",H2={[ng]:"fire-core",[y2]:"fire-core-compat",[_2]:"fire-analytics",[v2]:"fire-analytics-compat",[T2]:"fire-app-check",[E2]:"fire-app-check-compat",[S2]:"fire-auth",[w2]:"fire-auth-compat",[A2]:"fire-rtdb",[b2]:"fire-data-connect",[R2]:"fire-rtdb-compat",[C2]:"fire-fn",[I2]:"fire-fn-compat",[x2]:"fire-iid",[N2]:"fire-iid-compat",[D2]:"fire-fcm",[O2]:"fire-fcm-compat",[M2]:"fire-perf",[V2]:"fire-perf-compat",[k2]:"fire-rc",[P2]:"fire-rc-compat",[L2]:"fire-gcs",[U2]:"fire-gcs-compat",[j2]:"fire-fst",[B2]:"fire-fst-compat",[z2]:"fire-vertex","fire-js":"fire-js",[F2]:"fire-js-all"};const hh=new Map,G2=new Map,rg=new Map;function d0(i,e){try{i.container.addComponent(e)}catch(t){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function dr(i){const e=i.name;if(rg.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;rg.set(e,i);for(const t of hh.values())d0(t,i);for(const t of G2.values())d0(t,i);return!0}function Ya(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function ci(i){return i==null?!1:i.settings!==void 0}const $2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Qa("app","Firebase",$2);class K2{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}const yl=q2;function DA(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:ig,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Hs.create("bad-app-name",{appName:String(o)});if(t||(t=TA()),!t)throw Hs.create("no-options");const l=hh.get(o);if(l){if(hr(t,l.options)&&hr(s,l.config))return l;throw Hs.create("duplicate-app",{appName:o})}const c=new e2(o);for(const p of rg.values())c.addComponent(p);const m=new K2(t,s,c);return hh.set(o,m),m}function iy(i=ig){const e=hh.get(i);if(!e&&i===ig&&TA())return DA();if(!e)throw Hs.create("no-app",{appName:i});return e}function di(i,e,t){let s=H2[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(c.join(" "));return}dr(new Ni(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const Q2="firebase-heartbeat-database",Y2=1,Fu="firebase-heartbeat-store";let Vp=null;function OA(){return Vp||(Vp=NA(Q2,Y2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Fu)}catch(t){console.warn(t)}}}}).catch(i=>{throw Hs.create("idb-open",{originalErrorMessage:i.message})})),Vp}async function X2(i){try{const t=(await OA()).transaction(Fu),s=await t.objectStore(Fu).get(MA(i));return await t.done,s}catch(e){if(e instanceof Mi)Xr.warn(e.message);else{const t=Hs.create("idb-get",{originalErrorMessage:e?.message});Xr.warn(t.message)}}}async function m0(i,e){try{const s=(await OA()).transaction(Fu,"readwrite");await s.objectStore(Fu).put(e,MA(i)),await s.done}catch(t){if(t instanceof Mi)Xr.warn(t.message);else{const s=Hs.create("idb-set",{originalErrorMessage:t?.message});Xr.warn(s.message)}}}function MA(i){return`${i.name}!${i.options.appId}`}const W2=1024,J2=30;class Z2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tO(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=p0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>J2){const o=nO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=p0(),{heartbeatsToSend:t,unsentEntries:s}=eO(this._heartbeatsCache.heartbeats),o=fh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Xr.warn(e),""}}}function p0(){return new Date().toISOString().substring(0,10)}function eO(i,e=W2){const t=[];let s=i.slice();for(const o of i){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),g0(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),g0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class tO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RA()?CA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await X2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return m0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return m0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function g0(i){return fh(JSON.stringify({version:2,heartbeats:i})).length}function nO(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}function iO(i){dr(new Ni("platform-logger",e=>new p2(e),"PRIVATE")),dr(new Ni("heartbeat",e=>new Z2(e),"PRIVATE")),di(ng,h0,i),di(ng,h0,"esm2020"),di("fire-js","")}iO("");function VA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rO=VA,kA=new Qa("auth","Firebase",VA());const dh=new Gh("@firebase/auth");function sO(i,...e){dh.logLevel<=qe.WARN&&dh.warn(`Auth (${yl}): ${i}`,...e)}function Xf(i,...e){dh.logLevel<=qe.ERROR&&dh.error(`Auth (${yl}): ${i}`,...e)}function Di(i,...e){throw ry(i,...e)}function ar(i,...e){return ry(i,...e)}function PA(i,e,t){const s={...rO(),[e]:t};return new Qa("auth","Firebase",s).create(e,{appName:i.name})}function $r(i){return PA(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ry(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return kA.create(i,...e)}function be(i,e,...t){if(!i)throw ry(e,...t)}function zr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Xf(e),new Error(e)}function Wr(i,e){i||zr(e)}function sg(){return typeof self<"u"&&self.location?.href||""}function aO(){return y0()==="http:"||y0()==="https:"}function y0(){return typeof self<"u"&&self.location?.protocol||null}function oO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aO()||bA()||"connection"in navigator)?navigator.onLine:!0}function lO(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class nc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wr(t>e,"Short delay should be less than long delay!"),this.isMobile=MD()||PD()}get(){return oO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sy(i,e){Wr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class LA{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const cO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fO=new nc(3e4,6e4);function ea(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ta(i,e,t,s,o={}){return UA(i,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const m=tc({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...l};return kD()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&gl(i.emulatorConfig.host)&&(g.credentials="include"),LA.fetch()(await jA(i,i.config.apiHost,t,m),g)})}async function UA(i,e,t){i._canInitEmulator=!1;const s={...uO,...e};try{const o=new dO(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Ff(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ff(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ff(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ff(i,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw PA(i,v,g);Di(i,v)}}catch(o){if(o instanceof Mi)throw o;Di(i,"network-request-failed",{message:String(o)})}}async function ic(i,e,t,s,o={}){const l=await ta(i,e,t,s,o);return"mfaPendingCredential"in l&&Di(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function jA(i,e,t,s){const o=`${e}${t}?${s}`,l=i,c=l.config.emulator?sy(i.config,o):`${i.config.apiScheme}://${o}`;return cO.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function hO(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ar(this.auth,"network-request-failed")),fO.get())})}}function Ff(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ar(i,e,s);return o.customData._tokenResponse=t,o}function v0(i){return i!==void 0&&i.enterprise!==void 0}class mO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return hO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pO(i,e){return ta(i,"GET","/v2/recaptchaConfig",ea(i,e))}async function gO(i,e){return ta(i,"POST","/v1/accounts:delete",e)}async function mh(i,e){return ta(i,"POST","/v1/accounts:lookup",e)}function ku(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yO(i,e=!1){const t=Rt(i),s=await t.getIdToken(e),o=ay(s);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:ku(kp(o.auth_time)),issuedAtTime:ku(kp(o.iat)),expirationTime:ku(kp(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function kp(i){return Number(i)*1e3}function ay(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Xf("JWT malformed, contained fewer than 3 sections"),null;try{const o=_A(t);return o?JSON.parse(o):(Xf("Failed to decode base64 JWT payload"),null)}catch(o){return Xf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function _0(i){const e=ay(i);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function qu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Mi&&vO(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function vO({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class _O{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ag{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ph(i){const e=i.auth,t=await i.getIdToken(),s=await qu(i,mh(e,{idToken:t}));be(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const l=o.providerUserInfo?.length?zA(o.providerUserInfo):[],c=TO(i.providerData,l),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ag(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function EO(i){const e=Rt(i);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TO(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function zA(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function SO(i,e){const t=await UA(i,{},async()=>{const s=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,c=await jA(i,o,"/v1/token",`key=${l}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&gl(i.emulatorConfig.host)&&(p.credentials="include"),LA.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wO(i,e){return ta(i,"POST","/v2/accounts:revokeToken",ea(i,e))}class Jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=_0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await SO(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,c=new Jo;return s&&(be(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jo,this.toJSON())}_performRefresh(){return zr("not implemented")}}function Vs(i,e){be(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ii{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new _O(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ag(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await qu(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return yO(this,e)}reload(){return EO(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await ph(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await qu(this,gO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:O,providerData:z,stsTokenManager:Q}=t;be(E&&Q,e,"internal-error");const P=Jo.fromJSON(this.name,Q);be(typeof E=="string",e,"internal-error"),Vs(s,e.name),Vs(o,e.name),be(typeof A=="boolean",e,"internal-error"),be(typeof O=="boolean",e,"internal-error"),Vs(l,e.name),Vs(c,e.name),Vs(m,e.name),Vs(p,e.name),Vs(g,e.name),Vs(v,e.name);const $=new Ii({uid:E,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:O,photoURL:c,phoneNumber:l,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:v});return z&&Array.isArray(z)&&($.providerData=z.map(Z=>({...Z}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(e,t,s=!1){const o=new Jo;o.updateFromServerResponse(t);const l=new Ii({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ph(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];be(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?zA(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,m=new Jo;m.updateFromIdToken(s);const p=new Ii({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new ag(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const E0=new Map;function Br(i){Wr(i instanceof Function,"Expected a class definition");let e=E0.get(i);return e?(Wr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,E0.set(i,e),e)}class BA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}BA.type="NONE";const T0=BA;function Wf(i,e,t){return`firebase:${i}:${e}:${t}`}class Zo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Wf(this.userKey,o.apiKey,l),this.fullPersistenceKey=Wf("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await mh(this.auth,{idToken:e}).catch(()=>{});return t?Ii._fromGetAccountInfoResponse(this.auth,t,e):null}return Ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Zo(Br(T0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Br(T0);const c=Wf(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const A=await mh(e,{idToken:v}).catch(()=>{});if(!A)break;E=await Ii._fromGetAccountInfoResponse(e,A,v)}else E=Ii._fromJSON(e,v);g!==l&&(m=E),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Zo(l,e,s):(l=p[0],m&&await l._set(c,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Zo(l,e,s))}}function S0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KA(e))return"Blackberry";if(QA(e))return"Webos";if(qA(e))return"Safari";if((e.includes("chrome/")||HA(e))&&!e.includes("edge/"))return"Chrome";if($A(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function FA(i=vn()){return/firefox\//i.test(i)}function qA(i=vn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HA(i=vn()){return/crios\//i.test(i)}function GA(i=vn()){return/iemobile/i.test(i)}function $A(i=vn()){return/android/i.test(i)}function KA(i=vn()){return/blackberry/i.test(i)}function QA(i=vn()){return/webos/i.test(i)}function oy(i=vn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function AO(i=vn()){return oy(i)&&!!window.navigator?.standalone}function bO(){return LD()&&document.documentMode===10}function YA(i=vn()){return oy(i)||$A(i)||QA(i)||KA(i)||/windows phone/i.test(i)||GA(i)}function XA(i,e=[]){let t;switch(i){case"Browser":t=S0(vn());break;case"Worker":t=`${S0(vn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yl}/${s}`}class RO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,m)=>{try{const p=e(l);c(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function CO(i,e={}){return ta(i,"GET","/v2/passwordPolicy",ea(i,e))}const IO=6;class xO{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??IO,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class NO{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w0(this),this.idTokenSubscription=new w0(this),this.beforeStateQueue=new RO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Br(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Zo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await mh(this,{idToken:e}),s=await Ii._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ci(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===c)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ci(this.app))return Promise.reject($r(this));const t=e?Rt(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ci(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CO(this),t=new xO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qa("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await wO(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Br(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await Zo.create(this,[Br(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&sO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xa(i){return Rt(i)}class w0{constructor(e){this.auth=e,this.observer=null,this.addObserver=HD(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DO(i){$h=i}function WA(i){return $h.loadJS(i)}function OO(){return $h.recaptchaEnterpriseScript}function MO(){return $h.gapiScript}function VO(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class kO{constructor(){this.enterprise=new PO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class PO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const LO="recaptcha-enterprise",JA="NO_RECAPTCHA";class UO{constructor(e){this.type=LO,this.auth=Xa(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,m)=>{pO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new mO(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(l,c,m){const p=window.grecaptcha;v0(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(JA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(m=>{if(!t&&v0(window.grecaptcha))o(m,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=OO();p.length!==0&&(p+=m),WA(p).then(()=>{o(m,l,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function A0(i,e,t,s=!1,o=!1){const l=new UO(i);let c;if(o)c=JA;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function og(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await A0(i,e,t,t==="getOobCode");return s(i,l)}else return s(i,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await A0(i,e,t,t==="getOobCode");return s(i,c)}else return Promise.reject(l)})}function jO(i,e){const t=Ya(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(hr(l,e??{}))return o;Di(o,"already-initialized")}return t.initialize({options:e})}function zO(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Br);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function BO(i,e,t){const s=Xa(i);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=ZA(e),{host:c,port:m}=FO(e),p=m===null?"":`:${m}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(hr(g,s.config.emulator)&&hr(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,gl(c)?(wA(`${l}//${c}${p}`),AA("Auth",!0)):qO()}function ZA(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function FO(i){const e=ZA(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:b0(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:b0(c)}}}function b0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function qO(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class ly{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,t){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function HO(i,e){return ta(i,"POST","/v1/accounts:signUp",e)}async function GO(i,e){return ic(i,"POST","/v1/accounts:signInWithPassword",ea(i,e))}async function $O(i,e){return ic(i,"POST","/v1/accounts:signInWithEmailLink",ea(i,e))}async function KO(i,e){return ic(i,"POST","/v1/accounts:signInWithEmailLink",ea(i,e))}class Hu extends ly{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Hu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Hu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return og(e,t,"signInWithPassword",GO);case"emailLink":return $O(e,{email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return og(e,s,"signUpPassword",HO);case"emailLink":return KO(e,{idToken:t,email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function el(i,e){return ic(i,"POST","/v1/accounts:signInWithIdp",ea(i,e))}const QO="http://localhost";class ja extends ly{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Di("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=t;if(!s||!o)return null;const c=new ja(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return el(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,el(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,el(e,t)}buildRequest(){const e={requestUri:QO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tc(t)}return e}}function YO(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XO(i){const e=Iu(xu(i)).link,t=e?Iu(xu(e)).deep_link_id:null,s=Iu(xu(i)).deep_link_id;return(s?Iu(xu(s)).link:null)||s||t||e||i}class uy{constructor(e){const t=Iu(xu(e)),s=t.apiKey??null,o=t.oobCode??null,l=YO(t.mode??null);be(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=XO(e);try{return new uy(t)}catch{return null}}}class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(e,t){return Hu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=uy.parseLink(t);return be(s,"argument-error"),Hu._fromEmailAndCode(e,s.code,s.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class eb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class rc extends eb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ls extends rc{constructor(){super("facebook.com")}static credential(e){return ja._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";class Us extends rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ja._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Us.credential(t,s)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";class js extends rc{constructor(){super("github.com")}static credential(e){return ja._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";class zs extends rc{constructor(){super("twitter.com")}static credential(e,t){return ja._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return zs.credential(t,s)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";async function WO(i,e){return ic(i,"POST","/v1/accounts:signUp",ea(i,e))}class za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Ii._fromIdTokenResponse(e,s,o),c=R0(s);return new za({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=R0(s);return new za({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function R0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class gh extends Mi{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new gh(e,t,s,o)}}function tb(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(i,l,e,s):l})}async function JO(i,e,t=!1){const s=await qu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return za._forOperation(i,"link",s)}async function ZO(i,e,t=!1){const{auth:s}=i;if(ci(s.app))return Promise.reject($r(s));const o="reauthenticate";try{const l=await qu(i,tb(s,o,e,i),t);be(l.idToken,s,"internal-error");const c=ay(l.idToken);be(c,s,"internal-error");const{sub:m}=c;return be(i.uid===m,s,"user-mismatch"),za._forOperation(i,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Di(s,"user-mismatch"),l}}async function nb(i,e,t=!1){if(ci(i.app))return Promise.reject($r(i));const s="signIn",o=await tb(i,s,e),l=await za._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(l.user),l}async function eM(i,e){return nb(Xa(i),e)}async function ib(i){const e=Xa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tM(i,e,t){if(ci(i.app))return Promise.reject($r(i));const s=Xa(i),c=await og(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WO).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ib(i),p}),m=await za._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function nM(i,e,t){return ci(i.app)?Promise.reject($r(i)):eM(Rt(i),vl.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ib(i),s})}function iM(i,e,t,s){return Rt(i).onIdTokenChanged(e,t,s)}function rM(i,e,t){return Rt(i).beforeAuthStateChanged(e,t)}function sM(i,e,t,s){return Rt(i).onAuthStateChanged(e,t,s)}function aM(i){return Rt(i).signOut()}const yh="__sak";class rb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const oM=1e3,lM=10;class sb extends rb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);bO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,lM):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},oM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}sb.type="LOCAL";const uM=sb;class ab extends rb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ab.type="SESSION";const ob=ab;function cM(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(t.origin,l)),p=await cM(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];function cy(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}class fM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((m,p)=>{const g=cy("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(A.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function or(){return window}function hM(i){or().location.href=i}function lb(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function dM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mM(){return navigator?.serviceWorker?.controller||null}function pM(){return lb()?self:null}const ub="firebaseLocalStorageDb",gM=1,vh="firebaseLocalStorage",cb="fbase_key";class sc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qh(i,e){return i.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function yM(){const i=indexedDB.deleteDatabase(ub);return new sc(i).toPromise()}function lg(){const i=indexedDB.open(ub,gM);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(vh,{keyPath:cb})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(vh)?e(s):(s.close(),await yM(),e(await lg()))})})}async function C0(i,e,t){const s=Qh(i,!0).put({[cb]:e,value:t});return new sc(s).toPromise()}async function vM(i,e){const t=Qh(i,!1).get(e),s=await new sc(t).toPromise();return s===void 0?null:s.value}function I0(i,e){const t=Qh(i,!0).delete(e);return new sc(t).toPromise()}const _M=800,EM=3;class fb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>EM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(pM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dM(),!this.activeServiceWorker)return;this.sender=new fM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lg();return await C0(e,yh,"1"),await I0(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>C0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>vM(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>I0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Qh(o,!1).getAll();return new sc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_M)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fb.type="LOCAL";const TM=fb;new nc(3e4,6e4);function SM(i,e){return e?Br(e):(be(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class fy extends ly{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return el(e,this._buildIdpRequest())}_linkToIdToken(e,t){return el(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return el(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wM(i){return nb(i.auth,new fy(i),i.bypassAuthState)}function AM(i){const{auth:e,user:t}=i;return be(t,e,"internal-error"),ZO(t,new fy(i),i.bypassAuthState)}async function bM(i){const{auth:e,user:t}=i;return be(t,e,"internal-error"),JO(t,new fy(i),i.bypassAuthState)}class hb{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wM;case"linkViaPopup":case"linkViaRedirect":return bM;case"reauthViaPopup":case"reauthViaRedirect":return AM;default:Di(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RM=new nc(2e3,1e4);class Wo extends hb{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Wo.currentPopupAction&&Wo.currentPopupAction.cancel(),Wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const e=cy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RM.get())};e()}}Wo.currentPopupAction=null;const CM="pendingRedirect",Jf=new Map;class IM extends hb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Jf.get(this.auth._key());if(!e){try{const s=await xM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Jf.set(this.auth._key(),e)}return this.bypassAuthState||Jf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xM(i,e){const t=OM(e),s=DM(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function NM(i,e){Jf.set(i._key(),e)}function DM(i){return Br(i._redirectPersistence)}function OM(i){return Wf(CM,i.config.apiKey,i.name)}async function MM(i,e,t=!1){if(ci(i.app))return Promise.reject($r(i));const s=Xa(i),o=SM(s,e),c=await new IM(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const VM=600*1e3;class kM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!db(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ar(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VM&&this.cachedEventUids.clear(),this.cachedEventUids.has(x0(e))}saveEventToCache(e){this.cachedEventUids.add(x0(e)),this.lastProcessedEventTime=Date.now()}}function x0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function db({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function PM(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return db(i);default:return!1}}async function LM(i,e={}){return ta(i,"GET","/v1/projects",e)}const UM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jM=/^https?/;async function zM(i){if(i.config.emulator)return;const{authorizedDomains:e}=await LM(i);for(const t of e)try{if(BM(t))return}catch{}Di(i,"unauthorized-domain")}function BM(i){const e=sg(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!jM.test(t))return!1;if(UM.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const FM=new nc(3e4,6e4);function N0(){const i=or().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function qM(i){return new Promise((e,t)=>{function s(){N0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N0(),t(ar(i,"network-request-failed"))},timeout:FM.get()})}if(or().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(or().gapi?.load)s();else{const o=VO("iframefcb");return or()[o]=()=>{gapi.load?s():t(ar(i,"network-request-failed"))},WA(`${MO()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw Zf=null,e})}let Zf=null;function HM(i){return Zf=Zf||qM(i),Zf}const GM=new nc(5e3,15e3),$M="__/auth/iframe",KM="emulator/auth/iframe",QM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XM(i){const e=i.config;be(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?sy(e,KM):`https://${i.config.authDomain}/${$M}`,s={apiKey:e.apiKey,appName:i.name,v:yl},o=YM.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${tc(s).slice(1)}`}async function WM(i){const e=await HM(i),t=or().gapi;return be(t,i,"internal-error"),e.open({where:document.body,url:XM(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QM,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=ar(i,"network-request-failed"),m=or().setTimeout(()=>{l(c)},GM.get());function p(){or().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{l(c)})}))}const JM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZM=500,eV=600,tV="_blank",nV="http://localhost";class D0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iV(i,e,t,s=ZM,o=eV){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...JM,width:s.toString(),height:o.toString(),top:l,left:c},g=vn().toLowerCase();t&&(m=HA(g)?tV:t),FA(g)&&(e=e||nV,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[O,z])=>`${A}${O}=${z},`,"");if(AO(g)&&m!=="_self")return rV(e||"",m),new D0(null);const E=window.open(e||"",m,v);be(E,i,"popup-blocked");try{E.focus()}catch{}return new D0(E)}function rV(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const sV="__/auth/handler",aV="emulator/auth/handler",oV=encodeURIComponent("fac");async function O0(i,e,t,s,o,l){be(i.config.authDomain,i,"auth-domain-config-required"),be(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:yl,eventId:o};if(e instanceof eb){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",qD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof rc){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${oV}=${encodeURIComponent(p)}`:"";return`${lV(i)}?${tc(m).slice(1)}${g}`}function lV({config:i}){return i.emulator?sy(i,aV):`https://${i.authDomain}/${sV}`}const Pp="webStorageSupport";class uV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ob,this._completeRedirectFn=MM,this._overrideRedirectResult=NM}async _openPopup(e,t,s,o){Wr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await O0(e,t,s,sg(),o);return iV(e,l,cy())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await O0(e,t,s,sg(),o);return hM(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Wr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await WM(e),s=new kM(e);return t.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pp,{type:Pp},o=>{const l=o?.[0]?.[Pp];l!==void 0&&t(!!l),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return YA()||qA()||oy()}}const cV=uV;var M0="@firebase/auth",V0="1.11.1";class fV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hV(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dV(i){dr(new Ni("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;be(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XA(i)},g=new NO(s,o,l,p);return zO(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),dr(new Ni("auth-internal",e=>{const t=Xa(e.getProvider("auth").getImmediate());return(s=>new fV(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(M0,V0,hV(i)),di(M0,V0,"esm2020")}const mV=300,pV=SA("authIdTokenMaxAge")||mV;let k0=null;const gV=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>pV)return;const o=t?.token;k0!==o&&(k0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yV(i=iy()){const e=Ya(i,"auth");if(e.isInitialized())return e.getImmediate();const t=jO(i,{popupRedirectResolver:cV,persistence:[TM,uM,ob]}),s=SA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=gV(l.toString());rM(t,c,()=>c(t.currentUser)),iM(t,m=>c(m))}}const o=EA("auth");return o&&BO(t,`http://${o}`),t}function vV(){return document.getElementsByTagName("head")?.[0]??document}DO({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=ar("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",vV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dV("Browser");var _V="firebase",EV="12.6.0";di(_V,EV,"app");const mb="@firebase/installations",hy="0.6.19";const pb=1e4,gb=`w:${hy}`,yb="FIS_v2",TV="https://firebaseinstallations.googleapis.com/v1",SV=3600*1e3,wV="installations",AV="Installations";const bV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ba=new Qa(wV,AV,bV);function vb(i){return i instanceof Mi&&i.code.includes("request-failed")}function _b({projectId:i}){return`${TV}/projects/${i}/installations`}function Eb(i){return{token:i.token,requestStatus:2,expiresIn:CV(i.expiresIn),creationTime:Date.now()}}async function Tb(i,e){const s=(await e.json()).error;return Ba.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Sb({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function RV(i,{refreshToken:e}){const t=Sb(i);return t.append("Authorization",IV(e)),t}async function wb(i){const e=await i();return e.status>=500&&e.status<600?i():e}function CV(i){return Number(i.replace("s","000"))}function IV(i){return`${yb} ${i}`}async function xV({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=_b(i),o=Sb(i),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={fid:t,authVersion:yb,appId:i.appId,sdkVersion:gb},m={method:"POST",headers:o,body:JSON.stringify(c)},p=await wb(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:Eb(g.authToken)}}else throw await Tb("Create Installation",p)}function Ab(i){return new Promise(e=>{setTimeout(e,i)})}function NV(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}const DV=/^[cdef][\w-]{21}$/,ug="";function OV(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=MV(i);return DV.test(t)?t:ug}catch{return ug}}function MV(i){return NV(i).substr(0,22)}function Yh(i){return`${i.appName}!${i.appId}`}const bb=new Map;function Rb(i,e){const t=Yh(i);Cb(t,e),VV(t,e)}function Cb(i,e){const t=bb.get(i);if(t)for(const s of t)s(e)}function VV(i,e){const t=kV();t&&t.postMessage({key:i,fid:e}),PV()}let Va=null;function kV(){return!Va&&"BroadcastChannel"in self&&(Va=new BroadcastChannel("[Firebase] FID Change"),Va.onmessage=i=>{Cb(i.data.key,i.data.fid)}),Va}function PV(){bb.size===0&&Va&&(Va.close(),Va=null)}const LV="firebase-installations-database",UV=1,Fa="firebase-installations-store";let Lp=null;function dy(){return Lp||(Lp=NA(LV,UV,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Fa)}}})),Lp}async function _h(i,e){const t=Yh(i),o=(await dy()).transaction(Fa,"readwrite"),l=o.objectStore(Fa),c=await l.get(t);return await l.put(e,t),await o.done,(!c||c.fid!==e.fid)&&Rb(i,e.fid),e}async function Ib(i){const e=Yh(i),s=(await dy()).transaction(Fa,"readwrite");await s.objectStore(Fa).delete(e),await s.done}async function Xh(i,e){const t=Yh(i),o=(await dy()).transaction(Fa,"readwrite"),l=o.objectStore(Fa),c=await l.get(t),m=e(c);return m===void 0?await l.delete(t):await l.put(m,t),await o.done,m&&(!c||c.fid!==m.fid)&&Rb(i,m.fid),m}async function my(i){let e;const t=await Xh(i.appConfig,s=>{const o=jV(s),l=zV(i,o);return e=l.registrationPromise,l.installationEntry});return t.fid===ug?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function jV(i){const e=i||{fid:OV(),registrationStatus:0};return xb(e)}function zV(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ba.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=BV(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FV(i)}:{installationEntry:e}}async function BV(i,e){try{const t=await xV(i,e);return _h(i.appConfig,t)}catch(t){throw vb(t)&&t.customData.serverCode===409?await Ib(i.appConfig):await _h(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function FV(i){let e=await P0(i.appConfig);for(;e.registrationStatus===1;)await Ab(100),e=await P0(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await my(i);return s||t}return e}function P0(i){return Xh(i,e=>{if(!e)throw Ba.create("installation-not-found");return xb(e)})}function xb(i){return qV(i)?{fid:i.fid,registrationStatus:0}:i}function qV(i){return i.registrationStatus===1&&i.registrationTime+pb<Date.now()}async function HV({appConfig:i,heartbeatServiceProvider:e},t){const s=GV(i,t),o=RV(i,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={installation:{sdkVersion:gb,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(c)},p=await wb(()=>fetch(s,m));if(p.ok){const g=await p.json();return Eb(g)}else throw await Tb("Generate Auth Token",p)}function GV(i,{fid:e}){return`${_b(i)}/${e}/authTokens:generate`}async function py(i,e=!1){let t;const s=await Xh(i.appConfig,l=>{if(!Nb(l))throw Ba.create("not-registered");const c=l.authToken;if(!e&&QV(c))return l;if(c.requestStatus===1)return t=$V(i,e),l;{if(!navigator.onLine)throw Ba.create("app-offline");const m=XV(l);return t=KV(i,m),m}});return t?await t:s.authToken}async function $V(i,e){let t=await L0(i.appConfig);for(;t.authToken.requestStatus===1;)await Ab(100),t=await L0(i.appConfig);const s=t.authToken;return s.requestStatus===0?py(i,e):s}function L0(i){return Xh(i,e=>{if(!Nb(e))throw Ba.create("not-registered");const t=e.authToken;return WV(t)?{...e,authToken:{requestStatus:0}}:e})}async function KV(i,e){try{const t=await HV(i,e),s={...e,authToken:t};return await _h(i.appConfig,s),t}catch(t){if(vb(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Ib(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await _h(i.appConfig,s)}throw t}}function Nb(i){return i!==void 0&&i.registrationStatus===2}function QV(i){return i.requestStatus===2&&!YV(i)}function YV(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+SV}function XV(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function WV(i){return i.requestStatus===1&&i.requestTime+pb<Date.now()}async function JV(i){const e=i,{installationEntry:t,registrationPromise:s}=await my(e);return s?s.catch(console.error):py(e).catch(console.error),t.fid}async function ZV(i,e=!1){const t=i;return await e4(t),(await py(t,e)).token}async function e4(i){const{registrationPromise:e}=await my(i);e&&await e}function t4(i){if(!i||!i.options)throw Up("App Configuration");if(!i.name)throw Up("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Up(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Up(i){return Ba.create("missing-app-config-values",{valueName:i})}const Db="installations",n4="installations-internal",i4=i=>{const e=i.getProvider("app").getImmediate(),t=t4(e),s=Ya(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},r4=i=>{const e=i.getProvider("app").getImmediate(),t=Ya(e,Db).getImmediate();return{getId:()=>JV(t),getToken:o=>ZV(t,o)}};function s4(){dr(new Ni(Db,i4,"PUBLIC")),dr(new Ni(n4,r4,"PRIVATE"))}s4();di(mb,hy);di(mb,hy,"esm2020");const Eh="analytics",a4="firebase_id",o4="origin",l4=60*1e3,u4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gy="https://www.googletagmanager.com/gtag/js";const An=new Gh("@firebase/analytics");const c4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Qn=new Qa("analytics","Analytics",c4);function f4(i){if(!i.startsWith(gy)){const e=Qn.create("invalid-gtag-resource",{gtagURL:i});return An.warn(e.message),""}return i}function Ob(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function h4(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function d4(i,e){const t=h4("firebase-js-sdk-policy",{createScriptURL:f4}),s=document.createElement("script"),o=`${gy}?l=${i}&id=${e}`;s.src=t?t?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function m4(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function p4(i,e,t,s,o,l){const c=s[o];try{if(c)await e[c];else{const p=(await Ob(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){An.error(m)}i("config",o,l)}async function g4(i,e,t,s,o){try{let l=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const m=await Ob(t);for(const p of c){const g=m.find(E=>E.measurementId===p),v=g&&e[g.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),i("event",s,o||{})}catch(l){An.error(l)}}function y4(i,e,t,s){async function o(l,...c){try{if(l==="event"){const[m,p]=c;await g4(i,e,t,m,p)}else if(l==="config"){const[m,p]=c;await p4(i,e,t,s,m,p)}else if(l==="consent"){const[m,p]=c;i("consent",m,p)}else if(l==="get"){const[m,p,g]=c;i("get",m,p,g)}else if(l==="set"){const[m]=c;i("set",m)}else i(l,...c)}catch(m){An.error(m)}}return o}function v4(i,e,t,s,o){let l=function(...c){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=y4(l,i,e,t),{gtagCore:l,wrappedGtag:window[o]}}function _4(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(gy)&&t.src.includes(i))return t;return null}const E4=30,T4=1e3;class S4{constructor(e={},t=T4){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Mb=new S4;function w4(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function A4(i){const{appId:e,apiKey:t}=i,s={method:"GET",headers:w4(t)},o=u4.replace("{app-id}",e),l=await fetch(o,s);if(l.status!==200&&l.status!==304){let c="";try{const m=await l.json();m.error?.message&&(c=m.error.message)}catch{}throw Qn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function b4(i,e=Mb,t){const{appId:s,apiKey:o,measurementId:l}=i.options;if(!s)throw Qn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw Qn.create("no-api-key")}const c=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new I4;return setTimeout(async()=>{m.abort()},l4),Vb({appId:s,apiKey:o,measurementId:l},c,m,e)}async function Vb(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=Mb){const{appId:l,measurementId:c}=i;try{await R4(s,e)}catch(m){if(c)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:c};throw m}try{const m=await A4(i);return o.deleteThrottleMetadata(l),m}catch(m){const p=m;if(!C4(p)){if(o.deleteThrottleMetadata(l),c)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:c};throw m}const g=Number(p?.customData?.httpStatus)===503?l0(t,o.intervalMillis,E4):l0(t,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return o.setThrottleMetadata(l,v),An.debug(`Calling attemptFetch again in ${g} millis`),Vb(i,v,s,o)}}function R4(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(l),s(Qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function C4(i){if(!(i instanceof Mi)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class I4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function x4(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const l=await e,c={...s,send_to:l};i("event",t,c)}}async function N4(i,e,t,s){if(s&&s.global){const o={};for(const l of Object.keys(t))o[`user_properties.${l}`]=t[l];return i("set",o),Promise.resolve()}else{const o=await e;i("config",o,{update:!0,user_properties:t})}}async function D4(){if(RA())try{await CA()}catch(i){return An.warn(Qn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return An.warn(Qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function O4(i,e,t,s,o,l,c){const m=b4(i);m.then(A=>{t[A.measurementId]=A.appId,i.options.measurementId&&A.measurementId!==i.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>An.error(A)),e.push(m);const p=D4().then(A=>{if(A)return s.getId()}),[g,v]=await Promise.all([m,p]);_4(l)||d4(l,g.measurementId),o("js",new Date);const E=c?.config??{};return E[o4]="firebase",E.update=!0,v!=null&&(E[a4]=v),o("config",g.measurementId,E),g.measurementId}class M4{constructor(e){this.app=e}_delete(){return delete tl[this.app.options.appId],Promise.resolve()}}let tl={},U0=[];const j0={};let jp="dataLayer",V4="gtag",z0,yy,B0=!1;function k4(){const i=[];if(bA()&&i.push("This is a browser extension environment."),jD()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=Qn.create("invalid-analytics-context",{errorInfo:e});An.warn(t.message)}}function P4(i,e,t){k4();const s=i.options.appId;if(!s)throw Qn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Qn.create("no-api-key");if(tl[s]!=null)throw Qn.create("already-exists",{id:s});if(!B0){m4(jp);const{wrappedGtag:l,gtagCore:c}=v4(tl,U0,j0,jp,V4);yy=l,z0=c,B0=!0}return tl[s]=O4(i,U0,j0,e,z0,jp,t),new M4(i)}function L4(i=iy()){i=Rt(i);const e=Ya(i,Eh);return e.isInitialized()?e.getImmediate():U4(i)}function U4(i,e={}){const t=Ya(i,Eh);if(t.isInitialized()){const o=t.getImmediate();if(hr(e,t.getOptions()))return o;throw Qn.create("already-initialized")}return t.initialize({options:e})}function j4(i,e,t){i=Rt(i),N4(yy,tl[i.app.options.appId],e,t).catch(s=>An.error(s))}function z4(i,e,t,s){i=Rt(i),x4(yy,tl[i.app.options.appId],e,t,s).catch(o=>An.error(o))}const F0="@firebase/analytics",q0="0.10.19";function B4(){dr(new Ni(Eh,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return P4(s,o,t)},"PUBLIC")),dr(new Ni("analytics-internal",i,"PRIVATE")),di(F0,q0),di(F0,q0,"esm2020");function i(e){try{const t=e.getProvider(Eh).getImmediate();return{logEvent:(s,o,l)=>z4(t,s,o,l),setUserProperties:(s,o)=>j4(t,s,o)}}catch(t){throw Qn.create("interop-component-reg-failed",{reason:t})}}}B4();var H0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gs,kb;(function(){var i;function e(x,I){function N(){}N.prototype=I.prototype,x.F=I.prototype,x.prototype=new N,x.prototype.constructor=x,x.D=function(L,k,D){for(var C=Array(arguments.length-2),he=2;he<arguments.length;he++)C[he-2]=arguments[he];return I.prototype[k].apply(L,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,I,N){N||(N=0);const L=Array(16);if(typeof I=="string")for(var k=0;k<16;++k)L[k]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(k=0;k<16;++k)L[k]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=x.g[0],N=x.g[1],k=x.g[2];let D=x.g[3],C;C=I+(D^N&(k^D))+L[0]+3614090360&4294967295,I=N+(C<<7&4294967295|C>>>25),C=D+(k^I&(N^k))+L[1]+3905402710&4294967295,D=I+(C<<12&4294967295|C>>>20),C=k+(N^D&(I^N))+L[2]+606105819&4294967295,k=D+(C<<17&4294967295|C>>>15),C=N+(I^k&(D^I))+L[3]+3250441966&4294967295,N=k+(C<<22&4294967295|C>>>10),C=I+(D^N&(k^D))+L[4]+4118548399&4294967295,I=N+(C<<7&4294967295|C>>>25),C=D+(k^I&(N^k))+L[5]+1200080426&4294967295,D=I+(C<<12&4294967295|C>>>20),C=k+(N^D&(I^N))+L[6]+2821735955&4294967295,k=D+(C<<17&4294967295|C>>>15),C=N+(I^k&(D^I))+L[7]+4249261313&4294967295,N=k+(C<<22&4294967295|C>>>10),C=I+(D^N&(k^D))+L[8]+1770035416&4294967295,I=N+(C<<7&4294967295|C>>>25),C=D+(k^I&(N^k))+L[9]+2336552879&4294967295,D=I+(C<<12&4294967295|C>>>20),C=k+(N^D&(I^N))+L[10]+4294925233&4294967295,k=D+(C<<17&4294967295|C>>>15),C=N+(I^k&(D^I))+L[11]+2304563134&4294967295,N=k+(C<<22&4294967295|C>>>10),C=I+(D^N&(k^D))+L[12]+1804603682&4294967295,I=N+(C<<7&4294967295|C>>>25),C=D+(k^I&(N^k))+L[13]+4254626195&4294967295,D=I+(C<<12&4294967295|C>>>20),C=k+(N^D&(I^N))+L[14]+2792965006&4294967295,k=D+(C<<17&4294967295|C>>>15),C=N+(I^k&(D^I))+L[15]+1236535329&4294967295,N=k+(C<<22&4294967295|C>>>10),C=I+(k^D&(N^k))+L[1]+4129170786&4294967295,I=N+(C<<5&4294967295|C>>>27),C=D+(N^k&(I^N))+L[6]+3225465664&4294967295,D=I+(C<<9&4294967295|C>>>23),C=k+(I^N&(D^I))+L[11]+643717713&4294967295,k=D+(C<<14&4294967295|C>>>18),C=N+(D^I&(k^D))+L[0]+3921069994&4294967295,N=k+(C<<20&4294967295|C>>>12),C=I+(k^D&(N^k))+L[5]+3593408605&4294967295,I=N+(C<<5&4294967295|C>>>27),C=D+(N^k&(I^N))+L[10]+38016083&4294967295,D=I+(C<<9&4294967295|C>>>23),C=k+(I^N&(D^I))+L[15]+3634488961&4294967295,k=D+(C<<14&4294967295|C>>>18),C=N+(D^I&(k^D))+L[4]+3889429448&4294967295,N=k+(C<<20&4294967295|C>>>12),C=I+(k^D&(N^k))+L[9]+568446438&4294967295,I=N+(C<<5&4294967295|C>>>27),C=D+(N^k&(I^N))+L[14]+3275163606&4294967295,D=I+(C<<9&4294967295|C>>>23),C=k+(I^N&(D^I))+L[3]+4107603335&4294967295,k=D+(C<<14&4294967295|C>>>18),C=N+(D^I&(k^D))+L[8]+1163531501&4294967295,N=k+(C<<20&4294967295|C>>>12),C=I+(k^D&(N^k))+L[13]+2850285829&4294967295,I=N+(C<<5&4294967295|C>>>27),C=D+(N^k&(I^N))+L[2]+4243563512&4294967295,D=I+(C<<9&4294967295|C>>>23),C=k+(I^N&(D^I))+L[7]+1735328473&4294967295,k=D+(C<<14&4294967295|C>>>18),C=N+(D^I&(k^D))+L[12]+2368359562&4294967295,N=k+(C<<20&4294967295|C>>>12),C=I+(N^k^D)+L[5]+4294588738&4294967295,I=N+(C<<4&4294967295|C>>>28),C=D+(I^N^k)+L[8]+2272392833&4294967295,D=I+(C<<11&4294967295|C>>>21),C=k+(D^I^N)+L[11]+1839030562&4294967295,k=D+(C<<16&4294967295|C>>>16),C=N+(k^D^I)+L[14]+4259657740&4294967295,N=k+(C<<23&4294967295|C>>>9),C=I+(N^k^D)+L[1]+2763975236&4294967295,I=N+(C<<4&4294967295|C>>>28),C=D+(I^N^k)+L[4]+1272893353&4294967295,D=I+(C<<11&4294967295|C>>>21),C=k+(D^I^N)+L[7]+4139469664&4294967295,k=D+(C<<16&4294967295|C>>>16),C=N+(k^D^I)+L[10]+3200236656&4294967295,N=k+(C<<23&4294967295|C>>>9),C=I+(N^k^D)+L[13]+681279174&4294967295,I=N+(C<<4&4294967295|C>>>28),C=D+(I^N^k)+L[0]+3936430074&4294967295,D=I+(C<<11&4294967295|C>>>21),C=k+(D^I^N)+L[3]+3572445317&4294967295,k=D+(C<<16&4294967295|C>>>16),C=N+(k^D^I)+L[6]+76029189&4294967295,N=k+(C<<23&4294967295|C>>>9),C=I+(N^k^D)+L[9]+3654602809&4294967295,I=N+(C<<4&4294967295|C>>>28),C=D+(I^N^k)+L[12]+3873151461&4294967295,D=I+(C<<11&4294967295|C>>>21),C=k+(D^I^N)+L[15]+530742520&4294967295,k=D+(C<<16&4294967295|C>>>16),C=N+(k^D^I)+L[2]+3299628645&4294967295,N=k+(C<<23&4294967295|C>>>9),C=I+(k^(N|~D))+L[0]+4096336452&4294967295,I=N+(C<<6&4294967295|C>>>26),C=D+(N^(I|~k))+L[7]+1126891415&4294967295,D=I+(C<<10&4294967295|C>>>22),C=k+(I^(D|~N))+L[14]+2878612391&4294967295,k=D+(C<<15&4294967295|C>>>17),C=N+(D^(k|~I))+L[5]+4237533241&4294967295,N=k+(C<<21&4294967295|C>>>11),C=I+(k^(N|~D))+L[12]+1700485571&4294967295,I=N+(C<<6&4294967295|C>>>26),C=D+(N^(I|~k))+L[3]+2399980690&4294967295,D=I+(C<<10&4294967295|C>>>22),C=k+(I^(D|~N))+L[10]+4293915773&4294967295,k=D+(C<<15&4294967295|C>>>17),C=N+(D^(k|~I))+L[1]+2240044497&4294967295,N=k+(C<<21&4294967295|C>>>11),C=I+(k^(N|~D))+L[8]+1873313359&4294967295,I=N+(C<<6&4294967295|C>>>26),C=D+(N^(I|~k))+L[15]+4264355552&4294967295,D=I+(C<<10&4294967295|C>>>22),C=k+(I^(D|~N))+L[6]+2734768916&4294967295,k=D+(C<<15&4294967295|C>>>17),C=N+(D^(k|~I))+L[13]+1309151649&4294967295,N=k+(C<<21&4294967295|C>>>11),C=I+(k^(N|~D))+L[4]+4149444226&4294967295,I=N+(C<<6&4294967295|C>>>26),C=D+(N^(I|~k))+L[11]+3174756917&4294967295,D=I+(C<<10&4294967295|C>>>22),C=k+(I^(D|~N))+L[2]+718787259&4294967295,k=D+(C<<15&4294967295|C>>>17),C=N+(D^(k|~I))+L[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+k&4294967295,x.g[3]=x.g[3]+D&4294967295}s.prototype.v=function(x,I){I===void 0&&(I=x.length);const N=I-this.blockSize,L=this.C;let k=this.h,D=0;for(;D<I;){if(k==0)for(;D<=N;)o(this,x,D),D+=this.blockSize;if(typeof x=="string"){for(;D<I;)if(L[k++]=x.charCodeAt(D++),k==this.blockSize){o(this,L),k=0;break}}else for(;D<I;)if(L[k++]=x[D++],k==this.blockSize){o(this,L),k=0;break}}this.h=k,this.o+=I},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;I=this.o*8;for(var N=x.length-8;N<x.length;++N)x[N]=I&255,I/=256;for(this.v(x),x=Array(16),I=0,N=0;N<4;++N)for(let L=0;L<32;L+=8)x[I++]=this.g[N]>>>L&255;return x};function l(x,I){var N=m;return Object.prototype.hasOwnProperty.call(N,x)?N[x]:N[x]=I(x)}function c(x,I){this.h=I;const N=[];let L=!0;for(let k=x.length-1;k>=0;k--){const D=x[k]|0;L&&D==I||(N[k]=D,L=!1)}this.g=N}var m={};function p(x){return-128<=x&&x<128?l(x,function(I){return new c([I|0],I<0?-1:0)}):new c([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return E;if(x<0)return P(g(-x));const I=[];let N=1;for(let L=0;x>=N;L++)I[L]=x/N|0,N*=4294967296;return new c(I,0)}function v(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return P(v(x.substring(1),I));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(I,8));let L=E;for(let D=0;D<x.length;D+=8){var k=Math.min(8,x.length-D);const C=parseInt(x.substring(D,D+k),I);k<8?(k=g(Math.pow(I,k)),L=L.j(k).add(g(C))):(L=L.j(N),L=L.add(g(C)))}return L}var E=p(0),A=p(1),O=p(16777216);i=c.prototype,i.m=function(){if(Q(this))return-P(this).m();let x=0,I=1;for(let N=0;N<this.g.length;N++){const L=this.i(N);x+=(L>=0?L:4294967296+L)*I,I*=4294967296}return x},i.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(z(this))return"0";if(Q(this))return"-"+P(this).toString(x);const I=g(Math.pow(x,6));var N=this;let L="";for(;;){const k=W(N,I).g;N=$(N,k.j(I));let D=((N.g.length>0?N.g[0]:N.h)>>>0).toString(x);if(N=k,z(N))return D+L;for(;D.length<6;)D="0"+D;L=D+L}},i.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function z(x){if(x.h!=0)return!1;for(let I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function Q(x){return x.h==-1}i.l=function(x){return x=$(this,x),Q(x)?-1:z(x)?0:1};function P(x){const I=x.g.length,N=[];for(let L=0;L<I;L++)N[L]=~x.g[L];return new c(N,~x.h).add(A)}i.abs=function(){return Q(this)?P(this):this},i.add=function(x){const I=Math.max(this.g.length,x.g.length),N=[];let L=0;for(let k=0;k<=I;k++){let D=L+(this.i(k)&65535)+(x.i(k)&65535),C=(D>>>16)+(this.i(k)>>>16)+(x.i(k)>>>16);L=C>>>16,D&=65535,C&=65535,N[k]=C<<16|D}return new c(N,N[N.length-1]&-2147483648?-1:0)};function $(x,I){return x.add(P(I))}i.j=function(x){if(z(this)||z(x))return E;if(Q(this))return Q(x)?P(this).j(P(x)):P(P(this).j(x));if(Q(x))return P(this.j(P(x)));if(this.l(O)<0&&x.l(O)<0)return g(this.m()*x.m());const I=this.g.length+x.g.length,N=[];for(var L=0;L<2*I;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(let k=0;k<x.g.length;k++){const D=this.i(L)>>>16,C=this.i(L)&65535,he=x.i(k)>>>16,de=x.i(k)&65535;N[2*L+2*k]+=C*de,Z(N,2*L+2*k),N[2*L+2*k+1]+=D*de,Z(N,2*L+2*k+1),N[2*L+2*k+1]+=C*he,Z(N,2*L+2*k+1),N[2*L+2*k+2]+=D*he,Z(N,2*L+2*k+2)}for(x=0;x<I;x++)N[x]=N[2*x+1]<<16|N[2*x];for(x=I;x<2*I;x++)N[x]=0;return new c(N,0)};function Z(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function j(x,I){this.g=x,this.h=I}function W(x,I){if(z(I))throw Error("division by zero");if(z(x))return new j(E,E);if(Q(x))return I=W(P(x),I),new j(P(I.g),P(I.h));if(Q(I))return I=W(x,P(I)),new j(P(I.g),I.h);if(x.g.length>30){if(Q(x)||Q(I))throw Error("slowDivide_ only works with positive integers.");for(var N=A,L=I;L.l(x)<=0;)N=ue(N),L=ue(L);var k=le(N,1),D=le(L,1);for(L=le(L,2),N=le(N,2);!z(L);){var C=D.add(L);C.l(x)<=0&&(k=k.add(N),D=C),L=le(L,1),N=le(N,1)}return I=$(x,k.j(I)),new j(k,I)}for(k=E;x.l(I)>=0;){for(N=Math.max(1,Math.floor(x.m()/I.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),D=g(N),C=D.j(I);Q(C)||C.l(x)>0;)N-=L,D=g(N),C=D.j(I);z(D)&&(D=A),k=k.add(D),x=$(x,C)}return new j(k,x)}i.B=function(x){return W(this,x).h},i.and=function(x){const I=Math.max(this.g.length,x.g.length),N=[];for(let L=0;L<I;L++)N[L]=this.i(L)&x.i(L);return new c(N,this.h&x.h)},i.or=function(x){const I=Math.max(this.g.length,x.g.length),N=[];for(let L=0;L<I;L++)N[L]=this.i(L)|x.i(L);return new c(N,this.h|x.h)},i.xor=function(x){const I=Math.max(this.g.length,x.g.length),N=[];for(let L=0;L<I;L++)N[L]=this.i(L)^x.i(L);return new c(N,this.h^x.h)};function ue(x){const I=x.g.length+1,N=[];for(let L=0;L<I;L++)N[L]=x.i(L)<<1|x.i(L-1)>>>31;return new c(N,x.h)}function le(x,I){const N=I>>5;I%=32;const L=x.g.length-N,k=[];for(let D=0;D<L;D++)k[D]=I>0?x.i(D+N)>>>I|x.i(D+N+1)<<32-I:x.i(D+N);return new c(k,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,kb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Gs=c}).apply(typeof H0<"u"?H0:typeof self<"u"?self:typeof window<"u"?window:{});var qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Pb,Nu,Lb,eh,cg,Ub,jb,zb;(function(){var i,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof qf=="object"&&qf];for(var y=0;y<f.length;++y){var T=f[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=t(this);function o(f,y){if(y)e:{var T=s;f=f.split(".");for(var R=0;R<f.length-1;R++){var F=f[R];if(!(F in T))break e;T=T[F]}f=f[f.length-1],R=T[f],y=y(R),y!=R&&y!=null&&e(T,f,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(y){var T=[],R;for(R in y)Object.prototype.hasOwnProperty.call(y,R)&&T.push([R,y[R]]);return T}});var l=l||{},c=this||self;function m(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function p(f,y,T){return f.call.apply(f.bind,arguments)}function g(f,y,T){return g=p,g.apply(null,arguments)}function v(f,y){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function E(f,y){function T(){}T.prototype=y.prototype,f.Z=y.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(R,F,Y){for(var fe=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)fe[Me-2]=arguments[Me];return y.prototype[F].apply(R,fe)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function O(f){const y=f.length;if(y>0){const T=Array(y);for(let R=0;R<y;R++)T[R]=f[R];return T}return[]}function z(f,y){for(let R=1;R<arguments.length;R++){const F=arguments[R];var T=typeof F;if(T=T!="object"?T:F?Array.isArray(F)?"array":T:"null",T=="array"||T=="object"&&typeof F.length=="number"){T=f.length||0;const Y=F.length||0;f.length=T+Y;for(let fe=0;fe<Y;fe++)f[T+fe]=F[fe]}else f.push(F)}}class Q{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(f){c.setTimeout(()=>{throw f},0)}function $(){var f=x;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Z{constructor(){this.h=this.g=null}add(y,T){const R=j.get();R.set(y,T),this.h?this.h.next=R:this.g=R,this.h=R}}var j=new Q(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,le=!1,x=new Z,I=()=>{const f=Promise.resolve(void 0);ue=()=>{f.then(N)}};function N(){for(var f;f=$();){try{f.h.call(f.g)}catch(T){P(T)}var y=j;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}le=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return f})();function C(f){return/^[\s\xa0]*$/.test(f)}function he(f,y){k.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}E(he,k),he.prototype.init=function(f,y){const T=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(T=="mouseover"?y=f.fromElement:T=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),G=0;function oe(f,y,T,R,F){this.listener=f,this.proxy=null,this.src=y,this.type=T,this.capture=!!R,this.ha=F,this.key=++G,this.da=this.fa=!1}function ce(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ie(f,y,T){for(const R in f)y.call(T,f[R],R,f)}function xe(f,y){for(const T in f)y.call(void 0,f[T],T,f)}function V(f){const y={};for(const T in f)y[T]=f[T];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(f,y){let T,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(T in R)f[T]=R[T];for(let Y=0;Y<J.length;Y++)T=J[Y],Object.prototype.hasOwnProperty.call(R,T)&&(f[T]=R[T])}}function re(f){this.src=f,this.g={},this.h=0}re.prototype.add=function(f,y,T,R,F){const Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);const fe=Ee(f,y,R,F);return fe>-1?(y=f[fe],T||(y.fa=!1)):(y=new oe(y,this.src,Y,!!R,F),y.fa=T,f.push(y)),y};function ye(f,y){const T=y.type;if(T in f.g){var R=f.g[T],F=Array.prototype.indexOf.call(R,y,void 0),Y;(Y=F>=0)&&Array.prototype.splice.call(R,F,1),Y&&(ce(y),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Ee(f,y,T,R){for(let F=0;F<f.length;++F){const Y=f[F];if(!Y.da&&Y.listener==y&&Y.capture==!!T&&Y.ha==R)return F}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),tt={};function Ke(f,y,T,R,F){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)Ke(f,y[Y],T,R,F);return null}return T=Vi(T),f&&f[de]?f.J(y,T,m(R)?!!R.capture:!1,F):cn(f,y,T,!1,R,F)}function cn(f,y,T,R,F,Y){if(!y)throw Error("Invalid event type");const fe=m(F)?!!F.capture:!!F;let Me=En(f);if(Me||(f[Oe]=Me=new re(f)),T=Me.add(y,T,R,fe,Y),T.proxy)return T;if(R=_n(),T.proxy=R,R.src=f,R.listener=T,f.addEventListener)D||(F=fe),F===void 0&&(F=!1),f.addEventListener(y.toString(),R,F);else if(f.attachEvent)f.attachEvent(Ot(y.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function _n(){function f(T){return y.call(f.src,f.listener,T)}const y=Qe;return f}function fn(f,y,T,R,F){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)fn(f,y[Y],T,R,F);else R=m(R)?!!R.capture:!!R,T=Vi(T),f&&f[de]?(f=f.i,Y=String(y).toString(),Y in f.g&&(y=f.g[Y],T=Ee(y,T,R,F),T>-1&&(ce(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete f.g[Y],f.h--)))):f&&(f=En(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Ee(y,T,R,F)),(T=f>-1?y[f]:null)&&hn(T))}function hn(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[de])ye(y.i,f);else{var T=f.type,R=f.proxy;y.removeEventListener?y.removeEventListener(T,R,f.capture):y.detachEvent?y.detachEvent(Ot(T),R):y.addListener&&y.removeListener&&y.removeListener(R),(T=En(y))?(ye(T,f),T.h==0&&(T.src=null,y[Oe]=null)):ce(f)}}}function Ot(f){return f in tt?tt[f]:tt[f]="on"+f}function Qe(f,y){if(f.da)f=!0;else{y=new he(y,this);const T=f.listener,R=f.ha||f.src;f.fa&&hn(f),f=T.call(R,y)}return f}function En(f){return f=f[Oe],f instanceof re?f:null}var Tn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vi(f){return typeof f=="function"?f:(f[Tn]||(f[Tn]=function(y){return f.handleEvent(y)}),f[Tn])}function ht(){L.call(this),this.i=new re(this),this.M=this,this.G=null}E(ht,L),ht.prototype[de]=!0,ht.prototype.removeEventListener=function(f,y,T,R){fn(this,f,y,T,R)};function yt(f,y){var T,R=f.G;if(R)for(T=[];R;R=R.G)T.push(R);if(f=f.M,R=y.type||y,typeof y=="string")y=new k(y,f);else if(y instanceof k)y.target=y.target||f;else{var F=y;y=new k(R,f),ae(y,F)}F=!0;let Y,fe;if(T)for(fe=T.length-1;fe>=0;fe--)Y=y.g=T[fe],F=bn(Y,R,!0,y)&&F;if(Y=y.g=f,F=bn(Y,R,!0,y)&&F,F=bn(Y,R,!1,y)&&F,T)for(fe=0;fe<T.length;fe++)Y=y.g=T[fe],F=bn(Y,R,!1,y)&&F}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const T=f.g[y];for(let R=0;R<T.length;R++)ce(T[R]);delete f.g[y],f.h--}}this.G=null},ht.prototype.J=function(f,y,T,R){return this.i.add(String(f),y,!1,T,R)},ht.prototype.K=function(f,y,T,R){return this.i.add(String(f),y,!0,T,R)};function bn(f,y,T,R){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let Y=0;Y<y.length;++Y){const fe=y[Y];if(fe&&!fe.da&&fe.capture==T){const Me=fe.listener,It=fe.ha||fe.src;fe.fa&&ye(f.i,fe),F=Me.call(It,R)!==!1&&F}}return F&&!R.defaultPrevented}function ts(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(f,y||0)}function ns(f){f.g=ts(()=>{f.g=null,f.i&&(f.i=!1,ns(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Mt extends L{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ns(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(f){L.call(this),this.h=f,this.g={}}E(pi,L);var Le=[];function Rn(f){Ie(f.g,function(y,T){this.g.hasOwnProperty(T)&&hn(y)},f),f.g={}}pi.prototype.N=function(){pi.Z.N.call(this),Rn(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ue=c.JSON.stringify,Vt=c.JSON.parse,Xn=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Ye(){}function to(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){k.call(this,"d")}E(Zt,k);function Wn(){k.call(this,"c")}E(Wn,k);var Ct={},dc=null;function no(){return dc=dc||new ht}Ct.Ia="serverreachability";function mc(f){k.call(this,Ct.Ia,f)}E(mc,k);function ki(f){const y=no();yt(y,new mc(y))}Ct.STAT_EVENT="statevent";function ra(f,y){k.call(this,Ct.STAT_EVENT,f),this.stat=y}E(ra,k);function kt(f){const y=no();yt(y,new ra(y,f))}Ct.Ja="timingevent";function Pi(f,y){k.call(this,Ct.Ja,f),this.size=y}E(Pi,k);function Li(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},y)}function gi(){this.g=!0}gi.prototype.ua=function(){this.g=!1};function yd(f,y,T,R,F,Y){f.info(function(){if(f.g)if(Y){var fe="",Me=Y.split("&");for(let Ze=0;Ze<Me.length;Ze++){var It=Me[Ze].split("=");if(It.length>1){const vt=It[0];It=It[1];const ti=vt.split("_");fe=ti.length>=2&&ti[1]=="type"?fe+(vt+"="+It+"&"):fe+(vt+"=redacted&")}}}else fe=null;else fe=Y;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+y+`
`+T+`
`+fe})}function pc(f,y,T,R,F,Y,fe){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+y+`
`+T+`
`+Y+" "+fe})}function Ui(f,y,T,R){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+vd(f,T)+(R?" "+R:"")})}function sa(f,y){f.info(function(){return"TIMEOUT: "+y})}gi.prototype.info=function(){};function vd(f,y){if(!f.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(f=0;f<Y.length;f++)if(Array.isArray(Y[f])){var T=Y[f];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var F=R[0];if(F!="noop"&&F!="stop"&&F!="close")for(let fe=1;fe<R.length;fe++)R[fe]=""}}}}return Ue(Y)}catch{return y}}var aa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bl;function oa(){}E(oa,Ye),oa.prototype.g=function(){return new XMLHttpRequest},bl=new oa;function yr(f){return encodeURIComponent(String(f))}function gc(f){var y=1;f=f.split(":");const T=[];for(;y>0&&f.length;)T.push(f.shift()),y--;return f.length&&T.push(f.join(":")),T}function yi(f,y,T,R){this.j=f,this.i=y,this.l=T,this.S=R||1,this.V=new pi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vi}function vi(){this.i=null,this.g="",this.h=!1}var Pt={},Yt={};function ji(f,y,T){f.M=1,f.A=la(Ut(y)),f.u=T,f.R=!0,io(f,null)}function io(f,y){f.F=Date.now(),zi(f),f.B=Ut(f.A);var T=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),oo(T.i,"t",R),f.C=0,T=f.j.L,f.h=new vi,f.g=Dc(f.j,T?y:null,!f.u),f.P>0&&(f.O=new Mt(g(f.Y,f,f.g),f.P)),y=f.V,T=f.g,R=f.ba;var F="readystatechange";Array.isArray(F)||(F&&(Le[0]=F.toString()),F=Le);for(let Y=0;Y<F.length;Y++){const fe=Ke(T,F[Y],R||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=f.J?V(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),ki(),yd(f.i,f.v,f.B,f.l,f.S,f.u)}yi.prototype.ba=function(f){f=f.target;const y=this.O;y&&Ti(f)==3?y.j():this.Y(f)},yi.prototype.Y=function(f){try{if(f==this.g)e:{const Me=Ti(this.g),It=this.g.ya(),Ze=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Me!=4||It==7||(It==8||Ze<=0?ki(3):ki(2)),Bi(this);var y=this.g.ca();this.X=y;var T=_d(this);if(this.o=y==200,pc(this.i,this.v,this.B,this.l,this.S,Me,y),this.o){if(this.U&&!this.L){t:{if(this.g){var R,F=this.g;if((R=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(R)){var Y=R;break t}}Y=null}if(f=Y)Ui(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fi(this,f);else{this.o=!1,this.m=3,kt(12),Un(this),Jn(this);break e}}if(this.R){f=!0;let vt;for(;!this.K&&this.C<T.length;)if(vt=vc(this,T),vt==Yt){Me==4&&(this.m=4,kt(14),f=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Pt){this.m=4,kt(15),Ui(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Ui(this.i,this.l,vt,null),Fi(this,vt);if(yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||T.length!=0||this.h.h||(this.m=1,kt(16),f=!1),this.o=this.o&&f,!f)Ui(this.i,this.l,T,"[Invalid Chunked Response]"),Un(this),Jn(this);else if(T.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),zl(fe),fe.P=!0,kt(11))}}else Ui(this.i,this.l,T,null),Fi(this,T);Me==4&&Un(this),this.o&&!this.K&&(Me==4?Cc(this.j,this):(this.o=!1,zi(this)))}else _r(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),Un(this),Jn(this)}}}catch{}finally{}};function _d(f){if(!yc(f))return f.g.la();const y=en(f.g);if(y==="")return"";let T="";const R=y.length,F=Ti(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Un(f),Jn(f),"";f.h.i=new c.TextDecoder}for(let Y=0;Y<R;Y++)f.h.h=!0,T+=f.h.i.decode(y[Y],{stream:!(F&&Y==R-1)});return y.length=0,f.h.g+=T,f.C=0,f.h.g}function yc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function vc(f,y){var T=f.C,R=y.indexOf(`
`,T);return R==-1?Yt:(T=Number(y.substring(T,R)),isNaN(T)?Pt:(R+=1,R+T>y.length?Yt:(y=y.slice(R,R+T),f.C=R+T,y)))}yi.prototype.cancel=function(){this.K=!0,Un(this)};function zi(f){f.T=Date.now()+f.H,ro(f,f.H)}function ro(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Li(g(f.aa,f),y)}function Bi(f){f.D&&(c.clearTimeout(f.D),f.D=null)}yi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(sa(this.i,this.B),this.M!=2&&(ki(),kt(17)),Un(this),this.m=2,Jn(this)):ro(this,this.T-f)};function Jn(f){f.j.I==0||f.K||Cc(f.j,f)}function Un(f){Bi(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,Rn(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function Fi(f,y){try{var T=f.j;if(T.I!=0&&(T.g==f||Hi(T.h,f))){if(!f.L&&Hi(T.h,f)&&T.I==3){try{var R=T.Ba.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)ho(T),cs(T);else break e;pa(T),kt(18)}}else T.xa=F[1],0<T.xa-T.K&&F[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Li(g(T.Va,T),6e3));qi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Xi(T,11)}else if((f.L||T.g==f)&&ho(T),!C(y))for(F=T.Ba.g.parse(y),y=0;y<F.length;y++){let Ze=F[y];const vt=Ze[0];if(!(vt<=T.K))if(T.K=vt,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const ti=Ze[3];ti!=null&&(T.ka=ti,T.j.info("VER="+T.ka));const Wi=Ze[4];Wi!=null&&(T.za=Wi,T.j.info("SVER="+T.za));const Si=Ze[5];Si!=null&&typeof Si=="number"&&Si>0&&(R=1.5*Si,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const wi=f.g;if(wi){const ga=wi.g?wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var Y=R.h;Y.g||ga.indexOf("spdy")==-1&&ga.indexOf("quic")==-1&&ga.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Il(Y,Y.h),Y.h=null))}if(R.G){const mo=wi.g?wi.g.getResponseHeader("X-HTTP-Session-Id"):null;mo&&(R.wa=mo,it(R.J,R.G,mo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var fe=f;if(R.na=Nc(R,R.L?R.ba:null,R.W),fe.L){xl(R.h,fe);var Me=fe,It=R.O;It&&(Me.H=It),Me.D&&(Bi(Me),zi(Me)),R.g=fe}else bc(R);T.i.length>0&&Yi(T)}else Ze[0]!="stop"&&Ze[0]!="close"||Xi(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Xi(T,7):Ul(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}ki(4)}catch{}}var Lt=class{constructor(f,y){this.g=f,this.map=y}};function Rl(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function qi(f){return f.h?1:f.g?f.g.size:0}function Hi(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Il(f,y){f.g?f.g.add(y):f.h=y}function xl(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Rl.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Nl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const T of f.g.values())y=y.concat(T.G);return y}return O(f.i)}var _c=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function so(f,y){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const R=f[T].indexOf("=");let F,Y=null;R>=0?(F=f[T].substring(0,R),Y=f[T].substring(R+1)):F=f[T],y(F,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function jn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof jn?(this.l=f.l,Xt(this,f.j),this.o=f.o,this.g=f.g,is(this,f.u),this.h=f.h,Dl(this,wc(f.i)),this.m=f.m):f&&(y=String(f).match(_c))?(this.l=!1,Xt(this,y[1]||"",!0),this.o=Gi(y[2]||""),this.g=Gi(y[3]||"",!0),is(this,y[4]),this.h=Gi(y[5]||"",!0),Dl(this,y[6]||"",!0),this.m=Gi(y[7]||"")):(this.l=!1,this.i=new ss(null,this.l))}jn.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(ua(y,ao,!0),":");var T=this.g;return(T||y=="file")&&(f.push("//"),(y=this.o)&&f.push(ua(y,ao,!0),"@"),f.push(yr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(ua(T,T.charAt(0)=="/"?Ol:Ec,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",ua(T,Tc)),f.join("")},jn.prototype.resolve=function(f){const y=Ut(this);let T=!!f.j;T?Xt(y,f.j):T=!!f.o,T?y.o=f.o:T=!!f.g,T?y.g=f.g:T=f.u!=null;var R=f.h;if(T)is(y,f.u);else if(T=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var F=y.h.lastIndexOf("/");F!=-1&&(R=y.h.slice(0,F+1)+R)}if(F=R,F==".."||F==".")R="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){R=F.lastIndexOf("/",0)==0,F=F.split("/");const Y=[];for(let fe=0;fe<F.length;){const Me=F[fe++];Me=="."?R&&fe==F.length&&Y.push(""):Me==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),R&&fe==F.length&&Y.push("")):(Y.push(Me),R=!0)}R=Y.join("/")}else R=F}return T?y.h=R:T=f.i.toString()!=="",T?Dl(y,wc(f.i)):T=!!f.m,T&&(y.m=f.m),y};function Ut(f){return new jn(f)}function Xt(f,y,T){f.j=T?Gi(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function is(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function Dl(f,y,T){y instanceof ss?(f.i=y,lo(f.i,f.l)):(T||(y=ua(y,rs)),f.i=new ss(y,f.l))}function it(f,y,T){f.i.set(y,T)}function la(f){return it(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Gi(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ua(f,y,T){return typeof f=="string"?(f=encodeURI(f).replace(y,Cn),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Cn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ao=/[#\/\?@]/g,Ec=/[#\?:]/g,Ol=/[#\?]/g,rs=/[#\?@]/g,Tc=/#/g;function ss(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function In(f){f.g||(f.g=new Map,f.h=0,f.i&&so(f.i,function(y,T){f.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}i=ss.prototype,i.add=function(f,y){In(this),this.i=null,f=as(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(y),this.h+=1,this};function Sc(f,y){In(f),y=as(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Ml(f,y){return In(f),y=as(f,y),f.g.has(y)}i.forEach=function(f,y){In(this),this.g.forEach(function(T,R){T.forEach(function(F){f.call(y,F,R,this)},this)},this)};function Vl(f,y){In(f);let T=[];if(typeof y=="string")Ml(f,y)&&(T=T.concat(f.g.get(as(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)T=T.concat(f[y]);return T}i.set=function(f,y){return In(this),this.i=null,f=as(this,f),Ml(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},i.get=function(f,y){return f?(f=Vl(this,f),f.length>0?String(f[0]):y):y};function oo(f,y,T){Sc(f,y),T.length>0&&(f.i=null,f.g.set(as(f,y),O(T)),f.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let R=0;R<y.length;R++){var T=y[R];const F=yr(T);T=Vl(this,T);for(let Y=0;Y<T.length;Y++){let fe=F;T[Y]!==""&&(fe+="="+yr(T[Y])),f.push(fe)}}return this.i=f.join("&")};function wc(f){const y=new ss;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function as(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function lo(f,y){y&&!f.j&&(In(f),f.i=null,f.g.forEach(function(T,R){const F=R.toLowerCase();R!=F&&(Sc(this,R),oo(this,F,T))},f)),f.j=y}function _i(f,y){const T=new gi;if(c.Image){const R=new Image;R.onload=v(Zn,T,"TestLoadImage: loaded",!0,y,R),R.onerror=v(Zn,T,"TestLoadImage: error",!1,y,R),R.onabort=v(Zn,T,"TestLoadImage: abort",!1,y,R),R.ontimeout=v(Zn,T,"TestLoadImage: timeout",!1,y,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else y(!1)}function kl(f,y){const T=new gi,R=new AbortController,F=setTimeout(()=>{R.abort(),Zn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:R.signal}).then(Y=>{clearTimeout(F),Y.ok?Zn(T,"TestPingServer: ok",!0,y):Zn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Zn(T,"TestPingServer: error",!1,y)})}function Zn(f,y,T,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(T)}catch{}}function os(){this.g=new Xn}function $i(f){this.i=f.Sb||null,this.h=f.ab||!1}E($i,Ye),$i.prototype.g=function(){return new ca(this.i,this.h)};function ca(f,y){ht.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(ca,ht),i=ca.prototype,i.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,Ei(this)},i.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ls(this)),this.readyState=0},i.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;uo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function uo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}i.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?ls(this):Ei(this),this.readyState==3&&uo(this)}},i.Oa=function(f){this.g&&(this.response=this.responseText=f,ls(this))},i.Na=function(f){this.g&&(this.response=f,ls(this))},i.ga=function(){this.g&&ls(this)};function ls(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ei(f)}i.setRequestHeader=function(f,y){this.A.append(f,y)},i.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=y.next();return f.join(`\r
`)};function Ei(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ei(f){let y="";return Ie(f,function(T,R){y+=R,y+=":",y+=T,y+=`\r
`}),y}function fa(f,y,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=ei(T),typeof f=="string"?T!=null&&yr(T):it(f,y,T))}function at(f){ht.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(at,ht);var Ki=/^https?$/i,Pl=["POST","PUT"];i=at.prototype,i.Fa=function(f){this.H=f},i.ea=function(f,y,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bl.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(Y){ha(this,Y);return}if(f=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)T.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Y of R.keys())T.set(Y,R.get(Y));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Pl,y,void 0)>=0)||R||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,fe]of T)this.g.setRequestHeader(Y,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Y){ha(this,Y)}};function ha(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,Ll(f),vr(f)}function Ll(f){f.A||(f.A=!0,yt(f,"complete"),yt(f,"error"))}i.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,yt(this,"complete"),yt(this,"abort"),vr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),at.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?da(this):this.Xa())},i.Xa=function(){da(this)};function da(f){if(f.h&&typeof l<"u"){if(f.v&&Ti(f)==4)setTimeout(f.Ca.bind(f),0);else if(yt(f,"readystatechange"),Ti(f)==4){f.h=!1;try{const Y=f.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var R;if(R=Y===0){let fe=String(f.D).match(_c)[1]||null;!fe&&c.self&&c.self.location&&(fe=c.self.location.protocol.slice(0,-1)),R=!Ki.test(fe?fe.toLowerCase():"")}T=R}if(T)yt(f,"complete"),yt(f,"success");else{f.o=6;try{var F=Ti(f)>2?f.g.statusText:""}catch{F=""}f.l=F+" ["+f.ca()+"]",Ll(f)}}finally{vr(f)}}}}function vr(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,y||yt(f,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Ti(f){return f.g?f.g.readyState:0}i.ca=function(){try{return Ti(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Vt(y)}};function en(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function _r(f){const y={};f=(f.g&&Ti(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(C(f[R]))continue;var T=gc(f[R]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Y=y[F]||[];y[F]=Y,Y.push(T)}xe(y,function(R){return R.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qi(f,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||y}function us(f){this.za=0,this.i=[],this.j=new gi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qi("baseRetryDelayMs",5e3,f),this.Za=Qi("retryDelaySeedMs",1e4,f),this.Ta=Qi("forwardChannelMaxRetries",2,f),this.va=Qi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Rl(f&&f.concurrentRequestLimit),this.Ba=new os,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=us.prototype,i.ka=8,i.I=1,i.connect=function(f,y,T,R){kt(0),this.W=f,this.H=y||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=Nc(this,null,this.W),Yi(this)};function Ul(f){if(co(f),f.I==3){var y=f.V++,T=Ut(f.J);if(it(T,"SID",f.M),it(T,"RID",y),it(T,"TYPE","terminate"),ma(f,T),y=new yi(f,f.j,y),y.M=2,y.A=la(Ut(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=Dc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),zi(y)}xc(f)}function cs(f){f.g&&(zl(f),f.g.cancel(),f.g=null)}function co(f){cs(f),f.v&&(c.clearTimeout(f.v),f.v=null),ho(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Yi(f){if(!Cl(f.h)&&!f.m){f.m=!0;var y=f.Ea;ue||I(),le||(ue(),le=!0),x.add(y,f),f.D=0}}function fo(f,y){return qi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Li(g(f.Ea,f,y),Ic(f,f.D)),f.D++,!0)}i.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const F=new yi(this,this.j,f);let Y=this.o;if(this.U&&(Y?(Y=V(Y),ae(Y,this.U)):Y=this.U),this.u!==null||this.R||(F.J=Y,Y=null),this.S)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,y>4096){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Ac(this,F,y),T=Ut(this.J),it(T,"RID",f),it(T,"CVER",22),this.G&&it(T,"X-HTTP-Session-Id",this.G),ma(this,T),Y&&(this.R?y="headers="+yr(ei(Y))+"&"+y:this.u&&fa(T,this.u,Y)),Il(this.h,F),this.Ra&&it(T,"TYPE","init"),this.S?(it(T,"$req",y),it(T,"SID","null"),F.U=!0,ji(F,T,null)):ji(F,T,y),this.I=2}}else this.I==3&&(f?jl(this,f):this.i.length==0||Cl(this.h)||jl(this))};function jl(f,y){var T;y?T=y.l:T=f.V++;const R=Ut(f.J);it(R,"SID",f.M),it(R,"RID",T),it(R,"AID",f.K),ma(f,R),f.u&&f.o&&fa(R,f.u,f.o),T=new yi(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),y&&(f.i=y.G.concat(f.i)),y=Ac(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Il(f.h,T),ji(T,R,y)}function ma(f,y){f.H&&Ie(f.H,function(T,R){it(y,R,T)}),f.l&&Ie({},function(T,R){it(y,R,T)})}function Ac(f,y,T){T=Math.min(f.i.length,T);const R=f.l?g(f.l.Ka,f.l,f):null;e:{var F=f.i;let Me=-1;for(;;){const It=["count="+T];Me==-1?T>0?(Me=F[0].g,It.push("ofs="+Me)):Me=0:It.push("ofs="+Me);let Ze=!0;for(let vt=0;vt<T;vt++){var Y=F[vt].g;const ti=F[vt].map;if(Y-=Me,Y<0)Me=Math.max(0,F[vt].g-100),Ze=!1;else try{Y="req"+Y+"_"||"";try{var fe=ti instanceof Map?ti:Object.entries(ti);for(const[Wi,Si]of fe){let wi=Si;m(Si)&&(wi=Ue(Si)),It.push(Y+Wi+"="+encodeURIComponent(wi))}}catch(Wi){throw It.push(Y+"type="+encodeURIComponent("_badmap")),Wi}}catch{R&&R(ti)}}if(Ze){fe=It.join("&");break e}}fe=void 0}return f=f.i.splice(0,T),y.G=f,fe}function bc(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;ue||I(),le||(ue(),le=!0),x.add(y,f),f.A=0}}function pa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Li(g(f.Da,f),Ic(f,f.A)),f.A++,!0)}i.Da=function(){if(this.v=null,Rc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Li(g(this.Wa,this),f)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),cs(this),Rc(this))};function zl(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Rc(f){f.g=new yi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=Ut(f.na);it(y,"RID","rpc"),it(y,"SID",f.M),it(y,"AID",f.K),it(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&it(y,"TO",f.ia),it(y,"TYPE","xmlhttp"),ma(f,y),f.u&&f.o&&fa(y,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=la(Ut(y)),T.u=null,T.R=!0,io(T,f)}i.Va=function(){this.C!=null&&(this.C=null,cs(this),pa(this),kt(19))};function ho(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Cc(f,y){var T=null;if(f.g==y){ho(f),zl(f),f.g=null;var R=2}else if(Hi(f.h,y))T=y.G,xl(f.h,y),R=1;else return;if(f.I!=0){if(y.o)if(R==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var F=f.D;R=no(),yt(R,new Pi(R,T)),Yi(f)}else bc(f);else if(F=y.m,F==3||F==0&&y.X>0||!(R==1&&fo(f,y)||R==2&&pa(f)))switch(T&&T.length>0&&(y=f.h,y.i=y.i.concat(T)),F){case 1:Xi(f,5);break;case 4:Xi(f,10);break;case 3:Xi(f,6);break;default:Xi(f,2)}}}function Ic(f,y){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*y}function Xi(f,y){if(f.j.info("Error code "+y),y==2){var T=g(f.bb,f),R=f.Ua;const F=!R;R=new jn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xt(R,"https"),la(R),F?_i(R.toString(),T):kl(R.toString(),T)}else kt(2);f.I=0,f.l&&f.l.pa(y),xc(f),co(f)}i.bb=function(f){f?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function xc(f){if(f.I=0,f.ja=[],f.l){const y=Nl(f.h);(y.length!=0||f.i.length!=0)&&(z(f.ja,y),z(f.ja,f.i),f.h.i.length=0,O(f.i),f.i.length=0),f.l.oa()}}function Nc(f,y,T){var R=T instanceof jn?Ut(T):new jn(T);if(R.g!="")y&&(R.g=y+"."+R.g),is(R,R.u);else{var F=c.location;R=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const Y=new jn(null);R&&Xt(Y,R),y&&(Y.g=y),F&&is(Y,F),T&&(Y.h=T),R=Y}return T=f.G,y=f.wa,T&&y&&it(R,T,y),it(R,"VER",f.ka),ma(f,R),R}function Dc(f,y,T){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new at(new $i({ab:T})):new at(f.ma),y.Fa(f.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oc(){}i=Oc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function fs(){}fs.prototype.g=function(f,y){return new Sn(f,y)};function Sn(f,y){ht.call(this),this.g=new us(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!C(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Er(this)}E(Sn,ht),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Ul(this.g)},Sn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=Ue(f),f=T);y.i.push(new Lt(y.Ya++,f)),y.I==3&&Yi(y)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,Sn.Z.N.call(this)};function Mc(f){Zt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const T in y){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}E(Mc,Zt);function Vc(){Wn.call(this),this.status=1}E(Vc,Wn);function Er(f){this.g=f}E(Er,Oc),Er.prototype.ra=function(){yt(this.g,"a")},Er.prototype.qa=function(f){yt(this.g,new Mc(f))},Er.prototype.pa=function(f){yt(this.g,new Vc)},Er.prototype.oa=function(){yt(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,zb=function(){return new fs},jb=function(){return no()},Ub=Ct,cg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},aa.NO_ERROR=0,aa.TIMEOUT=8,aa.HTTP_ERROR=6,eh=aa,Al.COMPLETE="complete",Lb=Al,to.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ht.prototype.listen=ht.prototype.J,Nu=to,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,Pb=at}).apply(typeof qf<"u"?qf:typeof self<"u"?self:typeof window<"u"?window:{});const G0="@firebase/firestore",$0="4.9.2";class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");let _l="12.3.0";const qa=new Gh("@firebase/firestore");function $o(){return qa.logLevel}function pe(i,...e){if(qa.logLevel<=qe.DEBUG){const t=e.map(vy);qa.debug(`Firestore (${_l}): ${i}`,...t)}}function Jr(i,...e){if(qa.logLevel<=qe.ERROR){const t=e.map(vy);qa.error(`Firestore (${_l}): ${i}`,...t)}}function rl(i,...e){if(qa.logLevel<=qe.WARN){const t=e.map(vy);qa.warn(`Firestore (${_l}): ${i}`,...t)}}function vy(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function Re(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Bb(i,s,t)}function Bb(i,e,t){let s=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Jr(s),new Error(s)}function nt(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||Bb(e,o,s)}function De(i,e){return i}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Mi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Fb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(gn.UNAUTHENTICATED)))}shutdown(){}}class q4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class H4{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Kr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Kr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(nt(typeof s.accessToken=="string",31837,{l:s}),new Fb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class G4{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $4{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new G4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class K0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){nt(this.o===void 0,3512);const s=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new K0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(nt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new K0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Q4(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class _y{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Q4(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function He(i,e){return i<e?-1:i>e?1:0}function fg(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),l=e.charAt(s);if(o!==l)return zp(o)===zp(l)?He(o,l):zp(o)?1:-1}return He(i.length,e.length)}const Y4=55296,X4=57343;function zp(i){const e=i.charCodeAt(0);return e>=Y4&&e<=X4}function sl(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}const Q0="__name__";class ir{constructor(e,t,s){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Re(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ir.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ir?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=ir.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return He(e.length,t.length)}static compareSegments(e,t){const s=ir.isNumericId(e),o=ir.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?ir.extractNumericId(e).compare(ir.extractNumericId(t)):fg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gs.fromString(e.substring(4,e.length-2))}}class dt extends ir{construct(e,t,s){return new dt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new dt(t)}static emptyPath(){return new dt([])}}const W4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends ir{construct(e,t,s){return new ln(e,t,s)}static isValidIdentifier(e){return W4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q0}static keyField(){return new ln([Q0])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(l(),o++)}if(l(),c)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}class Se{constructor(e){this.path=e}static fromPath(e){return new Se(dt.fromString(e))}static fromName(e){return new Se(dt.fromString(e).popFirst(5))}static empty(){return new Se(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new dt(e.slice()))}}function qb(i,e,t){if(!t)throw new me(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function J4(i,e,t,s){if(e===!0&&s===!0)throw new me(ie.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Y0(i){if(!Se.isDocumentKey(i))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function X0(i){if(Se.isDocumentKey(i))throw new me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Hb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Wh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Re(12329,{type:typeof i})}function Yn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wh(i);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Gt(i,e){const t={typeString:i};return e&&(t.value=e),t}function ac(i,e){if(!Hb(i))throw new me(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new me(ie.INVALID_ARGUMENT,t);return!0}const W0=-62135596800,J0=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*J0);return new mt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<W0)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J0}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ac(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-W0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Gt("string",mt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new mt(0,0))}static max(){return new Ce(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gu=-1;function Z4(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new mt(t+1,0):new mt(t,s));return new Ks(o,Se.empty(),e)}function ek(i){return new Ks(i.readTime,i.key,Gu)}class Ks{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ks(Ce.min(),Se.empty(),Gu)}static max(){return new Ks(Ce.max(),Se.empty(),Gu)}}function tk(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(i.documentKey,e.documentKey),t!==0?t:He(i.largestBatchId,e.largestBatchId))}const nk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ik{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function El(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==nk)throw i;pe("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,s)=>{t(e)}))}static reject(e){return new se(((t,s)=>{s(e)}))}static waitFor(e){return new se(((t,s)=>{let o=0,l=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++l,c&&l===o&&t()}),(p=>s(p)))})),c=!0,l===o&&t()}))}static or(e){let t=se.resolve(!1);for(const s of e)t=t.next((o=>o?se.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new se(((s,o)=>{const l=e.length,c=new Array(l);let m=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((v=>{c[g]=v,++m,m===l&&s(c)}),(v=>o(v)))}}))}static doWhile(e,t){return new se(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function rk(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Tl(i){return i.name==="IndexedDbTransactionError"}class Jh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jh.ce=-1;const Ey=-1;function Zh(i){return i==null}function Th(i){return i===0&&1/i==-1/0}function sk(i){return typeof i=="number"&&Number.isInteger(i)&&!Th(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Gb="";function ak(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Z0(e)),e=ok(i.get(t),e);return Z0(e)}function ok(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case Gb:t+="";break;default:t+=l}}return t}function Z0(i){return i+Gb+""}function eS(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function na(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function $b(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class St{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hf(this.root,e,this.comparator,!0)}}class Hf{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??an.RED,this.left=o??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new an(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return an.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tS(this.data.getIterator())}getIteratorFrom(e){return new tS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Qt(this.comparator);return t.data=e,t}}class tS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Kn([])}unionWith(e){let t=new Qt(ln.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class Kb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Kb("Invalid base64 string: "+l):l}})(e);return new un(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const lk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(i){if(nt(!!i,39018),typeof i=="string"){let e=0;const t=lk.exec(i);if(nt(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dt(i.seconds),nanos:Dt(i.nanos)}}function Dt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ys(i){return typeof i=="string"?un.fromBase64String(i):un.fromUint8Array(i)}const Qb="server_timestamp",Yb="__type__",Xb="__previous_value__",Wb="__local_write_time__";function Ty(i){return(i?.mapValue?.fields||{})[Yb]?.stringValue===Qb}function ed(i){const e=i.mapValue.fields[Xb];return Ty(e)?ed(e):e}function $u(i){const e=Qs(i.mapValue.fields[Wb].timestampValue);return new mt(e.seconds,e.nanos)}class uk{constructor(e,t,s,o,l,c,m,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Sh="(default)";class Ku{constructor(e,t){this.projectId=e,this.database=t||Sh}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}const Jb="__type__",ck="__max__",Gf={mapValue:{}},Zb="__vector__",wh="value";function Xs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ty(i)?4:hk(i)?9007199254740991:fk(i)?10:11:Re(28295,{value:i})}function mr(i,e){if(i===e)return!0;const t=Xs(i);if(t!==Xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $u(i).isEqual($u(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Qs(o.timestampValue),m=Qs(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,l){return Ys(o.bytesValue).isEqual(Ys(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,l){return Dt(o.geoPointValue.latitude)===Dt(l.geoPointValue.latitude)&&Dt(o.geoPointValue.longitude)===Dt(l.geoPointValue.longitude)})(i,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Dt(o.integerValue)===Dt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Dt(o.doubleValue),m=Dt(l.doubleValue);return c===m?Th(c)===Th(m):isNaN(c)&&isNaN(m)}return!1})(i,e);case 9:return sl(i.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},m=l.mapValue.fields||{};if(eS(c)!==eS(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!mr(c[p],m[p])))return!1;return!0})(i,e);default:return Re(52216,{left:i})}}function Qu(i,e){return(i.values||[]).find((t=>mr(t,e)))!==void 0}function al(i,e){if(i===e)return 0;const t=Xs(i),s=Xs(e);if(t!==s)return He(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return He(i.booleanValue,e.booleanValue);case 2:return(function(l,c){const m=Dt(l.integerValue||l.doubleValue),p=Dt(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return nS(i.timestampValue,e.timestampValue);case 4:return nS($u(i),$u(e));case 5:return fg(i.stringValue,e.stringValue);case 6:return(function(l,c){const m=Ys(l),p=Ys(c);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(l,c){const m=l.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=He(m[g],p[g]);if(v!==0)return v}return He(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,c){const m=He(Dt(l.latitude),Dt(c.latitude));return m!==0?m:He(Dt(l.longitude),Dt(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return iS(i.arrayValue,e.arrayValue);case 10:return(function(l,c){const m=l.fields||{},p=c.fields||{},g=m[wh]?.arrayValue,v=p[wh]?.arrayValue,E=He(g?.values?.length||0,v?.values?.length||0);return E!==0?E:iS(g,v)})(i.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Gf.mapValue&&c===Gf.mapValue)return 0;if(l===Gf.mapValue)return 1;if(c===Gf.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const A=fg(p[E],v[E]);if(A!==0)return A;const O=al(m[p[E]],g[v[E]]);if(O!==0)return O}return He(p.length,v.length)})(i.mapValue,e.mapValue);default:throw Re(23264,{he:t})}}function nS(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return He(i,e);const t=Qs(i),s=Qs(e),o=He(t.seconds,s.seconds);return o!==0?o:He(t.nanos,s.nanos)}function iS(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=al(t[o],s[o]);if(l)return l}return He(t.length,s.length)}function ol(i){return hg(i)}function hg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=Qs(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Ys(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return Se.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=hg(l);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${hg(t.fields[c])}`;return o+"}"})(i.mapValue):Re(61005,{value:i})}function th(i){switch(Xs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ed(i);return e?16+th(e):16;case 5:return 2*i.stringValue.length;case 6:return Ys(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+th(l)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return na(s.fields,((l,c)=>{o+=l.length+th(c)})),o})(i.mapValue);default:throw Re(13486,{value:i})}}function rS(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function dg(i){return!!i&&"integerValue"in i}function Sy(i){return!!i&&"arrayValue"in i}function sS(i){return!!i&&"nullValue"in i}function aS(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function nh(i){return!!i&&"mapValue"in i}function fk(i){return(i?.mapValue?.fields||{})[Jb]?.stringValue===Zb}function Pu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return na(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Pu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pu(i.arrayValue.values[t]);return e}return{...i}}function hk(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===ck}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!nh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(t)}setAll(e){let t=ln.emptyPath(),s={},o=[];e.forEach(((c,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}c?s[m.lastSegment()]=Pu(c):o.push(m.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());nh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){na(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new Pn(Pu(this.value))}}function eR(i){const e=[];return na(i.fields,((t,s)=>{const o=new ln([t]);if(nh(s)){const l=eR(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new Kn(e)}class yn{constructor(e,t,s,o,l,c,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(e){return new yn(e,0,Ce.min(),Ce.min(),Ce.min(),Pn.empty(),0)}static newFoundDocument(e,t,s,o){return new yn(e,1,t,Ce.min(),s,o,0)}static newNoDocument(e,t){return new yn(e,2,t,Ce.min(),Ce.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,Ce.min(),Ce.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ah{constructor(e,t){this.position=e,this.inclusive=t}}function oS(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],c=i.position[o];if(l.field.isKeyField()?s=Se.comparator(Se.fromName(c.referenceValue),t.key):s=al(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function lS(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!mr(i.position[t],e.position[t]))return!1;return!0}class bh{constructor(e,t="asc"){this.field=e,this.dir=t}}function dk(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class tR{}class Ht extends tR{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new pk(e,t,s):t==="array-contains"?new vk(e,s):t==="in"?new _k(e,s):t==="not-in"?new Ek(e,s):t==="array-contains-any"?new Tk(e,s):new Ht(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new gk(e,s):new yk(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(al(t,this.value)):t!==null&&Xs(this.value)===Xs(t)&&this.matchesComparison(al(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends tR{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Oi(e,t)}matches(e){return nR(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nR(i){return i.op==="and"}function iR(i){return mk(i)&&nR(i)}function mk(i){for(const e of i.filters)if(e instanceof Oi)return!1;return!0}function mg(i){if(i instanceof Ht)return i.field.canonicalString()+i.op.toString()+ol(i.value);if(iR(i))return i.filters.map((e=>mg(e))).join(",");{const e=i.filters.map((t=>mg(t))).join(",");return`${i.op}(${e})`}}function rR(i,e){return i instanceof Ht?(function(s,o){return o instanceof Ht&&s.op===o.op&&s.field.isEqual(o.field)&&mr(s.value,o.value)})(i,e):i instanceof Oi?(function(s,o){return o instanceof Oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,c,m)=>l&&rR(c,o.filters[m])),!0):!1})(i,e):void Re(19439)}function sR(i){return i instanceof Ht?(function(t){return`${t.field.canonicalString()} ${t.op} ${ol(t.value)}`})(i):i instanceof Oi?(function(t){return t.op.toString()+" {"+t.getFilters().map(sR).join(" ,")+"}"})(i):"Filter"}class pk extends Ht{constructor(e,t,s){super(e,t,s),this.key=Se.fromName(s.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class gk extends Ht{constructor(e,t){super(e,"in",t),this.keys=aR("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class yk extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=aR("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function aR(i,e){return(e.arrayValue?.values||[]).map((t=>Se.fromName(t.referenceValue)))}class vk extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sy(t)&&Qu(t.arrayValue,this.value)}}class _k extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Qu(this.value.arrayValue,t)}}class Ek extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Qu(this.value.arrayValue,t)}}class Tk extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Qu(this.value.arrayValue,s)))}}class Sk{constructor(e,t=null,s=[],o=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=m,this.Te=null}}function uS(i,e=null,t=[],s=[],o=null,l=null,c=null){return new Sk(i,e,t,s,o,l,c)}function wy(i){const e=De(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>mg(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>ol(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>ol(s))).join(",")),e.Te=t}return e.Te}function Ay(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!dk(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!rR(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!lS(i.startAt,e.startAt)&&lS(i.endAt,e.endAt)}function pg(i){return Se.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class oc{constructor(e,t=null,s=[],o=[],l=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wk(i,e,t,s,o,l,c,m){return new oc(i,e,t,s,o,l,c,m)}function td(i){return new oc(i)}function cS(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function oR(i){return i.collectionGroup!==null}function Lu(i){const e=De(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Qt(ln.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new bh(l,s))})),t.has(ln.keyField().canonicalString())||e.Ie.push(new bh(ln.keyField(),s))}return e.Ie}function lr(i){const e=De(i);return e.Ee||(e.Ee=Ak(e,Lu(i))),e.Ee}function Ak(i,e){if(i.limitType==="F")return uS(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new bh(o.field,l)}));const t=i.endAt?new Ah(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ah(i.startAt.position,i.startAt.inclusive):null;return uS(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function gg(i,e){const t=i.filters.concat([e]);return new oc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function yg(i,e,t){return new oc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function nd(i,e){return Ay(lr(i),lr(e))&&i.limitType===e.limitType}function lR(i){return`${wy(lr(i))}|lt:${i.limitType}`}function Ko(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>sR(o))).join(", ")}]`),Zh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>ol(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>ol(o))).join(",")),`Target(${s})`})(lr(i))}; limitType=${i.limitType})`}function id(i,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Se.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(i,e)&&(function(s,o){for(const l of Lu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(c,m,p){const g=oS(c,m,p);return c.inclusive?g<=0:g<0})(s.startAt,Lu(s),o)||s.endAt&&!(function(c,m,p){const g=oS(c,m,p);return c.inclusive?g>=0:g>0})(s.endAt,Lu(s),o))})(i,e)}function bk(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function uR(i){return(e,t)=>{let s=!1;for(const o of Lu(i)){const l=Rk(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function Rk(i,e,t){const s=i.field.isKeyField()?Se.comparator(e.key,t.key):(function(l,c,m){const p=c.data.field(l),g=m.data.field(l);return p!==null&&g!==null?al(p,g):Re(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Re(19790,{direction:i.dir})}}class Wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return $b(this.inner)}size(){return this.innerSize}}const Ck=new St(Se.comparator);function Zr(){return Ck}const cR=new St(Se.comparator);function Du(...i){let e=cR;for(const t of i)e=e.insert(t.key,t);return e}function fR(i){let e=cR;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ka(){return Uu()}function hR(){return Uu()}function Uu(){return new Wa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const Ik=new St(Se.comparator),xk=new Qt(Se.comparator);function Ge(...i){let e=xk;for(const t of i)e=e.add(t);return e}const Nk=new Qt(He);function Dk(){return Nk}function by(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function dR(i){return{integerValue:""+i}}function mR(i,e){return sk(e)?dR(e):by(i,e)}class rd{constructor(){this._=void 0}}function Ok(i,e,t){return i instanceof Rh?(function(o,l){const c={fields:{[Yb]:{stringValue:Qb},[Wb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Ty(l)&&(l=ed(l)),l&&(c.fields[Xb]=l),{mapValue:c}})(t,e):i instanceof ll?gR(i,e):i instanceof ul?yR(i,e):(function(o,l){const c=pR(o,l),m=fS(c)+fS(o.Ae);return dg(c)&&dg(o.Ae)?dR(m):by(o.serializer,m)})(i,e)}function Mk(i,e,t){return i instanceof ll?gR(i,e):i instanceof ul?yR(i,e):t}function pR(i,e){return i instanceof Yu?(function(s){return dg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Rh extends rd{}class ll extends rd{constructor(e){super(),this.elements=e}}function gR(i,e){const t=vR(e);for(const s of i.elements)t.some((o=>mr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class ul extends rd{constructor(e){super(),this.elements=e}}function yR(i,e){let t=vR(e);for(const s of i.elements)t=t.filter((o=>!mr(o,s)));return{arrayValue:{values:t}}}class Yu extends rd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function fS(i){return Dt(i.integerValue||i.doubleValue)}function vR(i){return Sy(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ry{constructor(e,t){this.field=e,this.transform=t}}function Vk(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof ll&&o instanceof ll||s instanceof ul&&o instanceof ul?sl(s.elements,o.elements,mr):s instanceof Yu&&o instanceof Yu?mr(s.Ae,o.Ae):s instanceof Rh&&o instanceof Rh})(i.transform,e.transform)}class kk{constructor(e,t){this.version=e,this.transformResults=t}}class xi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xi}static exists(e){return new xi(void 0,e)}static updateTime(e){return new xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class sd{}function _R(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new TR(i.key,xi.none()):new lc(i.key,i.data,xi.none());{const t=i.data,s=Pn.empty();let o=new Qt(ln.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new ia(i.key,s,new Kn(o.toArray()),xi.none())}}function Pk(i,e,t){i instanceof lc?(function(o,l,c){const m=o.value.clone(),p=dS(o.fieldTransforms,l,c.transformResults);m.setAll(p),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,t):i instanceof ia?(function(o,l,c){if(!ih(o.precondition,l))return void l.convertToUnknownDocument(c.version);const m=dS(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(ER(o)),p.setAll(m),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function ju(i,e,t,s){return i instanceof lc?(function(l,c,m,p){if(!ih(l.precondition,c))return m;const g=l.value.clone(),v=mS(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,t,s):i instanceof ia?(function(l,c,m,p){if(!ih(l.precondition,c))return m;const g=mS(l.fieldTransforms,p,c),v=c.data;return v.setAll(ER(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(i,e,t,s):(function(l,c,m){return ih(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,e,t)}function Lk(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=pR(s.transform,o||null);l!=null&&(t===null&&(t=Pn.empty()),t.set(s.field,l))}return t||null}function hS(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&sl(s,o,((l,c)=>Vk(l,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class lc extends sd{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ia extends sd{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ER(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function dS(i,e,t){const s=new Map;nt(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const l=i[o],c=l.transform,m=e.data.field(l.field);s.set(l.field,Mk(c,m,t[o]))}return s}function mS(i,e,t){const s=new Map;for(const o of i){const l=o.transform,c=t.data.field(o.field);s.set(o.field,Ok(l,c,e))}return s}class TR extends sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uk extends sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jk{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&Pk(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ju(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ju(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=hR();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=t.has(o.key)?null:m;const p=_R(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ce.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,((t,s)=>hS(t,s)))&&sl(this.baseMutations,e.baseMutations,((t,s)=>hS(t,s)))}}class Cy{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){nt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return Ik})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new Cy(e,t,s,o)}}class zk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Bk{constructor(e,t){this.count=e,this.unchangedNames=t}}var qt,Xe;function Fk(i){switch(i){case ie.OK:return Re(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Re(15467,{code:i})}}function SR(i){if(i===void 0)return Jr("GRPC error has no .code"),ie.UNKNOWN;switch(i){case qt.OK:return ie.OK;case qt.CANCELLED:return ie.CANCELLED;case qt.UNKNOWN:return ie.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ie.INTERNAL;case qt.UNAVAILABLE:return ie.UNAVAILABLE;case qt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case qt.NOT_FOUND:return ie.NOT_FOUND;case qt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case qt.ABORTED:return ie.ABORTED;case qt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case qt.DATA_LOSS:return ie.DATA_LOSS;default:return Re(39323,{code:i})}}(Xe=qt||(qt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function qk(){return new TextEncoder}const Hk=new Gs([4294967295,4294967295],0);function pS(i){const e=qk().encode(i),t=new kb;return t.update(e),new Uint8Array(t.digest())}function gS(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Gs([t,s],0),new Gs([o,l],0)]}class Iy{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ou(`Invalid padding: ${t}`);if(s<0)throw new Ou(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Gs.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Gs.fromNumber(s)));return o.compare(Hk)===1&&(o=new Gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=pS(e),[s,o]=gS(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);if(!this.we(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Iy(l,o,t);return s.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const t=pS(e),[s,o]=gS(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ad{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,uc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ad(Ce.min(),o,new St(He),Zr(),Ge())}}class uc{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new uc(s,t,Ge(),Ge(),Ge())}}class rh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class wR{constructor(e,t){this.targetId=e,this.Ce=t}}class AR{constructor(e,t,s=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class yS{constructor(){this.ve=0,this.Fe=vS(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),t=Ge(),s=Ge();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Re(38017,{changeType:l})}})),new uc(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=vS()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Gk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zr(),this.Je=$f(),this.He=$f(),this.Ye=new St(He)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(pg(l))if(s===0){const c=new Se(l.path);this.et(t,c,yn.newNoDocument(c,Ce.min()))}else nt(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let c,m;try{c=Ys(s).toUint8Array()}catch(p){if(p instanceof Kb)return rl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Iy(c,o,l)}catch(p){return rl(p instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const m=this.ot(c);if(m){if(l.current&&pg(m.target)){const p=new Se(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,yn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let s=Ge();this.He.forEach(((l,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new ad(e,t,this.Ye,this.je,s);return this.je=Zr(),this.Je=$f(),this.He=$f(),this.Ye=new St(He),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new yS,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Qt(He),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Qt(He),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yS),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function $f(){return new St(Se.comparator)}function vS(){return new St(Se.comparator)}const $k={asc:"ASCENDING",desc:"DESCENDING"},Kk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qk={and:"AND",or:"OR"};class Yk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vg(i,e){return i.useProto3Json||Zh(e)?e:{value:e}}function Ch(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bR(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Xk(i,e){return Ch(i,e.toTimestamp())}function ur(i){return nt(!!i,49232),Ce.fromTimestamp((function(t){const s=Qs(t);return new mt(s.seconds,s.nanos)})(i))}function xy(i,e){return _g(i,e).canonicalString()}function _g(i,e){const t=(function(o){return new dt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function RR(i){const e=dt.fromString(i);return nt(DR(e),10190,{key:e.toString()}),e}function Eg(i,e){return xy(i.databaseId,e.path)}function Bp(i,e){const t=RR(e);if(t.get(1)!==i.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Se(IR(t))}function CR(i,e){return xy(i.databaseId,e)}function Wk(i){const e=RR(i);return e.length===4?dt.emptyPath():IR(e)}function Tg(i){return new dt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function IR(i){return nt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function _S(i,e,t){return{name:Eg(i,e),fields:t.value.mapValue.fields}}function Jk(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Re(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(nt(v===void 0||typeof v=="string",58123),un.fromBase64String(v||"")):(nt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),un.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?ie.UNKNOWN:SR(g.code);return new me(v,g.message||"")})(c);t=new AR(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Bp(i,s.document.name),l=ur(s.document.updateTime),c=s.document.createTime?ur(s.document.createTime):Ce.min(),m=new Pn({mapValue:{fields:s.document.fields}}),p=yn.newFoundDocument(o,l,c,m),g=s.targetIds||[],v=s.removedTargetIds||[];t=new rh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Bp(i,s.document),l=s.readTime?ur(s.readTime):Ce.min(),c=yn.newNoDocument(o,l),m=s.removedTargetIds||[];t=new rh([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Bp(i,s.document),l=s.removedTargetIds||[];t=new rh([],l,o,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new Bk(o,l),m=s.targetId;t=new wR(m,c)}}return t}function Zk(i,e){let t;if(e instanceof lc)t={update:_S(i,e.key,e.value)};else if(e instanceof TR)t={delete:Eg(i,e.key)};else if(e instanceof ia)t={update:_S(i,e.key,e.data),updateMask:lP(e.fieldMask)};else{if(!(e instanceof Uk))return Re(16599,{Vt:e.type});t={verify:Eg(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const m=c.transform;if(m instanceof Rh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ll)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ul)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Yu)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Re(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:Xk(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)})(i,e.precondition)),t}function eP(i,e){return i&&i.length>0?(nt(e!==void 0,14353),i.map((t=>(function(o,l){let c=o.updateTime?ur(o.updateTime):ur(l);return c.isEqual(Ce.min())&&(c=ur(l)),new kk(c,o.transformResults||[])})(t,e)))):[]}function tP(i,e){return{documents:[CR(i,e.path)]}}function nP(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=CR(i,o);const l=(function(g){if(g.length!==0)return NR(Oi.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(A){return{field:Qo(A.field),direction:sP(A.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=vg(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function iP(i){let e=Wk(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){nt(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(E){const A=xR(E);return A instanceof Oi&&iR(A)?A.getFilters():[A]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((A=>(function(z){return new bh(Yo(z.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(A)))})(t.orderBy));let m=null;t.limit&&(m=(function(E){let A;return A=typeof E=="object"?E.value:E,Zh(A)?null:A})(t.limit));let p=null;t.startAt&&(p=(function(E){const A=!!E.before,O=E.values||[];return new Ah(O,A)})(t.startAt));let g=null;return t.endAt&&(g=(function(E){const A=!E.before,O=E.values||[];return new Ah(O,A)})(t.endAt)),wk(e,o,c,l,m,"F",p,g)}function rP(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function xR(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Yo(t.unaryFilter.field);return Ht.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Yo(t.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Yo(t.unaryFilter.field);return Ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Yo(t.unaryFilter.field);return Ht.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Ht.create(Yo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return Oi.create(t.compositeFilter.filters.map((s=>xR(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(t.compositeFilter.op))})(i):Re(30097,{filter:i})}function sP(i){return $k[i]}function aP(i){return Kk[i]}function oP(i){return Qk[i]}function Qo(i){return{fieldPath:i.canonicalString()}}function Yo(i){return ln.fromServerFormat(i.fieldPath)}function NR(i){return i instanceof Ht?(function(t){if(t.op==="=="){if(aS(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NAN"}};if(sS(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(aS(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NAN"}};if(sS(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(t.field),op:aP(t.op),value:t.value}}})(i):i instanceof Oi?(function(t){const s=t.getFilters().map((o=>NR(o)));return s.length===1?s[0]:{compositeFilter:{op:oP(t.op),filters:s}}})(i):Re(54877,{filter:i})}function lP(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function DR(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Fs{constructor(e,t,s,o,l=Ce.min(),c=Ce.min(),m=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uP{constructor(e){this.yt=e}}function cP(i){const e=iP({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?yg(e,e.limit,"L"):e}class fP{constructor(){this.Cn=new hP}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Ks.min())}updateCollectionGroup(e,t,s){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class hP{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Qt(dt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Qt(dt.comparator)).toArray()}}const ES={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OR=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(OR,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class cl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new cl(0)}static cr(){return new cl(-1)}}const TS="LruGarbageCollector",dP=1048576;function SS([i,e],[t,s]){const o=He(i,t);return o===0?He(e,s):o}class mP{constructor(e){this.Ir=e,this.buffer=new Qt(SS),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();SS(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pP{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(TS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Tl(t)?pe(TS,"Ignoring IndexedDB error during garbage collection: ",t):await El(t)}await this.Vr(3e5)}))}}class gP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Jh.ce);const s=new mP(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(ES)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ES):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,l,c,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,m=Date.now(),this.removeTargets(e,s,t)))).next((E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(g=Date.now(),$o()<=qe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function yP(i,e){return new gP(i,e)}class vP{constructor(){this.changes=new Wa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?se.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _P{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class EP{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&ju(s.mutation,o,Kn.empty(),mt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Ge()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Ge()){const o=ka();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let c=Du();return l.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=ka();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Ge())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,m)=>{t.set(c,m)}))}))}computeViews(e,t,s,o){let l=Zr();const c=Uu(),m=(function(){return Uu()})();return t.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof ia)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),ju(v.mutation,g,v.mutation.getFieldMask(),mt.now())):c.set(g.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>m.set(g,new _P(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=Uu();let o=new St(((c,m)=>c-m)),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||Kn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const E=(o.get(m.batchId)||Ge()).add(p);o=o.insert(m.batchId,E)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,E=hR();v.forEach((A=>{if(!l.has(A)){const O=_R(t.get(A),s.get(A));O!==null&&E.set(A,O),l=l.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return se.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(c){return Se.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):se.resolve(ka());let m=Gu,p=l;return c.next((g=>se.forEach(g,((v,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),l.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next((A=>{p=p.insert(v,A)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,Ge()))).next((v=>({batchId:m,changes:fR(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next((s=>{let o=Du();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let c=Du();return this.indexManager.getCollectionParents(e,l).next((m=>se.forEach(m,(p=>{const g=(function(E,A){return new oc(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((E,A)=>{c=c.insert(E,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((c=>{l.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,yn.newInvalidDocument(v)))}));let m=Du();return c.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&ju(v.mutation,g,Kn.empty(),mt.now()),id(t,g)&&(m=m.insert(p,g))})),m}))}}class TP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return se.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ur(o.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:cP(o.bundledQuery),readTime:ur(o.readTime)}})(t)),se.resolve()}}class SP{constructor(){this.overlays=new St(Se.comparator),this.qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ka();return se.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.St(e,t,l)})),se.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),se.resolve()}getOverlaysForCollection(e,t,s){const o=ka(),l=t.length+1,c=new Se(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return se.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new St(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=ka(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=ka(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return se.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new zk(t,s));let l=this.qr.get(t);l===void 0&&(l=Ge(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}class wP{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}class Ny{constructor(){this.Qr=new Qt(Jt.$r),this.Ur=new Qt(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Jt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Jt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new Se(new dt([])),s=new Jt(t,e),o=new Jt(t,e+1),l=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Se(new dt([])),s=new Jt(t,e),o=new Jt(t,e+1);let l=Ge();return this.Ur.forEachInRange([s,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Jt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Jt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Se.comparator(e.key,t.key)||He(e.Yr,t.Yr)}static Kr(e,t){return He(e.Yr,t.Yr)||Se.comparator(e.key,t.key)}}class AP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(Jt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new jk(l,t,s,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Jt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),l=o<0?0:o;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Ey:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Jt(t,0),o=new Jt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(c=>{const m=this.Xr(c.Yr);l.push(m)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Qt(He);return t.forEach((o=>{const l=new Jt(o,0),c=new Jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(m=>{s=s.add(m.Yr)}))})),se.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;Se.isDocumentKey(l)||(l=l.child(""));const c=new Jt(new Se(l),0);let m=new Qt(He);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),se.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){nt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return se.forEach(t.mutations,(o=>{const l=new Jt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Jt(t,0),o=this.Zr.firstAfterOrEqual(s);return se.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class bP{constructor(e){this.ri=e,this.docs=(function(){return new St(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return se.resolve(s?s.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let s=Zr();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():yn.newInvalidDocument(o))})),se.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Zr();const c=t.path,m=new Se(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||tk(ek(v),s)<=0||(o.has(v.key)||id(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Re(9500)}ii(e,t){return se.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new RP(this)}getSize(e){return se.resolve(this.size)}}class RP extends vP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),se.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class CP{constructor(e){this.persistence=e,this.si=new Wa((t=>wy(t)),Ay),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Ny,this.targetCount=0,this.ai=cl.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),se.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new cl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Pr(t),se.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),se.waitFor(l).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return se.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),se.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return se.resolve(s)}containsKey(e,t){return se.resolve(this._i.containsKey(t))}}class MR{constructor(e,t){this.ui={},this.overlays={},this.ci=new Jh(0),this.li=!1,this.li=!0,this.hi=new wP,this.referenceDelegate=e(this),this.Pi=new CP(this),this.indexManager=new fP,this.remoteDocumentCache=(function(o){return new bP(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new uP(t),this.Ii=new TP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new SP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new AP(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){pe("MemoryPersistence","Starting transaction:",e);const o=new IP(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return se.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class IP extends ik{constructor(e){super(),this.currentSequenceNumber=e}}class Dy{constructor(e){this.persistence=e,this.Ri=new Ny,this.Vi=null}static mi(e){return new Dy(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),se.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(s=>{const o=Se.fromPath(s);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ce.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ih{constructor(e,t){this.persistence=e,this.pi=new Wa((s=>ak(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=yP(this,t)}static mi(e,t){return new Ih(e,t)}Ei(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return se.forEach(this.pi,((s,o)=>this.br(e,s,o).next((l=>l?se.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((m=>{m||(s++,l.removeEntry(c,Ce.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=th(e.data.value)),t}br(e,t,s){return se.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return se.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Oy{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Ge(),o=Ge();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Oy(e,t.fromCache,s,o)}}class xP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class NP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return UD()?8:rk(vn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,o,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new xP;return this.Ss(e,t,c).next((m=>{if(l.result=m,this.Vs)return this.bs(e,t,c,m.size)}))})).next((()=>l.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?($o()<=qe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):($o()<=qe.DEBUG&&pe("QueryEngine","Query:",Ko(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?($o()<=qe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lr(t))):se.resolve())}ys(e,t){if(cS(t))return se.resolve(null);let s=lr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=yg(t,null,"F"),s=lr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Ge(...l);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(t,m);return this.Cs(t,g,c,p.readTime)?this.ys(e,yg(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,s,o){return cS(t)||o.isEqual(Ce.min())?se.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,s,o)?se.resolve(null):($o()<=qe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ko(t)),this.vs(e,c,t,Z4(o,Gu)).next((m=>m)))}))}Ds(e,t){let s=new Qt(uR(e));return t.forEach(((o,l)=>{id(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return $o()<=qe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Ko(t)),this.ps.getDocumentsMatchingQuery(e,t,Ks.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const My="LocalStore",DP=3e8;class OP{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new St(He),this.xs=new Wa((l=>wy(l)),Ay),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function MP(i,e,t,s){return new OP(i,e,t,s)}async function VR(i,e){const t=De(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],m=[];let p=Ge();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function VP(i,e){const t=De(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const E=g.batch,A=E.keys();let O=se.resolve();return A.forEach((z=>{O=O.next((()=>v.getEntry(p,z))).next((Q=>{const P=g.docVersions.get(z);nt(P!==null,48541),Q.version.compareTo(P)<0&&(E.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),v.addEntry(Q)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,E)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ge();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function kR(i){const e=De(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function kP(i,e){const t=De(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((v,E)=>{const A=o.get(E);if(!A)return;m.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,E))));let O=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?O=O.withResumeToken(un.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,s)),o=o.insert(E,O),(function(Q,P,$){return Q.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=DP?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(A,O,v)&&m.push(t.Pi.updateTargetData(l,O))}));let p=Zr(),g=Ge();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),m.push(PP(l,c,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(Ce.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));m.push(v)}return se.waitFor(m).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.Ms=o,l)))}function PP(i,e,t){let s=Ge(),o=Ge();return t.forEach((l=>s=s.add(l))),e.getEntries(i,s).next((l=>{let c=Zr();return t.forEach(((m,p)=>{const g=l.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):pe(My,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function LP(i,e){const t=De(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ey),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function UP(i,e){const t=De(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((l=>l?(o=l,se.resolve(o)):t.Pi.allocateTargetId(s).next((c=>(o=new Fs(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Sg(i,e,t){const s=De(i),o=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Tl(c))throw c;pe(My,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function wS(i,e,t){const s=De(i);let o=Ce.min(),l=Ge();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const E=De(p),A=E.xs.get(v);return A!==void 0?se.resolve(E.Ms.get(A)):E.Pi.getTargetData(g,v)})(s,c,lr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{l=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?o:Ce.min(),t?l:Ge()))).next((m=>(jP(s,bk(e),m),{documents:m,Qs:l})))))}function jP(i,e,t){let s=i.Os.get(e)||Ce.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),i.Os.set(e,s)}class AS{constructor(){this.activeTargetIds=Dk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zP{constructor(){this.Mo=new AS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new AS,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BP{Oo(e){}shutdown(){}}const bS="ConnectivityMonitor";class RS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(bS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(bS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Kf=null;function wg(){return Kf===null?Kf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kf++,"0x"+Kf.toString(16)}const Fp="RestConnection",FP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,l){const c=wg(),m=this.zo(e,t.toUriEncodedString());pe(Fp,`Sending RPC '${e}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:g}=new URL(m),v=gl(g);return this.Jo(e,m,p,s,v).then((E=>(pe(Fp,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw rl(Fp,`RPC '${e}' ${c} failed with error: `,E,"url: ",m,"request:",s),E}))}Ho(e,t,s,o,l,c){return this.Go(e,t,s,o,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_l})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const s=FP[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}class HP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const pn="WebChannelConnection";class GP extends qP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const c=wg();return new Promise(((m,p)=>{const g=new Pb;g.setWithCredentials(!0),g.listenOnce(Lb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case eh.NO_ERROR:const E=g.getResponseJson();pe(pn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),m(E);break;case eh.TIMEOUT:pe(pn,`RPC '${e}' ${c} timed out`),p(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const A=g.getStatus();if(pe(pn,`RPC '${e}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const z=O?.error;if(z&&z.status&&z.message){const Q=(function($){const Z=$.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(Z)>=0?Z:ie.UNKNOWN})(z.status);p(new me(Q,z.message))}else p(new me(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new me(ie.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pe(pn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);pe(pn,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",v,s,15)}))}T_(e,t,s){const o=wg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=zb(),m=jb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=l.join("");pe(pn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const E=c.createWebChannel(v,p);this.I_(E);let A=!1,O=!1;const z=new HP({Yo:P=>{O?pe(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(A||(pe(pn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),A=!0),pe(pn,`RPC '${e}' stream ${o} sending:`,P),E.send(P))},Zo:()=>E.close()}),Q=(P,$,Z)=>{P.listen($,(j=>{try{Z(j)}catch(W){setTimeout((()=>{throw W}),0)}}))};return Q(E,Nu.EventType.OPEN,(()=>{O||(pe(pn,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),Q(E,Nu.EventType.CLOSE,(()=>{O||(O=!0,pe(pn,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(E))})),Q(E,Nu.EventType.ERROR,(P=>{O||(O=!0,rl(pn,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),z.a_(new me(ie.UNAVAILABLE,"The operation could not be completed")))})),Q(E,Nu.EventType.MESSAGE,(P=>{if(!O){const $=P.data[0];nt(!!$,16349);const Z=$,j=Z?.error||Z[0]?.error;if(j){pe(pn,`RPC '${e}' stream ${o} received error:`,j);const W=j.status;let ue=(function(I){const N=qt[I];if(N!==void 0)return SR(N)})(W),le=j.message;ue===void 0&&(ue=ie.INTERNAL,le="Unknown error status: "+W+" with message "+j.message),O=!0,z.a_(new me(ue,le)),E.close()}else pe(pn,`RPC '${e}' stream ${o} received:`,$),z.u_($)}})),Q(m,Ub.STAT_EVENT,(P=>{P.stat===cg.PROXY?pe(pn,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===cg.NOPROXY&&pe(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function qp(){return typeof document<"u"?document:null}function od(i){return new Yk(i,!0)}class PR{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const CS="PersistentStream";class LR{constructor(e,t,s,o,l,c,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PR(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Jr(t.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new me(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(CS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(pe(CS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $P extends LR{constructor(e,t,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Jk(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ce.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?ur(c.readTime):Ce.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Tg(this.serializer),t.addTarget=(function(l,c){let m;const p=c.target;if(m=pg(p)?{documents:tP(l,p)}:{query:nP(l,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=bR(l,c.resumeToken);const g=vg(l,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ce.min())>0){m.readTime=Ch(l,c.snapshotVersion.toTimestamp());const g=vg(l,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=rP(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Tg(this.serializer),t.removeTarget=e,this.q_(t)}}class KP extends LR{constructor(e,t,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=eP(e.writeResults,e.commitTime),s=ur(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Tg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>Zk(this.serializer,s)))};this.q_(t)}}class QP{}class YP extends QP{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,_g(t,s),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ie.UNKNOWN,l.toString())}))}Ho(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,_g(t,s),o,c,m,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jr(t),this.aa=!1):pe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ha="RemoteStore";class WP{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ja(this)&&(pe(Ha,"Restarting streams for network reachability change."),await(async function(p){const g=De(p);g.Ea.add(4),await cc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await ld(g)})(this))}))})),this.Ra=new XP(s,o)}}async function ld(i){if(Ja(i))for(const e of i.da)await e(!0)}async function cc(i){for(const e of i.da)await e(!1)}function UR(i,e){const t=De(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ly(t)?Py(t):Sl(t).O_()&&ky(t,e))}function Vy(i,e){const t=De(i),s=Sl(t);t.Ia.delete(e),s.O_()&&jR(t,e),t.Ia.size===0&&(s.O_()?s.L_():Ja(t)&&t.Ra.set("Unknown"))}function ky(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sl(i).Y_(e)}function jR(i,e){i.Va.Ue(e),Sl(i).Z_(e)}function Py(i){i.Va=new Gk({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Sl(i).start(),i.Ra.ua()}function Ly(i){return Ja(i)&&!Sl(i).x_()&&i.Ia.size>0}function Ja(i){return De(i).Ea.size===0}function zR(i){i.Va=void 0}async function JP(i){i.Ra.set("Online")}async function ZP(i){i.Ia.forEach(((e,t)=>{ky(i,e)}))}async function eL(i,e){zR(i),Ly(i)?(i.Ra.ha(e),Py(i)):i.Ra.set("Unknown")}async function tL(i,e,t){if(i.Ra.set("Online"),e instanceof AR&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const m of l.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){pe(Ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await xh(i,s)}else if(e instanceof rh?i.Va.Ze(e):e instanceof wR?i.Va.st(e):i.Va.tt(e),!t.isEqual(Ce.min()))try{const s=await kR(i.localStore);t.compareTo(s)>=0&&await(function(l,c){const m=l.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(un.EMPTY_BYTE_STRING,v.snapshotVersion)),jR(l,p);const E=new Fs(v.target,p,g,v.sequenceNumber);ky(l,E)})),l.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){pe(Ha,"Failed to raise snapshot:",s),await xh(i,s)}}async function xh(i,e,t){if(!Tl(e))throw e;i.Ea.add(1),await cc(i),i.Ra.set("Offline"),t||(t=()=>kR(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{pe(Ha,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await ld(i)}))}function BR(i,e){return e().catch((t=>xh(i,t,e)))}async function ud(i){const e=De(i),t=Ws(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ey;for(;nL(e);)try{const o=await LP(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,iL(e,o)}catch(o){await xh(e,o)}FR(e)&&qR(e)}function nL(i){return Ja(i)&&i.Ta.length<10}function iL(i,e){i.Ta.push(e);const t=Ws(i);t.O_()&&t.X_&&t.ea(e.mutations)}function FR(i){return Ja(i)&&!Ws(i).x_()&&i.Ta.length>0}function qR(i){Ws(i).start()}async function rL(i){Ws(i).ra()}async function sL(i){const e=Ws(i);for(const t of i.Ta)e.ea(t.mutations)}async function aL(i,e,t){const s=i.Ta.shift(),o=Cy.from(s,e,t);await BR(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await ud(i)}async function oL(i,e){e&&Ws(i).X_&&await(async function(s,o){if((function(c){return Fk(c)&&c!==ie.ABORTED})(o.code)){const l=s.Ta.shift();Ws(s).B_(),await BR(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await ud(s)}})(i,e),FR(i)&&qR(i)}async function IS(i,e){const t=De(i);t.asyncQueue.verifyOperationInProgress(),pe(Ha,"RemoteStore received new credentials");const s=Ja(t);t.Ea.add(3),await cc(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ld(t)}async function lL(i,e){const t=De(i);e?(t.Ea.delete(2),await ld(t)):e||(t.Ea.add(2),await cc(t),t.Ra.set("Unknown"))}function Sl(i){return i.ma||(i.ma=(function(t,s,o){const l=De(t);return l.sa(),new $P(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:JP.bind(null,i),t_:ZP.bind(null,i),r_:eL.bind(null,i),H_:tL.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Ly(i)?Py(i):i.Ra.set("Unknown")):(await i.ma.stop(),zR(i))}))),i.ma}function Ws(i){return i.fa||(i.fa=(function(t,s,o){const l=De(t);return l.sa(),new KP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:rL.bind(null,i),r_:oL.bind(null,i),ta:sL.bind(null,i),na:aL.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await ud(i)):(await i.fa.stop(),i.Ta.length>0&&(pe(Ha,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Uy{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const c=Date.now()+s,m=new Uy(e,t,c,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jy(i,e){if(Jr("AsyncQueue",`${e}: ${i}`),Tl(i))return new me(ie.UNAVAILABLE,`${e}: ${i}`);throw i}class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Se.comparator(t.key,s.key):(t,s)=>Se.comparator(t.key,s.key),this.keyedMap=Du(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new nl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class xS{constructor(){this.ga=new St(Se.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class fl{constructor(e,t,s,o,l,c,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const c=[];return t.forEach((m=>{c.push({type:0,doc:m})})),new fl(e,t,nl.emptySet(t),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class uL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class cL{constructor(){this.queries=NS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=De(t),l=o.queries;o.queries=NS(),l.forEach(((c,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function NS(){return new Wa((i=>lR(i)),nd)}async function zy(i,e){const t=De(i);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new uL,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const m=jy(c,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Fy(t)}async function By(i,e){const t=De(i),s=e.query;let o=3;const l=t.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function fL(i,e){const t=De(i);let s=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const m of c.Sa)m.Fa(o)&&(s=!0);c.wa=o}}s&&Fy(t)}function hL(i,e,t){const s=De(i),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function Fy(i){i.Ca.forEach((e=>{e.next()}))}var Ag,DS;(DS=Ag||(Ag={})).Ma="default",DS.Cache="cache";class qy{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new fl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ag.Cache}}class HR{constructor(e){this.key=e}}class GR{constructor(e){this.key=e}}class dL{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=uR(e),this.tu=new nl(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new xS,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,E)=>{const A=o.get(v),O=id(this.query,E)?E:null,z=!!A&&this.mutatedKeys.has(A.key),Q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let P=!1;A&&O?A.data.isEqual(O.data)?z!==Q&&(s.track({type:3,doc:O}),P=!0):this.su(A,O)||(s.track({type:2,doc:O}),P=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!A&&O?(s.track({type:0,doc:O}),P=!0):A&&!O&&(s.track({type:1,doc:A}),P=!0,(p||g)&&(m=!0)),P&&(O?(c=c.add(O),l=Q?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:m,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,E)=>(function(O,z){const Q=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:P})}};return Q(O)-Q(z)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new fl(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new GR(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new HR(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ge();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hy="SyncEngine";class mL{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class pL{constructor(e){this.key=e,this.hu=!1}}class gL{constructor(e,t,s,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Wa((m=>lR(m)),nd),this.Iu=new Map,this.Eu=new Set,this.du=new St(Se.comparator),this.Au=new Map,this.Ru=new Ny,this.Vu={},this.mu=new Map,this.fu=cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yL(i,e,t=!0){const s=WR(i);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await $R(s,e,t,!0),o}async function vL(i,e){const t=WR(i);await $R(t,e,!0,!1)}async function $R(i,e,t,s){const o=await UP(i.localStore,lr(e)),l=o.targetId,c=i.sharedClientState.addLocalQueryTarget(l,t);let m;return s&&(m=await _L(i,e,l,c==="current",o.resumeToken)),i.isPrimaryClient&&t&&UR(i.remoteStore,o),m}async function _L(i,e,t,s,o){i.pu=(E,A,O)=>(async function(Q,P,$,Z){let j=P.view.ru($);j.Cs&&(j=await wS(Q.localStore,P.query,!1).then((({documents:x})=>P.view.ru(x,j))));const W=Z&&Z.targetChanges.get(P.targetId),ue=Z&&Z.targetMismatches.get(P.targetId)!=null,le=P.view.applyChanges(j,Q.isPrimaryClient,W,ue);return MS(Q,P.targetId,le.au),le.snapshot})(i,E,A,O);const l=await wS(i.localStore,e,!0),c=new dL(e,l.Qs),m=c.ru(l.documents),p=uc.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);MS(i,t,g.au);const v=new mL(e,t,c);return i.Tu.set(e,v),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function EL(i,e,t){const s=De(i),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((c=>!nd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Sg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Vy(s.remoteStore,o.targetId),bg(s,o.targetId)})).catch(El)):(bg(s,o.targetId),await Sg(s.localStore,o.targetId,!0))}async function TL(i,e){const t=De(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Vy(t.remoteStore,s.targetId))}async function SL(i,e,t){const s=xL(i);try{const o=await(function(c,m){const p=De(c),g=mt.now(),v=m.reduce(((O,z)=>O.add(z.key)),Ge());let E,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let z=Zr(),Q=Ge();return p.Ns.getEntries(O,v).next((P=>{z=P,z.forEach((($,Z)=>{Z.isValidDocument()||(Q=Q.add($))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,z))).next((P=>{E=P;const $=[];for(const Z of m){const j=Lk(Z,E.get(Z.key).overlayedDocument);j!=null&&$.push(new ia(Z.key,j,eR(j.value.mapValue),xi.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,$,m)})).next((P=>{A=P;const $=P.applyToLocalDocumentSet(E,Q);return p.documentOverlayCache.saveOverlays(O,P.batchId,$)}))})).then((()=>({batchId:A.batchId,changes:fR(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new St(He)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,t),await fc(s,o.changes),await ud(s.remoteStore)}catch(o){const l=jy(o,"Failed to persist write");t.reject(l)}}async function KR(i,e){const t=De(i);try{const s=await kP(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?nt(c.hu,14607):o.removedDocuments.size>0&&(nt(c.hu,42227),c.hu=!1))})),await fc(t,s,e)}catch(s){await El(s)}}function OS(i,e,t){const s=De(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((l,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=De(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,E)=>{for(const A of E.Sa)A.va(m)&&(g=!0)})),g&&Fy(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function wL(i,e,t){const s=De(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let c=new St(Se.comparator);c=c.insert(l,yn.newNoDocument(l,Ce.min()));const m=Ge().add(l),p=new ad(Ce.min(),new Map,new St(He),c,m);await KR(s,p),s.du=s.du.remove(l),s.Au.delete(e),Gy(s)}else await Sg(s.localStore,e,!1).then((()=>bg(s,e,t))).catch(El)}async function AL(i,e){const t=De(i),s=e.batch.batchId;try{const o=await VP(t.localStore,e);YR(t,s,null),QR(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await fc(t,o)}catch(o){await El(o)}}async function bL(i,e,t){const s=De(i);try{const o=await(function(c,m){const p=De(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((E=>(nt(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);YR(s,e,t),QR(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await fc(s,o)}catch(o){await El(o)}}function QR(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function YR(i,e,t){const s=De(i);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function bg(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||XR(i,s)}))}function XR(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Vy(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Gy(i))}function MS(i,e,t){for(const s of t)s instanceof HR?(i.Ru.addReference(s.key,e),RL(i,s)):s instanceof GR?(pe(Hy,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||XR(i,s.key)):Re(19791,{wu:s})}function RL(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(pe(Hy,"New document in limbo: "+t),i.Eu.add(s),Gy(i))}function Gy(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new Se(dt.fromString(e)),s=i.fu.next();i.Au.set(s,new pL(t)),i.du=i.du.insert(t,s),UR(i.remoteStore,new Fs(lr(td(t.path)),s,"TargetPurposeLimboResolution",Jh.ce))}}async function fc(i,e,t){const s=De(i),o=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{c.push(s.pu(p,e,t).then((g=>{if((g||t)&&s.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Oy.As(p.targetId,g);l.push(v)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const v=De(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>se.forEach(g,(A=>se.forEach(A.Es,(O=>v.persistence.referenceDelegate.addReference(E,A.targetId,O))).next((()=>se.forEach(A.ds,(O=>v.persistence.referenceDelegate.removeReference(E,A.targetId,O)))))))))}catch(E){if(!Tl(E))throw E;pe(My,"Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const O=v.Ms.get(A),z=O.snapshotVersion,Q=O.withLastLimboFreeSnapshotVersion(z);v.Ms=v.Ms.insert(A,Q)}}})(s.localStore,l))}async function CL(i,e){const t=De(i);if(!t.currentUser.isEqual(e)){pe(Hy,"User change. New user:",e.toKey());const s=await VR(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((m=>{m.forEach((p=>{p.reject(new me(ie.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fc(t,s.Ls)}}function IL(i,e){const t=De(i),s=t.Au.get(e);if(s&&s.hu)return Ge().add(s.key);{let o=Ge();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const m=t.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function WR(i){const e=De(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=KR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wL.bind(null,e),e.Pu.H_=fL.bind(null,e.eventManager),e.Pu.yu=hL.bind(null,e.eventManager),e}function xL(i){const e=De(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bL.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=od(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return MP(this.persistence,new NP,e.initialUser,this.serializer)}Cu(e){return new MR(Dy.mi,this.serializer)}Du(e){return new zP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class NL extends Nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){nt(this.persistence.referenceDelegate instanceof Ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new pP(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new MR((s=>Ih.mi(s,t)),this.serializer)}}class Rg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>OS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CL.bind(null,this.syncEngine),await lL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cL})()}createDatastore(e){const t=od(e.databaseInfo.databaseId),s=(function(l){return new GP(l)})(e.databaseInfo);return(function(l,c,m,p){return new YP(l,c,m,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,c,m){return new WP(s,o,l,c,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>OS(this.syncEngine,t,0)),(function(){return RS.v()?new RS:new BP})())}createSyncEngine(e,t){return(function(o,l,c,m,p,g,v){const E=new gL(o,l,c,m,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=De(t);pe(Ha,"RemoteStore shutting down."),s.Ea.add(5),await cc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rg.provider={build:()=>new Rg};class $y{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Js="FirestoreClient";class DL{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=_y.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{pe(Js,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(pe(Js,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=jy(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Hp(i,e){i.asyncQueue.verifyOperationInProgress(),pe(Js,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await VR(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function VS(i,e){i.asyncQueue.verifyOperationInProgress();const t=await OL(i);pe(Js,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>IS(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>IS(e.remoteStore,o))),i._onlineComponents=e}async function OL(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pe(Js,"Using user provided OfflineComponentProvider");try{await Hp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;rl("Error using user provided cache. Falling back to memory cache: "+t),await Hp(i,new Nh)}}else pe(Js,"Using default OfflineComponentProvider"),await Hp(i,new NL(void 0));return i._offlineComponents}async function JR(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pe(Js,"Using user provided OnlineComponentProvider"),await VS(i,i._uninitializedComponentsProvider._online)):(pe(Js,"Using default OnlineComponentProvider"),await VS(i,new Rg))),i._onlineComponents}function ML(i){return JR(i).then((e=>e.syncEngine))}async function Dh(i){const e=await JR(i),t=e.eventManager;return t.onListen=yL.bind(null,e.syncEngine),t.onUnlisten=EL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=vL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=TL.bind(null,e.syncEngine),t}function VL(i,e,t={}){const s=new Kr;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,m,p,g){const v=new $y({next:A=>{v.Nu(),c.enqueueAndForget((()=>By(l,E)));const O=A.docs.has(m);!O&&A.fromCache?g.reject(new me(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&p&&p.source==="server"?g.reject(new me(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new qy(td(m.path),v,{includeMetadataChanges:!0,qa:!0});return zy(l,E)})(await Dh(i),i.asyncQueue,e,t,s))),s.promise}function kL(i,e,t={}){const s=new Kr;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,m,p,g){const v=new $y({next:A=>{v.Nu(),c.enqueueAndForget((()=>By(l,E))),A.fromCache&&p.source==="server"?g.reject(new me(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new qy(m,v,{includeMetadataChanges:!0,qa:!0});return zy(l,E)})(await Dh(i),i.asyncQueue,e,t,s))),s.promise}function ZR(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const kS=new Map;const e1="firestore.googleapis.com",PS=!0;class LS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=e1,this.ssl=PS}else this.host=e.host,this.ssl=e.ssl??PS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dP)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZR(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cd{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new F4;switch(s.type){case"firstParty":return new $4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=kS.get(t);s&&(pe("ComponentProvider","Removing Datastore"),kS.delete(t),s.terminate())})(this),Promise.resolve()}}function PL(i,e,t,s={}){i=Yn(i,cd);const o=gl(e),l=i._getSettings(),c={...l,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(wA(`https://${m}`),AA("Firestore",!0)),l.host!==e1&&l.host!==m&&rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:m,ssl:o,emulatorOptions:s};if(!hr(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=gn.MOCK_USER;else{g=ND(s.mockUserToken,i._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new gn(E)}i._authCredentials=new q4(new Fb(g,v))}}class Za{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Za(this.firestore,e,this._query)}}class bt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(ac(t,bt._jsonSchema))return new bt(e,s||null,new Se(dt.fromString(t.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Gt("string",bt._jsonSchemaVersion),referencePath:Gt("string")};class $s extends Za{constructor(e,t,s){super(e,t,td(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new Se(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function sr(i,e,...t){if(i=Rt(i),qb("collection","path",e),i instanceof cd){const s=dt.fromString(e,...t);return X0(s),new $s(i,null,s)}{if(!(i instanceof bt||i instanceof $s))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(dt.fromString(e,...t));return X0(s),new $s(i.firestore,null,s)}}function Kt(i,e,...t){if(i=Rt(i),arguments.length===1&&(e=_y.newId()),qb("doc","path",e),i instanceof cd){const s=dt.fromString(e,...t);return Y0(s),new bt(i,null,new Se(s))}{if(!(i instanceof bt||i instanceof $s))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(dt.fromString(e,...t));return Y0(s),new bt(i.firestore,i instanceof $s?i.converter:null,new Se(s))}}const US="AsyncQueue";class jS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PR(this,"async_queue_retry"),this._c=()=>{const s=qp();s&&pe(US,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=qp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=qp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Tl(e))throw e;pe(US,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Jr("INTERNAL UNHANDLED ERROR: ",zS(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Uy.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:zS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function zS(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function BS(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1})(i,["next","error","complete"])}class Zs extends cd{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new jS,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jS(e),this._firestoreClient=void 0,await e}}}function LL(i,e){const t=typeof i=="object"?i:iy(),s=typeof i=="string"?i:Sh,o=Ya(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=ID("firestore");l&&PL(o,...l)}return o}function fd(i){if(i._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||UL(i),i._firestoreClient}function UL(i){const e=i._freezeSettings(),t=(function(o,l,c,m){return new uk(o,l,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,ZR(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new DL(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(i._componentsProvider))}class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(un.fromBase64String(e))}catch(t){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fi(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ac(e,fi._jsonSchema))return fi.fromBase64String(e.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:Gt("string",fi._jsonSchemaVersion),bytes:Gt("string")};class hd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wl{constructor(e){this._methodName=e}}class cr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cr._jsonSchemaVersion}}static fromJSON(e){if(ac(e,cr._jsonSchema))return new cr(e.latitude,e.longitude)}}cr._jsonSchemaVersion="firestore/geoPoint/1.0",cr._jsonSchema={type:Gt("string",cr._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class fr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ac(e,fr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new fr(e.vectorValues);throw new me(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fr._jsonSchemaVersion="firestore/vectorValue/1.0",fr._jsonSchema={type:Gt("string",fr._jsonSchemaVersion),vectorValues:Gt("object")};const jL=/^__.*__$/;class zL{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new lc(e,this.data,t,this.fieldTransforms)}}class t1{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ia(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function n1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:i})}}class dd{constructor(e,t,s,o,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(n1(this.Ac)&&jL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BL{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||od(e)}Cc(e,t,s,o=!1){return new dd({Ac:e,methodName:t,Dc:s,path:ln.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function md(i){const e=i._freezeSettings(),t=od(i._databaseId);return new BL(i._databaseId,!!e.ignoreUndefinedProperties,t)}function i1(i,e,t,s,o,l={}){const c=i.Cc(l.merge||l.mergeFields?2:0,e,t,o);Xy("Data must be an object, but it was:",c,s);const m=s1(s,c);let p,g;if(l.merge)p=new Kn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const A=Cg(e,E,t);if(!c.contains(A))throw new me(ie.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);o1(v,A)||v.push(A)}p=new Kn(v),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new zL(new Pn(m),p,g)}class pd extends wl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pd}}function r1(i,e,t){return new dd({Ac:3,Dc:e.settings.Dc,methodName:i._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ky extends wl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=r1(this,e,!0),s=this.vc.map((l=>eo(l,t))),o=new ll(s);return new Ry(e.path,o)}isEqual(e){return e instanceof Ky&&hr(this.vc,e.vc)}}class Qy extends wl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=r1(this,e,!0),s=this.vc.map((l=>eo(l,t))),o=new ul(s);return new Ry(e.path,o)}isEqual(e){return e instanceof Qy&&hr(this.vc,e.vc)}}class Yy extends wl{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Yu(e.serializer,mR(e.serializer,this.Fc));return new Ry(e.path,t)}isEqual(e){return e instanceof Yy&&this.Fc===e.Fc}}function FL(i,e,t,s){const o=i.Cc(1,e,t);Xy("Data must be an object, but it was:",o,s);const l=[],c=Pn.empty();na(s,((p,g)=>{const v=Wy(e,p,t);g=Rt(g);const E=o.yc(v);if(g instanceof pd)l.push(v);else{const A=eo(g,E);A!=null&&(l.push(v),c.set(v,A))}}));const m=new Kn(l);return new t1(c,m,o.fieldTransforms)}function qL(i,e,t,s,o,l){const c=i.Cc(1,e,t),m=[Cg(e,s,t)],p=[o];if(l.length%2!=0)throw new me(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)m.push(Cg(e,l[A])),p.push(l[A+1]);const g=[],v=Pn.empty();for(let A=m.length-1;A>=0;--A)if(!o1(g,m[A])){const O=m[A];let z=p[A];z=Rt(z);const Q=c.yc(O);if(z instanceof pd)g.push(O);else{const P=eo(z,Q);P!=null&&(g.push(O),v.set(O,P))}}const E=new Kn(g);return new t1(v,E,c.fieldTransforms)}function HL(i,e,t,s=!1){return eo(t,i.Cc(s?4:3,e))}function eo(i,e){if(a1(i=Rt(i)))return Xy("Unsupported field value:",e,i),s1(i,e);if(i instanceof wl)return(function(s,o){if(!n1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let c=0;for(const m of s){let p=eo(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(i,e)}return(function(s,o){if((s=Rt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return mR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=mt.fromDate(s);return{timestampValue:Ch(o.serializer,l)}}if(s instanceof mt){const l=new mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ch(o.serializer,l)}}if(s instanceof cr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof fi)return{bytesValue:bR(o.serializer,s._byteString)};if(s instanceof bt){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:xy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof fr)return(function(c,m){return{mapValue:{fields:{[Jb]:{stringValue:Zb},[wh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return by(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Wh(s)}`)})(i,e)}function s1(i,e){const t={};return $b(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(i,((s,o)=>{const l=eo(o,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function a1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof mt||i instanceof cr||i instanceof fi||i instanceof bt||i instanceof wl||i instanceof fr)}function Xy(i,e,t){if(!a1(t)||!Hb(t)){const s=Wh(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Cg(i,e,t){if((e=Rt(e))instanceof hd)return e._internalPath;if(typeof e=="string")return Wy(i,e);throw Oh("Field path arguments must be of type string or ",i,!1,void 0,t)}const GL=new RegExp("[~\\*/\\[\\]]");function Wy(i,e,t){if(e.search(GL)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new hd(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Oh(i,e,t,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new me(ie.INVALID_ARGUMENT,m+i+p)}function o1(i,e){return i.some((t=>t.isEqual(e)))}class l1{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $L(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Jy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $L extends l1{data(){return super.data()}}function Jy(i,e){return typeof e=="string"?Wy(i,e):e instanceof hd?e._internalPath:e._delegate._internalPath}function u1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new me(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zy{}class KL extends Zy{}function QL(i,e,...t){let s=[];e instanceof Zy&&s.push(e),s=s.concat(t),(function(l){const c=l.filter((p=>p instanceof ev)).length,m=l.filter((p=>p instanceof gd)).length;if(c>1||c>0&&m>0)throw new me(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class gd extends KL{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new gd(e,t,s)}_apply(e){const t=this._parse(e);return c1(e._query,t),new Za(e.firestore,e.converter,gg(e._query,t))}_parse(e){const t=md(e.firestore);return(function(l,c,m,p,g,v,E){let A;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new me(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){qS(E,v);const z=[];for(const Q of E)z.push(FS(p,l,Q));A={arrayValue:{values:z}}}else A=FS(p,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||qS(E,v),A=HL(m,c,E,v==="in"||v==="not-in");return Ht.create(g,v,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function YL(i,e,t){const s=e,o=Jy("where",i);return gd._create(o,s,t)}class ev extends Zy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ev(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Oi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let c=o;const m=l.getFlattenedFilters();for(const p of m)c1(c,p),c=gg(c,p)})(e._query,t),new Za(e.firestore,e.converter,gg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function FS(i,e,t){if(typeof(t=Rt(t))=="string"){if(t==="")throw new me(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oR(e)&&t.indexOf("/")!==-1)throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(dt.fromString(t));if(!Se.isDocumentKey(s))throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return rS(i,new Se(s))}if(t instanceof bt)return rS(i,t._key);throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(t)}.`)}function qS(i,e){if(!Array.isArray(i)||i.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function c1(i,e){const t=(function(o,l){for(const c of o)for(const m of c.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class XL{convertValue(e,t="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return na(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[wh].arrayValue?.values?.map((s=>Dt(s.doubleValue)));return new fr(t)}convertGeoPoint(e){return new cr(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ed(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const t=Qs(e);return new mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=dt.fromString(e);nt(DR(s),9688,{name:e});const o=new Ku(s.get(1),s.get(3)),l=new Se(s.popFirst(5));return o.isEqual(t)||Jr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function f1(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class Mu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pa extends l1{constructor(e,t,s,o,l,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Jy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Pa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pa._jsonSchema={type:Gt("string",Pa._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class sh extends Pa{data(e={}){return super.data(e)}}class La{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Mu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new sh(this._firestore,this._userDataWriter,s.key,s,new Mu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Mu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Mu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:WL(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=La._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_y.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WL(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:i})}}function hc(i){i=Yn(i,bt);const e=Yn(i.firestore,Zs);return VL(fd(e),i._key).then((t=>h1(e,i,t)))}La._jsonSchemaVersion="firestore/querySnapshot/1.0",La._jsonSchema={type:Gt("string",La._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class tv extends XL{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,t)}}function Ua(i){i=Yn(i,Za);const e=Yn(i.firestore,Zs),t=fd(e),s=new tv(e);return u1(i._query),kL(t,i._query).then((o=>new La(e,s,i,o)))}function nv(i,e,t){i=Yn(i,bt);const s=Yn(i.firestore,Zs),o=f1(i.converter,e,t);return iv(s,[i1(md(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,xi.none())])}function hi(i,e,t,...s){i=Yn(i,bt);const o=Yn(i.firestore,Zs),l=md(o);let c;return c=typeof(e=Rt(e))=="string"||e instanceof hd?qL(l,"updateDoc",i._key,e,t,s):FL(l,"updateDoc",i._key,e),iv(o,[c.toMutation(i._key,xi.exists(!0))])}function HS(i,e){const t=Yn(i.firestore,Zs),s=Kt(i),o=f1(i.converter,e);return iv(t,[i1(md(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,xi.exists(!1))]).then((()=>s))}function GS(i,...e){i=Rt(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||BS(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(BS(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let l,c,m;if(i instanceof bt)c=Yn(i.firestore,Zs),m=td(i._key.path),l={next:p=>{e[s]&&e[s](h1(c,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Yn(i,Za);c=Yn(p.firestore,Zs),m=p._query;const g=new tv(c);l={next:v=>{e[s]&&e[s](new La(c,g,p,v))},error:e[s+1],complete:e[s+2]},u1(i._query)}return(function(g,v,E,A){const O=new $y(A),z=new qy(v,O,E);return g.asyncQueue.enqueueAndForget((async()=>zy(await Dh(g),z))),()=>{O.Nu(),g.asyncQueue.enqueueAndForget((async()=>By(await Dh(g),z)))}})(fd(c),m,o,l)}function iv(i,e){return(function(s,o){const l=new Kr;return s.asyncQueue.enqueueAndForget((async()=>SL(await ML(s),o,l))),l.promise})(fd(i),e)}function h1(i,e,t){const s=t.docs.get(e._key),o=new tv(i);return new Pa(i,o,e._key,s,new Mu(t.hasPendingWrites,t.fromCache),e.converter)}function Ig(...i){return new Ky("arrayUnion",i)}function xg(...i){return new Qy("arrayRemove",i)}function $S(i){return new Yy("increment",i)}(function(e,t=!0){(function(o){_l=o})(yl),dr(new Ni("firestore",((s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),m=new Zs(new H4(s.getProvider("auth-internal")),new K4(c,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(g.options.projectId,v)})(c,o),c);return l={useFetchStreams:t,...l},m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),di(G0,$0,e),di(G0,$0,"esm2020")})();const JL={apiKey:"AIzaSyCQcU2hUXYWN4-1coeG0IDGWpv6pQsujF0",authDomain:"tastebuds-5b247.firebaseapp.com",projectId:"tastebuds-5b247",storageBucket:"tastebuds-5b247.firebasestorage.app",messagingSenderId:"787948159204",appId:"1:787948159204:web:f96b158aaebca824666cf1",measurementId:"G-DJG67FMCV0"},rv=DA(JL);L4(rv);const Et=yV(rv),ct=LL(rv);function ZL(){const i=Ka(),[e,t]=w.useState(""),[s,o]=w.useState(""),l=async c=>{c.preventDefault();try{await nM(Et,e,s),i("/mainfeed")}catch(m){alert("Login failed: "+m.message)}};return S.jsxs(ke,{onSubmit:l,children:[S.jsx("h3",{children:"Log In"}),S.jsxs(ke.Group,{style:{marginBottom:15},children:[S.jsx(ke.Label,{children:"Email"}),S.jsx(ke.Control,{value:e,onChange:c=>t(c.target.value)})]}),S.jsxs(ke.Group,{style:{marginBottom:15},children:[S.jsx(ke.Label,{children:"Password"}),S.jsx(ke.Control,{type:"password",value:s,onChange:c=>o(c.target.value)})]}),S.jsx(kn,{type:"submit",children:"Log In"})]})}function e3(){const i=Ka(),e=["spiciness","savory","sweetness"],[t,s]=w.useState(""),[o,l]=w.useState(""),[c,m]=w.useState({spiciness:5,savory:5,sweetness:5}),p=(v,E)=>m(A=>({...A,[v]:+E})),g=async v=>{if(v.preventDefault(),!t||!o)return alert("Enter email and password");try{const A=(await tM(Et,t,o)).user;await nv(Kt(ct,"users",A.uid),{email:t,flavorProfile:c,followers:[],following:[]}),i("/mainfeed")}catch(E){alert(E.message)}};return S.jsxs(ke,{onSubmit:g,children:[S.jsx("h3",{children:"Flavor Profile"}),e.map(v=>S.jsxs("div",{style:{marginBottom:20},children:[S.jsxs(ke.Label,{children:[v,": ",c[v]]}),S.jsx(ke.Range,{min:1,max:5,value:c[v],onChange:E=>p(v,E.target.value)})]},v)),S.jsx("h3",{children:"Create Account"}),S.jsxs(ke.Group,{style:{marginBottom:15},children:[S.jsx(ke.Label,{children:"Email"}),S.jsx(ke.Control,{value:t,onChange:v=>s(v.target.value)})]}),S.jsxs(ke.Group,{style:{marginBottom:15},children:[S.jsx(ke.Label,{children:"Password"}),S.jsx(ke.Control,{type:"password",value:o,onChange:v=>l(v.target.value)})]}),S.jsx(kn,{type:"submit",children:"Save Profile & Create Account"})]})}function t3({restaurant:i,onClick:e}){return S.jsxs(on,{style:{width:"50rem",margin:"10px",cursor:"pointer"},onClick:()=>e(i),children:[S.jsx(on.Img,{variant:"top",src:i.image}),S.jsxs(on.Body,{children:[S.jsx(on.Title,{children:i.name}),S.jsx(on.Text,{children:i.location}),S.jsx(kn,{onClick:t=>{t.stopPropagation(),e(i)},children:"See Reviews"})]})]})}const d1=w.createContext();function n3({children:i}){const[e,t]=w.useState(null),[s,o]=w.useState(null),[l,c]=w.useState(!0);return w.useEffect(()=>{const m=sM(Et,async p=>{if(t(p),p){const g=Kt(ct,"users",p.uid),v=await hc(g);if(v.exists())o(v.data());else{const E={username:p.displayName||p.email.split("@")[0],flavorProfile:{spiciness:5,savory:5,sweetness:5},followers:[],following:[],createdAt:new Date().toISOString()};await nv(g,E),o(E)}}else o(null);c(!1)});return()=>m()},[]),S.jsx(d1.Provider,{value:{firebaseUser:e,profile:s,setProfile:o,loading:l},children:i})}const m1=()=>w.useContext(d1);function i3({review:i}){const{firebaseUser:e}=m1(),[t,s]=w.useState(!1),[o,l]=w.useState(!1),[c,m]=w.useState(0);w.useEffect(()=>{if(!e)return;const g=i.likes?.includes(e.uid)||!1;l(g),m(i.likes?.length||0)},[e,i.likes]);const p=async()=>{if(!e){alert("Log in to like reviews.");return}if(!i.restaurantId){console.error("Review missing restaurantId:",i),alert("Error: Cannot like this review (missing restaurant info)");return}s(!0);try{const g=Kt(ct,"restaurants",i.restaurantId,"reviews",i.id),v=Kt(ct,"users",i.userId);if(o)await hi(g,{likes:xg(e.uid)}),await hi(v,{totalLikes:$S(-1)}),l(!1),m(E=>Math.max(0,E-1));else{const E=i.likes?{likes:Ig(e.uid)}:{likes:[e.uid]};await hi(g,E),await hi(v,{totalLikes:$S(1)}),l(!0),m(A=>A+1)}console.log("Like operation successful")}catch(g){console.error("Error liking review:",g),alert("Could not like review: "+g.message)}finally{s(!1)}};return S.jsxs("button",{onClick:p,disabled:t,"aria-label":o?`Unlike review (${c} likes)`:`Like review (${c} likes)`,style:{backgroundColor:"transparent",border:"none",cursor:t?"not-allowed":"pointer",fontSize:"16px",padding:"4px 8px",display:"inline-flex",alignItems:"center",gap:"5px",color:o?"#dc3545":"#666"},children:[S.jsx("span",{style:{fontSize:"20px"},"aria-hidden":"true",children:o?"":""}),S.jsx("span",{children:c})]})}function r3({review:i}){const{firebaseUser:e}=m1(),t=Ka(),[s,o]=w.useState(!1),[l,c]=w.useState(!1);w.useEffect(()=>{async function E(){if(!e)return;const A=Kt(ct,"users",e.uid),O=await hc(A).catch(()=>null);if(!O||!O.exists())return;const z=O.data();c(z?.following?.includes(i.userId))}E()},[e,i.userId]);const m=async()=>{if(!e)return alert("Log in to add Buds.");if(e.uid===i.userId)return alert("Can't add yourself.");o(!0);try{const E=Kt(ct,"users",e.uid),A=Kt(ct,"users",i.userId);await hi(E,{following:Ig(i.userId)}),await hi(A,{followers:Ig(e.uid)}),c(!0)}catch(E){console.error(E),alert("Could not add bud")}finally{o(!1)}},p=async()=>{if(!e)return alert("Log in to unfollow.");o(!0);try{const E=Kt(ct,"users",e.uid),A=Kt(ct,"users",i.userId);await hi(E,{following:xg(i.userId)}),await hi(A,{followers:xg(e.uid)}),c(!1)}catch(E){console.error(E),alert("Could not unfollow")}finally{o(!1)}},g=()=>{const E=[];for(let A=1;A<=5;A++)E.push(S.jsx("span",{style:{color:A<=i.rating?"#ffc107":"#e4e5e9"},"aria-hidden":"true",children:""},A));return S.jsx("div",{"aria-label":`Rating: ${i.rating} out of 5 stars`,children:E})},v=e?.uid===i.userId;return S.jsx(on,{style:{marginBottom:"10px"},children:S.jsx(on.Body,{children:S.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[S.jsxs("div",{style:{flex:1},children:[S.jsx(on.Title,{as:"button",type:"button",style:{fontSize:"1rem",cursor:"pointer",color:"#0d6efd",textDecoration:"none",background:"none",border:"none",padding:0,textAlign:"left",fontWeight:"500"},onClick:()=>t(`/bud-profile/${i.userId}`),onMouseEnter:E=>E.target.style.textDecoration="underline",onMouseLeave:E=>E.target.style.textDecoration="none","aria-label":`View ${i.userName}'s profile`,children:i.userName}),S.jsx("div",{style:{marginBottom:"5px"},children:g()}),S.jsx(on.Text,{children:i.text}),S.jsx("div",{style:{fontSize:".8rem",color:"#666",marginBottom:"8px"},children:i.timestamp?new Date(i.timestamp.seconds?i.timestamp.seconds*1e3:i.timestamp).toLocaleString():""}),S.jsx(i3,{review:i})]}),S.jsx("div",{children:!v&&S.jsx(kn,{size:"sm",variant:l?"danger":"outline-primary",onClick:l?p:m,disabled:s,children:s?"...":l?"Unfollow":"Add Bud"})})]})})})}function s3({city:i}){const[e,t]=w.useState([]),[s,o]=w.useState(null),[l,c]=w.useState(!1),[m,p]=w.useState({name:"",location:"",image:""}),[g,v]=w.useState(""),[E,A]=w.useState(5),[O,z]=w.useState(!1),[Q,P]=w.useState(null),[$,Z]=w.useState("similarity"),[j,W]=w.useState({});w.useEffect(()=>{(async()=>{if(!Et.currentUser)return;const C=await hc(Kt(ct,"users",Et.currentUser.uid));C.exists()&&P(C.data())})()},[]),w.useEffect(()=>{i&&(async()=>{try{const C=await Ua(sr(ct,"users")),he={};C.docs.forEach(ce=>{he[ce.id]=ce.data()}),W(he);const de=QL(sr(ct,"restaurants"),YL("city","==",i)),G=await Ua(de),oe=await Promise.all(G.docs.map(async ce=>{const xe=(await Ua(sr(ct,"restaurants",ce.id,"reviews"))).docs.map(V=>({id:V.id,restaurantId:ce.id,...V.data()}));return{id:ce.id,...ce.data(),reviews:xe}}));t(oe)}catch(C){console.error("Error fetching restaurants:",C)}})()},[i]);const ue=()=>{o(null),v(""),A(5)},le=()=>c(!1),x=async()=>{if(!m.name||!m.location){alert("Please fill in name and location");return}const C={id:(await HS(sr(ct,"restaurants"),{...m,city:i})).id,...m,city:i,reviews:[]};t([...e,C]),p({name:"",location:"",image:""}),c(!1),o(C)},I=async()=>{if(!Et.currentUser){alert("Please log in to add a review.");return}if(!g.trim()){alert("Please enter a review.");return}z(!0);try{const D={userId:Et.currentUser.uid,userName:Et.currentUser.displayName||Et.currentUser.email,text:g.trim(),rating:Number(E),timestamp:mt.now(),likes:[]};console.log("Submitting review:",D);const C=sr(ct,"restaurants",s.id,"reviews"),de={id:(await HS(C,D)).id,restaurantId:s.id,...D};t(G=>G.map(oe=>oe.id===s.id?{...oe,reviews:[...oe.reviews||[],de]}:oe)),o(G=>({...G,reviews:[...G.reviews||[],de]})),v(""),A(5),alert("Review added successfully!")}catch(D){console.error("Error adding review:",D),alert("Error adding review: "+D.message)}finally{z(!1)}},N=(D,C)=>{if(!D||!C)return 0;let he=0,de=0;const G=["savory","spiciness","sweetness"];let oe=0;G.forEach(V=>{const J=D.flavorProfile?.[V]||0,ae=C.flavorProfile?.[V]||0;oe+=Math.abs(J-ae)});const ce=(15-oe)/15*30;he+=ce,de+=30;const xe=(5-Math.abs((D.priceRange||3)-(C.priceRange||3)))/5*20;if(he+=xe,de+=20,D.flavorProfile&&C.flavorProfile){const V=["bitter","sour","umami","rich","mild"],J=V.some(re=>D.flavorProfile[re]!==void 0),ae=V.some(re=>C.flavorProfile[re]!==void 0);if(J&&ae){let re=0,ye=0;if(V.forEach(Ee=>{D.flavorProfile[Ee]&&C.flavorProfile[Ee]&&(re+=Math.abs(D.flavorProfile[Ee]-C.flavorProfile[Ee]),ye++)}),ye>0){const Ee=(ye*5-re)/(ye*5)*15;he+=Ee,de+=15}}}if(D.textureProfile&&C.textureProfile){const V=["crunchy","creamy","chewy","soft","crispy"];let J=0,ae=0;if(V.forEach(re=>{D.textureProfile[re]&&C.textureProfile[re]&&(J+=Math.abs(D.textureProfile[re]-C.textureProfile[re]),ae++)}),ae>0){const re=(ae*5-J)/(ae*5)*10;he+=re,de+=10}}if(D.cuisinePreferences?.length>0&&C.cuisinePreferences?.length>0){const V=D.cuisinePreferences.filter(re=>C.cuisinePreferences.includes(re)).length,J=new Set([...D.cuisinePreferences,...C.cuisinePreferences]).size,ae=V/J*15;he+=ae,de+=15}if(D.environmentPreferences&&C.environmentPreferences){const V=["casual","formal","outdoor","cozy","lively","quiet"];let J=0,ae=0;if(V.forEach(re=>{D.environmentPreferences[re]&&C.environmentPreferences[re]&&(J+=Math.abs(D.environmentPreferences[re]-C.environmentPreferences[re]),ae++)}),ae>0){const re=(ae*5-J)/(ae*5)*10;he+=re,de+=10}}return de>0?he/de*100:0},k=s?(D=>{if(!D||D.length===0)return[];const C=D.map(he=>{const de=j[he.userId],G=N(Q,de);return{...he,similarity:G}});return C.length>0&&console.log("Sample review with data:",C[0]),$==="similarity"?C.sort((he,de)=>de.similarity-he.similarity):$==="highest"?C.sort((he,de)=>de.rating-he.rating):$==="lowest"?C.sort((he,de)=>he.rating-de.rating):C})(s.reviews.map(D=>({...D,restaurantId:s.id}))):[];return S.jsxs("div",{children:[S.jsx("div",{style:{marginBottom:"20px",textAlign:"center"},children:S.jsx(kn,{onClick:()=>c(!0),children:"Add New Restaurant"})}),S.jsx(Fr,{children:S.jsx(Wg,{children:e.length===0?S.jsx(Zp,{children:S.jsxs("p",{style:{textAlign:"center",color:"#666",fontSize:"18px",marginTop:"40px"},children:["No restaurants in ",i," yet. Be the first to add one!"]})}):e.map(D=>S.jsx(Zp,{md:4,className:"mb-3",children:S.jsx(t3,{restaurant:D,onClick:o})},D.id))})}),S.jsx(nr,{show:s!==null,onHide:ue,size:"fullscreen",centered:!0,children:s&&S.jsxs(S.Fragment,{children:[S.jsx(nr.Header,{closeButton:!0,children:S.jsx(nr.Title,{children:s.name})}),S.jsxs(nr.Body,{children:[S.jsx("p",{children:s.location}),S.jsx("img",{src:s.image||"https://via.placeholder.com/150",alt:`${s.name} restaurant exterior`,style:{width:"100%",maxHeight:"400px",objectFit:"cover",marginBottom:"20px"}}),S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[S.jsxs("h3",{children:["Reviews (",k.length,")"]}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[S.jsx(ke.Label,{htmlFor:"sort-select",style:{fontWeight:"bold",marginBottom:0},children:"Sort by:"}),S.jsxs(ke.Select,{id:"sort-select",value:$,onChange:D=>Z(D.target.value),style:{padding:"8px 12px",fontSize:"14px",borderRadius:"5px",border:"1px solid #ccc",cursor:"pointer",width:"8rem"},children:[S.jsx("option",{value:"similarity",children:"Similar to Me"}),S.jsx("option",{value:"highest",children:"Highest Rated"}),S.jsx("option",{value:"lowest",children:"Lowest Rated"})]})]})]}),k.length>0?k.map(D=>S.jsxs("div",{style:{marginBottom:"10px"},children:[S.jsx(r3,{review:D}),$==="similarity"&&D.similarity>0&&S.jsxs("div",{style:{fontSize:"12px",color:"#1976d2",backgroundColor:"#e3f2fd",padding:"4px 8px",borderRadius:"3px",display:"inline-block",marginTop:"-5px",marginLeft:"15px",marginBottom:"5px"},children:[D.similarity.toFixed(0),"% taste match"]})]},D.id)):S.jsx("p",{children:"No reviews yet. Be the first to review!"}),S.jsx("hr",{}),S.jsx("h4",{children:"Add Your Review"}),S.jsxs("div",{style:{marginBottom:"15px"},children:[S.jsxs(ke.Label,{id:"rating-label",style:{display:"block",fontWeight:"bold",marginBottom:"8px"},children:["Rating: ",E," "]}),S.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},role:"group","aria-labelledby":"rating-label",children:[1,2,3,4,5].map(D=>S.jsxs("button",{type:"button",onClick:()=>A(D),"aria-label":`Rate ${D} star${D>1?"s":""}`,style:{padding:"10px 20px",fontSize:"18px",backgroundColor:E===D?"#0d6efd":"#fff",color:E===D?"#fff":"#000",border:"2px solid #0d6efd",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},children:[D," "]},D))})]}),S.jsxs(ke,{style:{marginTop:"20px"},children:[S.jsxs(ke.Group,{children:[S.jsx(ke.Label,{style:{fontWeight:"bold"},children:"Your Review:"}),S.jsx(ke.Control,{as:"textarea",rows:4,value:g,onChange:D=>v(D.target.value),placeholder:"Write your review..."})]}),S.jsx(kn,{style:{marginTop:"10px"},onClick:I,disabled:O,children:O?"Submitting...":"Submit Review"})]})]}),S.jsx(nr.Footer,{children:S.jsx(kn,{variant:"secondary",onClick:ue,children:"Close"})})]})}),S.jsxs(nr,{show:l,onHide:le,centered:!0,children:[S.jsx(nr.Header,{closeButton:!0,children:S.jsxs(nr.Title,{children:["Add New Restaurant to ",i]})}),S.jsx(nr.Body,{children:S.jsxs(ke,{children:[S.jsxs(ke.Group,{style:{marginBottom:"15px"},children:[S.jsx(ke.Label,{children:"Name"}),S.jsx(ke.Control,{value:m.name,onChange:D=>p({...m,name:D.target.value})})]}),S.jsxs(ke.Group,{style:{marginBottom:"15px"},children:[S.jsx(ke.Label,{children:"Location"}),S.jsx(ke.Control,{value:m.location,onChange:D=>p({...m,location:D.target.value})})]}),S.jsxs(ke.Group,{style:{marginBottom:"15px"},children:[S.jsx(ke.Label,{children:"Image URL (optional)"}),S.jsx(ke.Control,{value:m.image,onChange:D=>p({...m,image:D.target.value})})]})]})}),S.jsxs(nr.Footer,{children:[S.jsx(kn,{variant:"secondary",onClick:le,children:"Cancel"}),S.jsx(kn,{variant:"primary",onClick:x,children:"Add Restaurant"})]})]})]})}function a3(){const[i,e]=w.useState("Madison"),t=["Madison","Milwaukee","Chicago"];return S.jsxs("div",{children:[S.jsx(Bs,{expand:"lg",fixed:"top",className:"bg-body-tertiary",children:S.jsxs(Fr,{fluid:!0,children:[S.jsx(Bs.Brand,{as:rr,to:"/mainfeed",children:"TasteBuds"}),S.jsx(Bs.Toggle,{"aria-controls":"basic-navbar-nav"}),S.jsx(Bs.Collapse,{id:"basic-navbar-nav",children:S.jsxs(Ps,{className:"me-auto",children:[S.jsx(Ps.Link,{as:rr,to:"/mainfeed",children:"Main Feed"}),S.jsx(Ps.Link,{as:rr,to:"/buds",children:"Buds"}),S.jsx(Ps.Link,{as:rr,to:"/profile",children:"Profile"}),S.jsx(Ps.Link,{as:rr,to:"/logout",children:"Logout"})]})})]})}),S.jsx("div",{style:{marginTop:"80px",marginBottom:"20px",textAlign:"center"},children:S.jsxs(ke.Group,{style:{display:"inline-flex",alignItems:"center",gap:"10px"},children:[S.jsx(ke.Label,{style:{fontWeight:"bold",fontSize:"18px",margin:0},children:"Select City:"}),S.jsx(ke.Select,{value:i,onChange:s=>e(s.target.value),style:{width:"200px"},children:t.map(s=>S.jsx("option",{value:s,children:s},s))})]})}),S.jsx(s3,{city:i})]})}function o3(){const[i,e]=w.useState(null),[t,s]=w.useState(!0),[o,l]=w.useState(!1),[c,m]=w.useState(3),[p,g]=w.useState(3),[v,E]=w.useState(3),[A,O]=w.useState(3),[z,Q]=w.useState(3),[P,$]=w.useState(3),[Z,j]=w.useState(3),[W,ue]=w.useState(3),[le,x]=w.useState(3),[I,N]=w.useState(3),[L,k]=w.useState(3),[D,C]=w.useState(3),[he,de]=w.useState(3),[G,oe]=w.useState(3),[ce,Ie]=w.useState(3),[xe,V]=w.useState(3),[J,ae]=w.useState(3),[re,ye]=w.useState(3),[Ee,Oe]=w.useState(3),[tt,Ke]=w.useState([]),cn=["Italian","Mexican","Chinese","Japanese","Thai","Indian","American","Mediterranean","French","Korean","Vietnamese","Seafood","BBQ","Vegetarian","Vegan","Fast Food","Fine Dining"],[_n,fn]=w.useState(3),[hn,Ot]=w.useState(3),[Qe,En]=w.useState(3),[Tn,Vi]=w.useState(3),[ht,yt]=w.useState(3),[bn,ts]=w.useState(3);w.useEffect(()=>{(async()=>{if(!Et.currentUser)return;const Xn=await hc(Kt(ct,"users",Et.currentUser.uid));if(Xn.exists()){const Ye=Xn.data();e(Ye),m(Ye.flavorProfile?.savory||3),g(Ye.flavorProfile?.spiciness||3),E(Ye.flavorProfile?.sweetness||3),O(Ye.priceRange||3),Q(Ye.flavorProfile?.bitter||3),$(Ye.flavorProfile?.sour||3),j(Ye.flavorProfile?.umami||3),ue(Ye.flavorProfile?.rich||3),x(Ye.flavorProfile?.mild||3),N(Ye.textureProfile?.crunchy||3),k(Ye.textureProfile?.creamy||3),C(Ye.textureProfile?.chewy||3),de(Ye.textureProfile?.soft||3),oe(Ye.textureProfile?.crispy||3),Ie(Ye.aromaProfile?.fragrant||3),V(Ye.aromaProfile?.mild||3),ae(Ye.aromaProfile?.strong||3),ye(Ye.aromaProfile?.earthy||3),Oe(Ye.aromaProfile?.fresh||3),Ke(Ye.cuisinePreferences||[]),fn(Ye.environmentPreferences?.casual||3),Ot(Ye.environmentPreferences?.formal||3),En(Ye.environmentPreferences?.outdoor||3),Vi(Ye.environmentPreferences?.cozy||3),yt(Ye.environmentPreferences?.lively||3),ts(Ye.environmentPreferences?.quiet||3)}s(!1)})()},[]);const ns=async()=>{if(Et.currentUser){l(!0);try{const Vt={email:Et.currentUser.email,flavorProfile:{savory:c,spiciness:p,sweetness:v,...z!==3&&{bitter:z},...P!==3&&{sour:P},...Z!==3&&{umami:Z},...W!==3&&{rich:W},...le!==3&&{mild:le}},priceRange:A,...Mt()&&{textureProfile:{crunchy:I,creamy:L,chewy:D,soft:he,crispy:G}},...pi()&&{aromaProfile:{fragrant:ce,mild:xe,strong:J,earthy:re,fresh:Ee}},...tt.length>0&&{cuisinePreferences:tt},...Le()&&{environmentPreferences:{casual:_n,formal:hn,outdoor:Qe,cozy:Tn,lively:ht,quiet:bn}}};await nv(Kt(ct,"users",Et.currentUser.uid),Vt,{merge:!0}),alert("Profile saved successfully!")}catch(Vt){console.error("Error saving profile:",Vt),alert("Error saving profile: "+Vt.message)}finally{l(!1)}}},Mt=()=>I!==3||L!==3||D!==3||he!==3||G!==3,pi=()=>ce!==3||xe!==3||J!==3||re!==3||Ee!==3,Le=()=>_n!==3||hn!==3||Qe!==3||Tn!==3||ht!==3||bn!==3,Rn=Vt=>{tt.includes(Vt)?Ke(tt.filter(Xn=>Xn!==Vt)):Ke([...tt,Vt])},Ue=(Vt,Xn,Ye,to=!1)=>S.jsxs(ke.Group,{style:{marginBottom:"20px"},children:[S.jsxs(ke.Label,{children:[S.jsx("strong",{children:Vt})," ",to&&S.jsx("span",{style:{color:"red"},children:"*"})]}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[S.jsx(ke.Range,{min:"1",max:"5",value:Xn,onChange:Ln=>Ye(Number(Ln.target.value))}),S.jsx("span",{style:{fontWeight:"bold",minWidth:"20px"},children:Xn})]})]});return t?S.jsx(Fr,{style:{marginTop:"100px",textAlign:"center"},children:S.jsx("h3",{children:"Loading profile..."})}):S.jsxs(Fr,{style:{marginTop:"100px",maxWidth:"800px"},children:[S.jsx("h2",{children:"My Profile"}),S.jsxs("p",{style:{color:"#666",marginBottom:"30px"},children:["Fields marked with ",S.jsx("span",{style:{color:"red"},children:"*"})," are required. Optional fields help us find better matches for you!"]}),S.jsx(on,{style:{marginBottom:"20px"},children:S.jsxs(on.Body,{children:[S.jsx("h4",{children:"Required Preferences"}),S.jsx("hr",{}),S.jsx("h5",{children:"Basic Flavors"}),Ue("Savory",c,m,!0),Ue("Spiciness",p,g,!0),Ue("Sweetness",v,E,!0),S.jsx("hr",{}),S.jsx("h5",{children:"Price Range"}),Ue("Budget ($) to Luxury ($$$$$)",A,O,!0),S.jsx("small",{style:{color:"#666"},children:"1 = Budget-friendly, 3 = Moderate, 5 = Fine dining/Luxury"})]})}),S.jsxs(mn,{style:{marginBottom:"20px"},children:[S.jsxs(mn.Item,{eventKey:"0",children:[S.jsxs(mn.Header,{children:[S.jsx("strong",{children:"Optional: Additional Flavors"}),S.jsx("span",{style:{marginLeft:"10px",fontSize:"14px",color:"#666"},children:"(Improve your matches!)"})]}),S.jsxs(mn.Body,{children:[Ue("Bitter",z,Q),Ue("Sour",P,$),Ue("Umami",Z,j),Ue("Rich",W,ue),Ue("Mild",le,x)]})]}),S.jsxs(mn.Item,{eventKey:"1",children:[S.jsx(mn.Header,{children:S.jsx("strong",{children:"Optional: Texture Preferences"})}),S.jsxs(mn.Body,{children:[Ue("Crunchy",I,N),Ue("Creamy",L,k),Ue("Chewy",D,C),Ue("Soft",he,de),Ue("Crispy",G,oe)]})]}),S.jsxs(mn.Item,{eventKey:"2",children:[S.jsx(mn.Header,{children:S.jsx("strong",{children:"Optional: Aroma Preferences"})}),S.jsxs(mn.Body,{children:[Ue("Fragrant",ce,Ie),Ue("Mild",xe,V),Ue("Strong",J,ae),Ue("Earthy",re,ye),Ue("Fresh",Ee,Oe)]})]}),S.jsxs(mn.Item,{eventKey:"3",children:[S.jsx(mn.Header,{children:S.jsx("strong",{children:"Optional: Cuisine Preferences"})}),S.jsxs(mn.Body,{children:[S.jsx("p",{style:{marginBottom:"15px",color:"#666"},children:"Select all cuisines you enjoy:"}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px"},children:cn.map(Vt=>S.jsx(ke.Check,{type:"checkbox",label:Vt,checked:tt.includes(Vt),onChange:()=>Rn(Vt)},Vt))})]})]}),S.jsxs(mn.Item,{eventKey:"4",children:[S.jsx(mn.Header,{children:S.jsx("strong",{children:"Optional: Dining Environment"})}),S.jsxs(mn.Body,{children:[Ue("Casual",_n,fn),Ue("Formal",hn,Ot),Ue("Outdoor",Qe,En),Ue("Cozy",Tn,Vi),Ue("Lively/Energetic",ht,yt),Ue("Quiet",bn,ts)]})]})]}),S.jsx("div",{style:{textAlign:"center",marginTop:"30px"},children:S.jsx(kn,{variant:"primary",size:"lg",onClick:ns,disabled:o,children:o?"Saving...":"Save Profile"})})]})}function l3(){const i=Ka(),[e,t]=w.useState([]),[s,o]=w.useState(null),[l,c]=w.useState({}),[m,p]=w.useState(!1),[g,v]=w.useState("similarity");w.useEffect(()=>{if(!Et.currentUser){console.error("No user logged in");return}const j=GS(sr(ct,"users"),ue=>{t(ue.docs.map(le=>({id:le.id,...le.data()})))}),W=GS(Kt(ct,"users",Et.currentUser.uid),ue=>{o(ue.data())});return()=>{j(),W()}},[]),w.useEffect(()=>{if(!s?.following?.length)return;(async()=>{p(!0);const W={};try{const ue=await Ua(sr(ct,"restaurants"));for(const le of ue.docs)(await Ua(sr(ct,"restaurants",le.id,"reviews"))).docs.forEach(I=>{const N=I.data();s.following.includes(N.userId)&&(W[N.userId]||(W[N.userId]=[]),W[N.userId].push({id:I.id,restaurantId:le.id,restaurantName:le.data().name,...N}))});c(W)}catch(ue){console.error("Error fetching friend reviews:",ue)}finally{p(!1)}})()},[s?.following]);const E=async j=>{if(s){if(s.following?.includes(j)){alert("You're already following this user!");return}try{await hi(Kt(ct,"users",Et.currentUser.uid),{following:[...s.following||[],j]});const W=e.find(ue=>ue.id===j);await hi(Kt(ct,"users",j),{followers:[...W.followers||[],Et.currentUser.uid]}),alert("Bud added successfully!")}catch(W){console.error("Error adding bud:",W),alert("Failed to add bud")}}},A=async j=>{if(s)try{const W=(s.following||[]).filter(x=>x!==j);await hi(Kt(ct,"users",Et.currentUser.uid),{following:W});const le=(e.find(x=>x.id===j).followers||[]).filter(x=>x!==Et.currentUser.uid);await hi(Kt(ct,"users",j),{followers:le}),alert("Unfollowed successfully!")}catch(W){console.error("Error unfollowing:",W),alert("Failed to unfollow")}},O=(j,W)=>{if(!j||!W)return 0;let ue=0,le=0;const x=["savory","spiciness","sweetness"];let I=0;x.forEach(D=>{const C=j.flavorProfile?.[D]||0,he=W.flavorProfile?.[D]||0;I+=Math.abs(C-he)});const N=(15-I)/15*30;ue+=N,le+=30;const k=(5-Math.abs((j.priceRange||3)-(W.priceRange||3)))/5*20;if(ue+=k,le+=20,j.flavorProfile&&W.flavorProfile){const D=["bitter","sour","umami","rich","mild"],C=D.some(de=>j.flavorProfile[de]!==void 0),he=D.some(de=>W.flavorProfile[de]!==void 0);if(C&&he){let de=0,G=0;if(D.forEach(oe=>{j.flavorProfile[oe]&&W.flavorProfile[oe]&&(de+=Math.abs(j.flavorProfile[oe]-W.flavorProfile[oe]),G++)}),G>0){const oe=(G*5-de)/(G*5)*15;ue+=oe,le+=15}}}if(j.textureProfile&&W.textureProfile){const D=["crunchy","creamy","chewy","soft","crispy"];let C=0,he=0;if(D.forEach(de=>{j.textureProfile[de]&&W.textureProfile[de]&&(C+=Math.abs(j.textureProfile[de]-W.textureProfile[de]),he++)}),he>0){const de=(he*5-C)/(he*5)*10;ue+=de,le+=10}}if(j.cuisinePreferences?.length>0&&W.cuisinePreferences?.length>0){const D=j.cuisinePreferences.filter(de=>W.cuisinePreferences.includes(de)).length,C=new Set([...j.cuisinePreferences,...W.cuisinePreferences]).size,he=D/C*15;ue+=he,le+=15}if(j.environmentPreferences&&W.environmentPreferences){const D=["casual","formal","outdoor","cozy","lively","quiet"];let C=0,he=0;if(D.forEach(de=>{j.environmentPreferences[de]&&W.environmentPreferences[de]&&(C+=Math.abs(j.environmentPreferences[de]-W.environmentPreferences[de]),he++)}),he>0){const de=(he*5-C)/(he*5)*10;ue+=de,le+=10}}return le>0?ue/le*100:0},z=j=>S.jsx("div",{"aria-label":`Rating: ${j} out of 5 stars`,children:[...Array(5)].map((W,ue)=>S.jsx("span",{style:{color:ue<j?"#ffc107":"#e4e5e9"},"aria-hidden":"true",children:""},ue))}),Q=e.filter(j=>Et.currentUser&&j.id!==Et.currentUser.uid),P=e.filter(j=>s?.following?.includes(j.id)).map(j=>({...j,similarity:O(s,j)})),$=[...P].sort((j,W)=>g==="similarity"?W.similarity-j.similarity:0);return(()=>{const j=[];return P.forEach(W=>{(l[W.id]||[]).forEach(le=>{j.push({...le,friendEmail:W.email,friendSimilarity:W.similarity})})}),g==="similarity"?j.sort((W,ue)=>ue.friendSimilarity-W.friendSimilarity):g==="highest"?j.sort((W,ue)=>ue.rating-W.rating):g==="lowest"?j.sort((W,ue)=>W.rating-ue.rating):j})(),Et.currentUser?S.jsxs("div",{style:{display:"flex",padding:"20px",gap:"20px"},children:[S.jsxs("div",{style:{flex:2},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[S.jsx("h3",{children:"Friends Feed"}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[S.jsx(ke.Label,{htmlFor:"feed-sort-select",style:{fontWeight:"bold",marginBottom:0},children:"Sort by:"}),S.jsxs(ke.Select,{id:"feed-sort-select",value:g,onChange:j=>v(j.target.value),style:{padding:"8px 12px",fontSize:"14px",borderRadius:"5px",border:"1px solid #ccc",cursor:"pointer",width:"8rem"},children:[S.jsx("option",{value:"similarity",children:"Similar to Me"}),S.jsx("option",{value:"highest",children:"Highest Rated"}),S.jsx("option",{value:"lowest",children:"Lowest Rated"})]})]})]}),m&&S.jsx("p",{children:"Loading reviews..."}),!m&&P.length===0&&S.jsx("p",{style:{color:"#666",fontStyle:"italic"},children:"You're not following anyone yet. Add some buds to see their reviews!"}),!m&&$.map(j=>S.jsxs("div",{style:{marginBottom:"30px"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[S.jsxs("h5",{style:{cursor:"pointer",color:"#0d6efd",margin:0},onClick:()=>i(`/bud-profile/${j.id}`),onMouseEnter:W=>W.target.style.textDecoration="underline",onMouseLeave:W=>W.target.style.textDecoration="none",children:[j.email,"'s Reviews"]}),S.jsx("button",{onClick:()=>A(j.id),style:{padding:"5px 15px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},children:"Unfollow"})]}),l[j.id]&&l[j.id].length>0?l[j.id].map((W,ue)=>S.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",marginBottom:"10px",borderRadius:"5px",backgroundColor:"#f9f9f9"},children:[S.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:W.restaurantName}),S.jsx("div",{style:{marginBottom:"5px"},children:z(W.rating)}),S.jsx("p",{style:{margin:"10px 0"},children:W.text}),S.jsx("small",{style:{color:"#666"},children:W.timestamp?new Date(W.timestamp.seconds?W.timestamp.seconds*1e3:W.timestamp).toLocaleDateString():""})]},ue)):S.jsxs("p",{style:{color:"#666",fontStyle:"italic"},children:[j.email," hasn't posted any reviews yet."]})]},j.id))]}),S.jsxs("div",{style:{flex:1,borderLeft:"1px solid #ddd",paddingLeft:"20px"},children:[S.jsx("h3",{children:"All Users"}),Q.length===0?S.jsx("p",{style:{color:"#666",fontStyle:"italic"},children:"No other users yet."}):Q.map(j=>{const W=O(s,j);return S.jsx("div",{style:{padding:"10px",borderBottom:"1px solid #eee",marginBottom:"5px"},children:S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsxs("div",{children:[S.jsx("div",{style:{fontWeight:"500"},children:j.email}),j.flavorProfile&&S.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"3px"},children:[W.toFixed(0),"% taste match"]})]}),S.jsx(kn,{size:"sm",variant:s?.following?.includes(j.id)?"secondary":"primary",onClick:()=>E(j.id),disabled:s?.following?.includes(j.id),children:s?.following?.includes(j.id)?"Following":"Add Bud"})]})},j.id)})]})]}):S.jsx("div",{style:{padding:"20px",textAlign:"center"},children:S.jsx("h3",{children:"Please log in to see your buds"})})}function u3(){const i=Ka();return w.useEffect(()=>{(async()=>{try{await aM(Et),console.log("User logged out successfully"),i("/")}catch(t){console.error("Error logging out:",t),alert("Failed to log out. Please try again."),i("/")}})()},[i]),S.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"18px",color:"#666"},children:"Logging out..."})}function c3(){const{userId:i}=cN(),e=Ka(),[t,s]=w.useState(null),[o,l]=w.useState([]),[c,m]=w.useState(!0);w.useEffect(()=>{i&&(async()=>{m(!0);try{const Z=await hc(Kt(ct,"users",i));if(Z.exists())s({id:Z.id,...Z.data()});else{alert("User not found"),e("/mainfeed");return}const j=await Ua(sr(ct,"restaurants")),W=[];for(const ue of j.docs)(await Ua(sr(ct,"restaurants",ue.id,"reviews"))).docs.forEach(x=>{const I=x.data();I.userId===i&&W.push({id:x.id,restaurantId:ue.id,restaurantName:ue.data().name,...I})});W.sort((ue,le)=>{const x=ue.timestamp?.seconds||0;return(le.timestamp?.seconds||0)-x}),l(W)}catch(Z){console.error("Error fetching user profile:",Z),alert("Error loading profile")}finally{m(!1)}})()},[i,e]);const p=$=>S.jsx("div",{"aria-label":`Rating: ${$} out of 5 stars`,children:[...Array(5)].map((Z,j)=>S.jsx("span",{style:{color:j<$?"#ffc107":"#e4e5e9",fontSize:"20px"},"aria-hidden":"true",children:""},j))});if(c)return S.jsx(Fr,{style:{marginTop:"100px",textAlign:"center"},children:S.jsx("h3",{children:"Loading profile..."})});if(!t)return S.jsxs(Fr,{style:{marginTop:"100px",textAlign:"center"},children:[S.jsx("h3",{children:"User not found"}),S.jsx(kn,{onClick:()=>e("/mainfeed"),children:"Back to Main Feed"})]});const g=t.flavorProfile||{},v=t.textureProfile||{},E=t.aromaProfile||{},A=t.cuisinePreferences||[],O=t.environmentPreferences||{},z=t.priceRange||3,Q=o.length>0?(o.reduce(($,Z)=>$+Z.rating,0)/o.length).toFixed(1):"N/A",P=($,Z,j="#0d6efd")=>S.jsxs("div",{style:{marginBottom:"15px"},children:[S.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:"5px",fontSize:"14px"},children:$}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[S.jsx("div",{style:{flex:1,height:"20px",backgroundColor:"#e0e0e0",borderRadius:"10px",overflow:"hidden"},children:S.jsx("div",{style:{width:`${(Z||0)*20}%`,height:"100%",backgroundColor:j}})}),S.jsx("span",{style:{fontWeight:"bold",minWidth:"20px",fontSize:"14px"},children:Z||0})]})]});return S.jsxs(Fr,{style:{marginTop:"100px",maxWidth:"900px"},children:[S.jsx(kn,{variant:"outline-secondary",onClick:()=>e(-1),style:{marginBottom:"20px"},children:" Back"}),S.jsx(on,{style:{marginBottom:"30px"},children:S.jsxs(on.Body,{children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[S.jsxs("div",{children:[S.jsx("h2",{children:t.email}),S.jsxs("div",{style:{display:"flex",gap:"30px",marginTop:"15px"},children:[S.jsxs("div",{children:[S.jsx("strong",{children:"Total Likes:"})," ",t.totalLikes||0]}),S.jsxs("div",{children:[S.jsx("strong",{children:"Reviews:"})," ",o.length]}),S.jsxs("div",{children:[S.jsx("strong",{children:"Followers:"})," ",t.followers?.length||0]}),S.jsxs("div",{children:[S.jsx("strong",{children:"Following:"})," ",t.following?.length||0]})]})]}),S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("div",{style:{fontSize:"48px",fontWeight:"bold",color:"#0d6efd"},children:Q}),S.jsx("div",{style:{fontSize:"14px",color:"#666"},children:"Avg Rating"})]})]}),S.jsx("hr",{}),S.jsx("h4",{children:"Taste Preferences"}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",marginTop:"15px"},children:[P("Savory",g.savory,"#0d6efd"),P("Spiciness",g.spiciness,"#dc3545"),P("Sweetness",g.sweetness,"#ffc107"),P("Price Range ($-$$$)",z,"#28a745"),g.bitter&&P("Bitter",g.bitter,"#6c757d"),g.sour&&P("Sour",g.sour,"#20c997"),g.umami&&P("Umami",g.umami,"#fd7e14"),g.rich&&P("Rich",g.rich,"#6f42c1"),g.mild&&P("Mild",g.mild,"#17a2b8")]}),v&&Object.keys(v).length>0&&S.jsxs(S.Fragment,{children:[S.jsx("hr",{}),S.jsx("h4",{children:"Texture Preferences"}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",marginTop:"15px"},children:[v.crunchy&&P("Crunchy",v.crunchy,"#ff6b6b"),v.creamy&&P("Creamy",v.creamy,"#f9ca24"),v.chewy&&P("Chewy",v.chewy,"#6c5ce7"),v.soft&&P("Soft",v.soft,"#a29bfe"),v.crispy&&P("Crispy",v.crispy,"#fd79a8")]})]}),E&&Object.keys(E).length>0&&S.jsxs(S.Fragment,{children:[S.jsx("hr",{}),S.jsx("h4",{children:"Aroma Preferences"}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",marginTop:"15px"},children:[E.fragrant&&P("Fragrant",E.fragrant,"#00b894"),E.mild&&P("Mild",E.mild,"#74b9ff"),E.strong&&P("Strong",E.strong,"#e17055"),E.earthy&&P("Earthy",E.earthy,"#d63031"),E.fresh&&P("Fresh",E.fresh,"#55efc4")]})]}),A.length>0&&S.jsxs(S.Fragment,{children:[S.jsx("hr",{}),S.jsx("h4",{children:"Favorite Cuisines"}),S.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"15px"},children:A.map($=>S.jsx("span",{style:{backgroundColor:"#e3f2fd",color:"#1976d2",padding:"6px 12px",borderRadius:"15px",fontSize:"14px",fontWeight:"500"},children:$},$))})]}),O&&Object.keys(O).length>0&&S.jsxs(S.Fragment,{children:[S.jsx("hr",{}),S.jsx("h4",{children:"Dining Environment"}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",marginTop:"15px"},children:[O.casual&&P("Casual",O.casual,"#0984e3"),O.formal&&P("Formal",O.formal,"#2d3436"),O.outdoor&&P("Outdoor",O.outdoor,"#00b894"),O.cozy&&P("Cozy",O.cozy,"#fdcb6e"),O.lively&&P("Lively",O.lively,"#e17055"),O.quiet&&P("Quiet",O.quiet,"#6c5ce7")]})]})]})}),S.jsxs("h2",{style:{marginBottom:"20px"},children:["Reviews (",o.length,")"]}),o.length===0?S.jsx(on,{children:S.jsx(on.Body,{style:{textAlign:"center",color:"#666"},children:S.jsx("p",{children:"This user hasn't posted any reviews yet."})})}):o.map($=>S.jsx("div",{style:{marginBottom:"15px"},children:S.jsx(on,{children:S.jsxs(on.Body,{children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"10px"},children:[S.jsxs("div",{children:[S.jsx("h3",{style:{marginBottom:"5px",fontSize:"1.25rem"},children:$.restaurantName}),S.jsx("div",{children:p($.rating)})]}),S.jsx("div",{style:{fontSize:"14px",color:"#666"},children:$.timestamp?new Date($.timestamp.seconds*1e3).toLocaleDateString():""})]}),S.jsx("p",{style:{margin:"10px 0"},children:$.text}),S.jsxs("div",{style:{fontSize:"14px",color:"#666"},children:[" ",$.likes?.length||0," ",$.likes?.length===1?"like":"likes"]})]})})},$.id))]})}function f3(){return S.jsx(QN,{children:S.jsxs(bN,{children:[S.jsx(Pr,{path:"/",element:S.jsx(rD,{})}),S.jsx(Pr,{path:"/login",element:S.jsx(ZL,{})}),S.jsx(Pr,{path:"/signup",element:S.jsx(e3,{})}),S.jsx(Pr,{path:"/mainfeed",element:S.jsx(a3,{})}),S.jsx(Pr,{path:"/profile",element:S.jsx(o3,{})}),S.jsx(Pr,{path:"/buds",element:S.jsx(l3,{})}),S.jsx(Pr,{path:"/logout",element:S.jsx(u3,{})}),S.jsx(Pr,{path:"/bud-profile/:userId",element:S.jsx(c3,{})})]})})}ZC.createRoot(document.getElementById("root")).render(S.jsx(w.StrictMode,{children:S.jsx(n3,{children:S.jsx(f3,{})})}));
